/*
Navicat MySQL Data Transfer

Source Server         : test.yusure.cn
Source Server Version : 50173
Source Host           : qdm217407529.my3w.com:3306
Source Database       : qdm217407529_db

Target Server Type    : MYSQL
Target Server Version : 50173
File Encoding         : 65001

Date: 2018-01-03 17:53:13
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for typecho_comments
-- ----------------------------
DROP TABLE IF EXISTS `typecho_comments`;
CREATE TABLE `typecho_comments` (
  `coid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `cid` int(10) unsigned DEFAULT '0',
  `created` int(10) unsigned DEFAULT '0',
  `author` varchar(200) DEFAULT NULL,
  `authorId` int(10) unsigned DEFAULT '0',
  `ownerId` int(10) unsigned DEFAULT '0',
  `mail` varchar(200) DEFAULT NULL,
  `url` varchar(200) DEFAULT NULL,
  `ip` varchar(64) DEFAULT NULL,
  `agent` varchar(200) DEFAULT NULL,
  `text` text,
  `type` varchar(16) DEFAULT 'comment',
  `status` varchar(16) DEFAULT 'approved',
  `parent` int(10) unsigned DEFAULT '0',
  PRIMARY KEY (`coid`),
  KEY `cid` (`cid`) USING BTREE,
  KEY `created` (`created`) USING BTREE
) ENGINE=MyISAM AUTO_INCREMENT=26 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_comments
-- ----------------------------
INSERT INTO `typecho_comments` VALUES ('8', '83', '1459990497', 'Lee', '0', '1', 'hzljx2008@126.com', 'http://leerd.cn', '101.200.101.47', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36', '我自认为我比较笨，我都是一遍又一遍的去背去记！', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('10', '83', '1461239779', 'yusure', '1', '1', 'czhyusure@163.com', 'http://test.yusure.cn', '101.200.101.47', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36', '恭喜！已收录！', 'comment', 'approved', '8');
INSERT INTO `typecho_comments` VALUES ('11', '83', '1463636366', 'Carlyle', '0', '1', 'kongjunda2015@outlook.com', null, '101.200.101.47', 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36', '人是会坑人的，程序不会。', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('12', '109', '1465111261', 'slqgenius', '0', '1', 'slqgenius@126.com', null, '101.200.101.20', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.22 Safari/537.36', '牛逼', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('13', '83', '1486170946', '郑晓', '0', '1', 'zheng0000@vip.qq.com', 'https://www.zh30.com', '101.200.101.47', 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', '厉害了我的东哥', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('14', '178', '1508313039', '域名优惠码', '0', '1', 'hlphyc@126.com', 'http://www.goyouhuima.com/', '139.196.128.68', 'Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36', '朋友 交换链接吗', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('15', '28', '1508463550', '呵呵', '0', '1', '1239685026@qq.com', null, '140.205.127.172', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36', '兄弟你自己仔细测试过了嘛还是拿别人的，你去抓个大众点评试试', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('16', '169', '1509083547', '筱龙', '0', '1', '1165173120@qq.com', 'http://tyxzt.gotoip55.com/zhangxiaolong/index.html', '140.205.127.158', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3178.0 Safari/537.36', '为啥我的第二段文字就不管用了呀？求解决', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('17', '28', '1511227620', 'yusure', '1', '1', 'czhyusure@163.com', 'http://test.yusure.cn', '140.205.127.172', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36', '大众点评的当时是可以，就是用这段代码抓取的，现在已经不再那家公司了，不知道能不能用了。', 'comment', 'approved', '15');
INSERT INTO `typecho_comments` VALUES ('18', '83', '1511227893', 'Sheldon', '0', '1', 'xdlee110@gmail.com', 'http://xdlee.com', '139.196.128.82', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.62 Safari/537.36', '啥鸡巴玩意啊', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('19', '83', '1511227924', 'yusure', '1', '1', 'czhyusure@163.com', 'http://test.yusure.cn', '140.205.127.138', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36', '你忘记你说的话了吗？', 'comment', 'approved', '18');
INSERT INTO `typecho_comments` VALUES ('20', '175', '1511228029', 'Sheldon', '0', '1', 'xdlee110@gmail.com', 'http://xdlee.com', '140.205.127.157', 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.62 Safari/537.36', '用反射比较好', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('21', '169', '1511228105', 'yusure', '1', '1', 'czhyusure@163.com', 'http://test.yusure.cn', '140.205.127.169', 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36', '不好意思啊，刚看到，你现在问题解决了吗？没解决可以打包发我邮箱帮你看下', 'comment', 'approved', '16');
INSERT INTO `typecho_comments` VALUES ('22', '163', '1512537924', '青椒', '0', '1', '852914621@qq.com', 'http://junprivate.cn', '140.205.127.158', 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36', '已读', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('23', '146', '1512538446', '青椒', '0', '1', '852914621@qq.com', 'http://junprivate.cn', '140.205.127.164', 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36', '已读', 'comment', 'approved', '0');
INSERT INTO `typecho_comments` VALUES ('24', '169', '1513437513', 'user', '0', '1', '1@1.com', null, '140.205.127.158', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36', '啊啊啊', 'comment', 'approved', '21');
INSERT INTO `typecho_comments` VALUES ('25', '169', '1513437674', '筱龙', '0', '1', 'ulong@163.com', null, '140.205.127.158', 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36', '\r\n为啥我的第二段文字就不管用了呀？求解决', 'comment', 'approved', '0');

-- ----------------------------
-- Table structure for typecho_contents
-- ----------------------------
DROP TABLE IF EXISTS `typecho_contents`;
CREATE TABLE `typecho_contents` (
  `cid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(200) DEFAULT NULL,
  `slug` varchar(200) DEFAULT NULL,
  `created` int(10) unsigned DEFAULT '0',
  `modified` int(10) unsigned DEFAULT '0',
  `text` text,
  `order` int(10) unsigned DEFAULT '0',
  `authorId` int(10) unsigned DEFAULT '0',
  `template` varchar(32) DEFAULT NULL,
  `type` varchar(16) DEFAULT 'post',
  `status` varchar(16) DEFAULT 'publish',
  `password` varchar(32) DEFAULT NULL,
  `commentsNum` int(10) unsigned DEFAULT '0',
  `allowComment` char(1) DEFAULT '0',
  `allowPing` char(1) DEFAULT '0',
  `allowFeed` char(1) DEFAULT '0',
  `parent` int(10) unsigned DEFAULT '0',
  PRIMARY KEY (`cid`),
  UNIQUE KEY `slug` (`slug`) USING BTREE,
  KEY `created` (`created`) USING BTREE
) ENGINE=MyISAM AUTO_INCREMENT=186 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_contents
-- ----------------------------
INSERT INTO `typecho_contents` VALUES ('2', '关于', 'start-page', '1441113660', '1498315079', '<!--markdown--><p style=\"text-align: left; line-height: 1.5em;\"><span style=\"font-size: 18px;\"><strong>个人简介</strong></span></p><p style=\"line-height: 1.5em; text-align: justify;\">博主：Yusure &nbsp;<br/></p><p style=\"line-height: 1.5em; text-align: justify;\">技能：PHP、JS、Jquery、FreeBSD、Centos</p><p style=\"line-height: 1.5em; text-align: justify;\">编辑器：Sublime、PHPStorm</p><p style=\"line-height: 1.5em; text-align: justify;\">编程风格：Allman风格，花括号换行，参数左右空格。</p><p style=\"line-height: 1.5em; text-align: justify;\"><br/></p><p style=\"line-height: 1.5em;\">GitHub地址 &nbsp;&nbsp;<a href=\"https://github.com/yusureabc\" target=\"_blank\">https://github.com/yusureabc</a></p><p style=\"line-height: 1.5em; text-align: center;\"><a href=\"tencent://message/?uin=54460532&Site=-&Menu=yes\" target=\"_blank\" title=\"一起撸代码\" style=\"text-decoration: none;\"><strong>呼叫博主</strong></a></p>', '3', '1', null, 'page', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('58', 'PHP批量检测并去除文件BOM头代码实例', '58', '1452689554', '1452689554', '<!--markdown--><p>&nbsp;&nbsp;&nbsp;&nbsp;网站后台登陆的验证码不显示，我还以为是因为session没有写入权限呢，排查了一下不是目录权限问题，从网上查了说是BOM头的问题，用记事本打开的就会产生BOM头。附上清除bom头的小脚本，放到网站根目录执行就可以。<br/></p><pre class=\"brush:php;toolbar:false\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&lt;?php\r\nif&nbsp;(isset($_GET[&#39;dir&#39;]))&nbsp;{&nbsp;//设置文件目录&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$basedir&nbsp;=&nbsp;$_GET[&#39;dir&#39;];\r\n}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;$basedir&nbsp;=&nbsp;&#39;.&#39;;\r\n}&nbsp;&nbsp;\r\n&nbsp;$auto&nbsp;=&nbsp;1;\r\ncheckdir($basedir);&nbsp;\r\n&nbsp;function&nbsp;checkdir($basedir)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($dh&nbsp;=&nbsp;opendir($basedir))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(($file&nbsp;=&nbsp;readdir($dh))&nbsp;!==&nbsp;false)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($file&nbsp;!=&nbsp;&#39;.&#39;&nbsp;&amp;&amp;&nbsp;$file&nbsp;!=&nbsp;&#39;..&#39;)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!is_dir($basedir&nbsp;.&nbsp;&quot;/&quot;&nbsp;.&nbsp;$file))&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;filename:&nbsp;$basedir/$file&nbsp;&quot;&nbsp;.&nbsp;checkBOM(&quot;$basedir/$file&quot;)&nbsp;.&nbsp;&quot;&nbsp;&lt;br&gt;&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dirname&nbsp;=&nbsp;$basedir&nbsp;.&nbsp;&quot;/&quot;&nbsp;.&nbsp;$file;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkdir($dirname);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closedir($dh);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\nfunction&nbsp;checkBOM($filename)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;$auto;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$contents&nbsp;&nbsp;&nbsp;=&nbsp;file_get_contents($filename);\r\n&nbsp;&nbsp;&nbsp;&nbsp;$charset[1]&nbsp;=&nbsp;substr($contents,&nbsp;0,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;$charset[2]&nbsp;=&nbsp;substr($contents,&nbsp;1,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;$charset[3]&nbsp;=&nbsp;substr($contents,&nbsp;2,&nbsp;1);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(ord($charset[1])&nbsp;==&nbsp;239&nbsp;&amp;&amp;&nbsp;ord($charset[2])&nbsp;==&nbsp;187&nbsp;&amp;&amp;&nbsp;ord($charset[3])&nbsp;==&nbsp;191)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($auto&nbsp;==&nbsp;1)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$rest&nbsp;=&nbsp;substr($contents,&nbsp;3);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite($filename,&nbsp;$rest);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(&quot;&lt;font&nbsp;color=&#39;red&#39;&gt;BOM&nbsp;found,&nbsp;automatically&nbsp;removed.&lt;/font&gt;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(&quot;&lt;font&nbsp;color=&#39;red&#39;&gt;BOM&nbsp;found.&lt;/font&gt;&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(&quot;BOM&nbsp;Not&nbsp;Found.&quot;);\r\n}&nbsp;\r\n&nbsp;function&nbsp;rewrite($filename,&nbsp;$data)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;$filenum&nbsp;=&nbsp;fopen($filename,&nbsp;&quot;w&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;flock($filenum,&nbsp;LOCK_EX);\r\n&nbsp;&nbsp;&nbsp;&nbsp;fwrite($filenum,&nbsp;$data);\r\n&nbsp;&nbsp;&nbsp;&nbsp;fclose($filenum);\r\n}\r\n?&gt;</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('20', 'PHP大神的十大优良习惯', '20', '1442230740', '1442231330', '<!--markdown--><p><img alt=\"php-elephant.jpg.jpg\" src=\"/usr/uploads/2015/09/14/1442230706819365.jpg\" title=\"1442230706819365.jpg\"/><br/></p><h3><strong>1、多阅读手册和源代码</strong></h3><p>没什么比阅读手册更值得强调的事了–仅仅通过阅读手册你就可以学习到很多东西，特别是很多有关于字符串和数组的函数。就在这些函数里面包括许多有用\r\n的功能，如果你仔细阅读手册，你会经常发现在以往的项目开发过程中，很多时候你在“重复发明轮子”，而实际上你只需要一个核心函数就可以完成相应的功能。\r\n手册是你的朋友。另外，现在有很多使用PHP开发的开源程序。为什么不去学习和借鉴呢？下载一份开源的PHP应用程序的源代码，仔细阅读它吧。也许越大的\r\n项目越值得去阅读，虽然它们也许有更复杂的结构和系统，但也有更详细的解释文档。</p><!--more--><h3><strong>2、编写模块化代码</strong></h3><p>良好的PHP代码应该是模块化的代码。PHP的面向对象的编程功能是一些特别强大的工具，可以把你的应用程序分解成函数或方法。你应该尽可能多的从\r\n你的应用程序的服务器端分开前端的HTML/CSS/JavaScript代码，你也可以在任何PHP框架上遵循MVC（模型-视图-控制器）模式。</p><h3><strong>3、代码编写规范</strong></h3><p>良好的PHP代码应该有一套完整的代码编写规范。通过对变量和函数的命名，统一的方法访问数据库和对错误的处理，以及同样的代码缩进方式等来达到编程规范，这样可以使你的代码更具可读性。</p><h3><strong>4、编写可移植代码</strong></h3><p>良好的PHP代码应该是可移植的。你可以使用php的现有功能，如魔术引号和短标签。试着了解你的需求，然后通过适应PHP特性来编写代码让代码独立、可移植。</p><h3><strong>5、编写安全代码</strong></h3><p>良好的PHP代码应该是安全的。PHP5提供了出色的性能和灵活性。但是安全问题完全在于开发人员。对于一个专业的PHP开发人员来说，深入理解重\r\n大安全漏洞是至关重要的，如：跨站点脚本(XSS)、跨站请求伪造(CSRF)、代码注入漏洞、字符编码漏洞。通过使用PHP的特殊功能和函数，\r\n如：mysql_real_escape_string等等，你可以编写出安全的代码。</p><h3><strong>6、代码注释</strong></h3><p>代码注释是代码的重要组成部分。通过代码注释可以知道该变量或函数是做什么的，这将在今后的代码维护中十分有用。</p><h3><strong>7、使用单引号代替双引号</strong></h3><p>字符串始终使用单引号代替双引号，以避免PHP搜索字符串内的变量导致的性能下降。用单引号代替双引号来包含字符串，这样做会更快一些。因为PHP会在双引号包围的字符串中搜寻变量，单引号则不会</p><h3><strong>8、转义字符串输出</strong></h3><p>使用ENT_QUOTES作参数传递给htmlspecialchars函数，以确保单引号(‘)也转换成HTML实体，这是一个好习惯。</p><h3><strong>9、使用逗号分隔字符串输出</strong></h3><p>通过echo语句输出使用逗号(,)分隔的字符串，要比使用字符串连接操作符(.)的性能更好。</p><h3><strong>10、输出前检查传来的值</strong></h3><p>输出前检查传过来的值$_GET[‘query’]。使用isset或empty函数，可以用来检查变量是否为null值。</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('9', 'Freebsd利用crontab定时关机', '9', '1441885620', '1441960574', '<!--markdown--><p>\r\n    <strong>引子：</strong>\r\n</p>\r\n<p>\r\n    <strong>&nbsp;&nbsp;&nbsp;&nbsp;</strong><span style=\"font-size: 18px;\">公司发通知说要停电，OA系统备用电源也不能长时间支撑，所以要提前停掉OA服务器，以前做windows的计划任务关机，现在要用crontab实现Freebsd的定时关机。</span>\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;首先写了一个shutdown.sh的关机脚本\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">#! /bin/sh\r\nshutdown -p now</pre>\r\n<p>\r\n    在虚拟机上直接运行测试，效果还不错，立马关掉。\r\n</p><!--more-->\r\n<p>\r\n    马上crontab -e加到里面去\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">*/2 * * * * sh /shell/shutdown.sh</pre>\r\n<p>\r\n    这里我为了测试所以设置隔两分钟运行一次，对自己写的crontab不放心可以验证一下。\r\n</p>\r\n<p>\r\n    验证crontab的在线工具&nbsp; <a target=\"_blank\" href=\"http://tool.lu/crontab/\">http://tool.lu/crontab/</a> &nbsp;&nbsp;<a textvalue=\"http://www.atool.org/crontab.php\" target=\"_blank\" href=\"http://www.atool.org/crontab.php\">http://www.atool.org/crontab.php</a>&nbsp; <br/>\r\n</p>\r\n<p>\r\n    crontab设置完了之后不会立即生效，可以用命令重启一下cron\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">/etc/rc.d/cron restart</pre>\r\n<p>\r\n    过了一会，机器还是运行，并没有关闭，查看cron的日志&nbsp; <br/>\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">tail -f /var/log/cron</pre>\r\n<p>\r\n    日志里面是有运行记录的，我也查资料试了很多方法，都是失败的，最后我在Freebsd一个群里问得到答案。\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">#! /bin/sh\r\n/sbin/init 0    关闭电源\r\n/sbin/init 6    重新启动</pre>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;至此，定时关机算是实现了。\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>\r\n<p>\r\n    <strong>体会：</strong>\r\n</p>\r\n<p>\r\n    <strong>&nbsp;&nbsp;&nbsp;&nbsp;有些事情虽然看起来、听别人说起来都是那么简单，但是自己亲自尝试的时候会发现自己的很多不足，事情没有想那么美好，但也并没有那么坏。<br/></strong>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('15', 'Centos下安装svn客户端', '15', '1441895280', '1441960514', '<!--markdown--><p>\r\n    连接进入命令行\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">sudo  yum install -y subversion</pre>\r\n<p>\r\n    root&nbsp; 用户可以不用sudo\r\n</p>\r\n<p>\r\n    安装过程如图：\r\n</p>\r\n<p>\r\n    <img src=\"/usr/uploads/2015/09/10/1441894969446918.png\" style=\"\" title=\"1441894969446918.png\"/>\r\n</p><!--more-->\r\n<p>\r\n    <img src=\"/usr/uploads/2015/09/10/1441894969166472.png\" style=\"\" title=\"1441894969166472.png\"/>\r\n</p>\r\n<p>\r\n    <img src=\"/usr/uploads/2015/09/10/1441894969654212.png\" style=\"\" title=\"1441894969654212.png\"/>\r\n</p>\r\n<p>\r\n    安装完成后，发现已经有了svn相关命令\r\n</p>\r\n<p>\r\n    <br/><img src=\"/usr/uploads/2015/09/10/1441894969696153.png\" alt=\"1441894969696153.png\"/>\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('21', 'mysql语句：批量更新多条记录的不同值', '21', '1442318340', '1442318878', '<!--markdown--><p>\r\n    <span class=\"wp_keywordlink_affiliate\">mysql</span>更新语句很简单，更新一条数据的某个字段，一般这样写：\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">UPDATE mytable SET myfield = &#39;value&#39; WHERE other_field = &#39;other_value&#39;;</pre>\r\n<p>\r\n    如果更新同一字段为同一个值，<span class=\"wp_keywordlink_affiliate\">mysql</span>也很简单，修改下where即可：\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">UPDATE mytable SET myfield = &#39;value&#39; WHERE other_field in (&#39;other_values&#39;);</pre>\r\n<p>\r\n    这里注意 ‘other_values’ 是一个逗号（，）分隔的字符串，如：1,2,3\r\n</p>\r\n<p>\r\n    那如果更新多条数据为不同的值，可能很多人会这样写：\r\n</p>\r\n<pre class=\"brush:cpp;toolbar:false\">foreach ($display_order as $id =&gt; $ordinal) {\r\n    $sql = &quot;UPDATE categories SET display_order = $ordinal WHERE id = $id&quot;;\r\n    mysql_query($sql);\r\n}</pre>\r\n<p>\r\n    即是循环一条一条的更新记录。一条记录<span class=\"wp_keywordlink_affiliate\">update</span>一次，这样性能很差，也很容易造成阻塞。\r\n</p>\r\n<p>\r\n    那么能不能一条sql语句实现批量更新呢？mysql并没有提供直接的方法来实现批量更新，但是可以用点小技巧来实现。\r\n</p>\r\n<pre class=\"brush:cpp;toolbar:false\">UPDATE mytable\r\n    SET myfield = CASE id\r\n        WHEN 1 THEN &#39;value&#39;\r\n        WHEN 2 THEN &#39;value&#39;\r\n        WHEN 3 THEN &#39;value&#39;\r\n    END\r\nWHERE id IN (1,2,3)</pre>\r\n<!--more-->\r\n<p>\r\n    这里使用了case when 这个小技巧来实现批量更新。<br/>举个例子：\r\n</p>\r\n<pre class=\"brush:cpp;toolbar:false\">UPDATE categories\r\n    SET display_order = CASE id\r\n        WHEN 1 THEN 3\r\n        WHEN 2 THEN 4\r\n        WHEN 3 THEN 5\r\n    END\r\nWHERE id IN (1,2,3)</pre>\r\n<p>\r\n    这句sql的意思是，更新display_order 字段，如果id=1 则display_order 的值为3，如果id=2 则 display_order 的值为4，如果id=3 则 display_order 的值为5。<br/>即是将条件语句写在了一起。<br/>这里的where部分不影响代码的执行，但是会提高sql执行的效率。确保sql语句仅执行需要修改的行数，这里只有3条数据进行更新，而where子句确保只有3行数据执行。\r\n</p>\r\n<p>\r\n    如果更新多个值的话，只需要稍加修改：\r\n</p>\r\n<pre class=\"brush:cpp;toolbar:false\">UPDATE categories\r\n    SET display_order = CASE id\r\n        WHEN 1 THEN 3\r\n        WHEN 2 THEN 4\r\n        WHEN 3 THEN 5\r\n    END,\r\n    title = CASE id\r\n        WHEN 1 THEN &#39;New Title 1&#39;\r\n        WHEN 2 THEN &#39;New Title 2&#39;\r\n        WHEN 3 THEN &#39;New Title 3&#39;\r\n    END\r\nWHERE id IN (1,2,3)</pre>\r\n<p>\r\n    到这里，已经完成一条mysql语句更新多条记录了。<br/>但是要在业务中运用，需要结合服务端语言，这里以<a target=\"_blank\" href=\"http://test.yusure.cn/tag/PHP/\"><span class=\"wp_keywordlink_affiliate\">php</span></a>为例，构造这条mysql语句：\r\n</p>\r\n<pre class=\"brush:cpp;toolbar:false\">$display_order = array(\r\n    1 =&gt; 4,\r\n    2 =&gt; 1,\r\n    3 =&gt; 2,\r\n    4 =&gt; 3,\r\n    5 =&gt; 9,\r\n    6 =&gt; 5,\r\n    7 =&gt; 8,\r\n    8 =&gt; 9\r\n);\r\n$ids = implode(&#39;,&#39;, array_keys($display_order));\r\n$sql = &quot;UPDATE categories SET display_order = CASE id &quot;;\r\nforeach ($display_order as $id =&gt; $ordinal) {\r\n    $sql .= sprintf(&quot;WHEN %d THEN %d &quot;, $id, $ordinal);\r\n}\r\n$sql .= &quot;END WHERE id IN ($ids)&quot;;\r\necho $sql;</pre>\r\n<p>\r\n    这个例子，有8条记录进行更新。代码也很容易理解，你学会了吗？\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('24', '实用的php清除html,php去除空格与换行,php清除空白行和换行,提取页面纯文本', '24', '1442578457', '1442578457', '<!--markdown--><p>\r\n    实用的php清除html,换行，空格类,php去除空格与换行,php清除空白行和换行,<span class=\"wp_keywordlink_affiliate\">提取页面纯文本内容</span>\r\n</p>\r\n<p>\r\n    <span class=\"wp_keywordlink_affiliate\">方法一：</span>\r\n</p>\r\n<pre class=\"brush:bash;toolbar:false\">function DeleteHtml($str) \r\n{ \r\n    $str = trim($str); //清除字符串两边的空格\r\n    $str = preg_replace(&quot;/\\t/&quot;,&quot;&quot;,$str); //使用正则表达式替换内容，如：空格，换行，并将替换为空。\r\n    $str = preg_replace(&quot;/\\r\\n/&quot;,&quot;&quot;,$str); \r\n    $str = preg_replace(&quot;/\\r/&quot;,&quot;&quot;,$str); \r\n    $str = preg_replace(&quot;/\\n/&quot;,&quot;&quot;,$str); \r\n    $str = preg_replace(&quot;/ /&quot;,&quot;&quot;,$str);\r\n    $str = preg_replace(&quot;/  /&quot;,&quot;&quot;,$str);  //匹配html中的空格\r\n    return trim($str); //返回字符串\r\n}</pre>\r\n<!--more-->\r\n<p>\r\n    调用方法\r\n</p>\r\n<pre class=\"brush:bash;toolbar:false\">DeleteHtml($str);   $str 为需要清除的页面字符串</pre>\r\n<p>\r\n    <span class=\"wp_keywordlink_affiliate\"></span>方法二：<br/><span class=\"wp_keywordlink_affiliate\">strip_tags</span>() 函数剥去 HTML、XML 以及 PHP 的标签。<br/><span class=\"wp_keywordlink_affiliate\">strip_tags</span>() 函数官方介绍：<a title=\"strip_tags() 函数\" href=\"http://www.php.net/manual/zh/function.strip-tags.php\" target=\"_blank\"> http://www.php.net/manual/zh/function.strip-tags.php</a>\r\n</p>\r\n<p>\r\n    可以加入到以上方法中。<br/>\r\n</p>\r\n<pre class=\"brush:bash;toolbar:false\">function DeleteHtml($str) \r\n{ \r\n    $str = trim($str); //清除字符串两边的空格\r\n    $str = strip_tags($str,&quot;&quot;); //利用php自带的函数清除html格式\r\n    $str = preg_replace(&quot;/\\t/&quot;,&quot;&quot;,$str); //使用正则表达式替换内容，如：空格，换行，并将替换为空。\r\n    $str = preg_replace(&quot;/\\r\\n/&quot;,&quot;&quot;,$str); \r\n    $str = preg_replace(&quot;/\\r/&quot;,&quot;&quot;,$str); \r\n    $str = preg_replace(&quot;/\\n/&quot;,&quot;&quot;,$str); \r\n    $str = preg_replace(&quot;/ /&quot;,&quot;&quot;,$str);\r\n    $str = preg_replace(&quot;/  /&quot;,&quot;&quot;,$str);  //匹配html中的空格\r\n    return trim($str); //返回字符串\r\n}</pre>\r\n<p>\r\n    方法三：<br/>去除字符串内部的空行：\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">$str = preg_replace(&quot;/(s*?r?ns*?)+/&quot;,&quot;n&quot;,$str);</pre>\r\n<p>\r\n    去除全部的空行，包括内部和头尾：\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">$str = preg_replace(&#39;/($s*$)|(^s*^)/m&#39;, &#39;&#39;,$str);</pre>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('25', 'php中curl的详细解说 ', '25', '1442578987', '1442578987', '<!--markdown--><p>\r\n    <span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\">cURL可以使用URL的语法模拟浏览器来传输数据，</span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\">因为它是模拟浏览器，因此它同样支持多种协议，</span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">FTP, FTPS, HTTP, HTTPS, GOPHER, TELNET, DICT, FILE 以及 LDAP等协议都可以很好的支持，包括一些：</span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">HTTPS认证，HTTP POST方法，HTTP PUT方法，FTP上传，keyberos认证，HTTP上传，代理服务器，cookies，用户名/密码认证，</span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">下载文件断点续传，上传文件断点续传，http代理服务器管道，甚至它还支持IPv6，scoket5代理服务器，通过http代理服务器上传文件</span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">到FTP服务器等等。</span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">这就是我们为什么要使用cURL的原因！</span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">使用cURL完成简单的请求主要分为以下四步：</span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:微软雅黑\"><strong><span style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px; background-color:rgb(255,255,255)\">1.初始化，</span>创建一个新cURL资源</strong></span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:微软雅黑\"><strong><br/></strong></span></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:微软雅黑\"><strong>2.设置URL和相应的选项</strong></span></span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:微软雅黑\"><strong><br/></strong></span></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:微软雅黑\"><strong>3.抓取URL并把它传递给浏览器</strong></span></span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:微软雅黑\"><strong><br/></strong></span></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:微软雅黑\"><strong>4.关闭cURL资源，并且释放系统资源</strong></span></span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">我们来采集一个页面，通常情况下，我们会使用file_get_contents()函数来获取：</span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">像这样：</span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-family:arial,宋体,sans-serif\"><br/></span></span><span style=\"font-family:Simsun; background-color:rgb(248,251,252)\"></span>\r\n</p>\r\n  <!--more-->\r\n<pre class=\"brush:php;toolbar:false\">&lt;?php\r\n \r\n$str = file_get_contents(&#39;http://bbs.lampbrother.net&#39;);\r\n \r\n//或者是：\r\n \r\n$str = file(&quot;http://bbs.lampbrother.net&quot;);\r\n \r\n//或者是：\r\n \r\nreadfile(&quot;http://bbs.lampbrother.net&quot;);\r\n \r\n?&gt;</pre>\r\n<p>\r\n    <span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\">这样我们会发现，我们没有办法有效地进行错误处理，更重要的是我们没有办法完成一些高难度的任务：</span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">如：处理cookies，验证，表单提交，文件上传等等。</span></span></span><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\"><br/></span></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-family:Simsun; padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"><span style=\"font-size:18px\"><span style=\"font-family:微软雅黑\">好，现在我们来用代码完成上述cURL的四步：</span></span></span><br/>\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">&lt;?php\r\n \r\n//1.初始化，创建一个新cURL资源\r\n \r\n$ch = curl_init();\r\n \r\n//2.设置URL和相应的选项\r\n \r\ncurl_setopt($ch, CURLOPT_URL, &quot;http://test.yusure.cn/&quot;);\r\n \r\ncurl_setopt($ch, CURLOPT_HEADER, 0);\r\n \r\n//3.抓取URL并把它传递给浏览器\r\n \r\ncurl_exec($ch);\r\n \r\n//4.关闭cURL资源，并且释放系统资源\r\n \r\ncurl_close($ch);\r\n \r\n?&gt;</pre>\r\n<p>\r\n    <span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\">上述四步中，其中第二步最为关键，可以设置一些高级选项：</span></span><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\"><br/></span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\">例如上例中的<span style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px; background-color:rgb(247,247,247)\">CURLOPT_URL和</span><span style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px; background-color:rgb(247,247,247)\">CURLOPT_HEADER，分别代表“</span>需要获取的URL地址”和“启用时会将头文件的信息作为数据流输出”，这些只是冰山一角，我们还可以设置很多选项：</span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/>\r\n</p>\r\n<table class=\"read_form\" cellpadding=\"0\" cellspacing=\"0\" width=\"670\">\r\n    <tbody>\r\n        <tr class=\"firstRow\">\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"100\">\r\n                选项\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"470\">\r\n                可选<em>value</em>值\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"100\">\r\n                备注\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_AUTOREFERER</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                当根据<em>Location:</em>重定向时，自动设置header中的<em>Referer:</em>信息。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_BINARYTRANSFER</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在启用<strong>CURLOPT_RETURNTRANSFER</strong>的时候，返回原生的（Raw）输出。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_COOKIESESSION</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时curl会仅仅传递一个session cookie，忽略其他的cookie，默认状况下cURL会将所有的cookie返回给服务端。session cookie是指那些用来判断服务器端的session是否有效而存在的cookie。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_CRLF</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时将Unix的换行符转换成回车换行符。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_DNS_USE_GLOBAL_CACHE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会启用一个全局的DNS缓存，此项为线程安全的，并且默认启用。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FAILONERROR</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                显示HTTP状态码，默认行为是忽略编号小于等于400的HTTP信息。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FILETIME</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会尝试修改远程文档中的信息。结果信息会通过curl_getinfo()函数的<em>CURLINFO_FILETIME</em>选项返回。 curl_getinfo().\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FOLLOWLOCATION</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会将服务器服务器返回的<em>&quot;Location: &quot;</em>放在header中递归的返回给服务器，使用<strong>CURLOPT_MAXREDIRS</strong>可以限定递归返回的数量。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FORBID_REUSE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在完成交互以后强迫断开连接，不能重用。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FRESH_CONNECT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                强制获取一个新的连接，替代缓存中的连接。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FTP_USE_EPRT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时当FTP下载时，使用EPRT (或 LPRT)命令。设置为<strong>FALSE</strong>时禁用EPRT和LPRT，使用PORT命令 only.\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FTP_USE_EPSV</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时，在FTP传输过程中回复到PASV模式前首先尝试EPSV命令。设置为<strong>FALSE</strong>时禁用EPSV命令。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FTPAPPEND</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时追加写入文件而不是覆盖它。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FTPASCII</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong>CURLOPT_TRANSFERTEXT</strong>的别名。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FTPLISTONLY</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时只列出FTP目录的名字。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_HEADER</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会将头文件的信息作为数据流输出。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLINFO_HEADER_OUT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时追踪句柄的请求字符串。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                从 PHP 5.1.3 开始可用。<strong>CURLINFO_</strong>前缀是故意的(intentional)。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_HTTPGET</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会设置HTTP的method为GET，因为GET是默认是，所以只在被修改的情况下使用。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_HTTPPROXYTUNNEL</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会通过HTTP代理来传输。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_MUTE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时将cURL函数中所有修改过的参数恢复默认值。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_NETRC</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在连接建立以后，访问~/.netrc文件获取用户名和密码信息连接远程站点。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_NOBODY</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时将不对HTML中的BODY部分进行输出。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_NOPROGRESS</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <br/>启用时关闭curl传输的进度条，此项的默认设置为启用。\r\n                <blockquote style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                    <br/><strong>Note</strong>:&nbsp;<br/>PHP自动地设置这个选项为<strong>TRUE</strong>，这个选项仅仅应当在以调试为目的时被改变。&nbsp;<br/>\r\n                </blockquote><br/>&nbsp;\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_NOSIGNAL</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时忽略所有的curl传递给php进行的信号。在SAPI多线程传输时此项被默认启用。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                cURL 7.10时被加入。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_POST</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会发送一个常规的POST请求，类型为：<em>application/x-www-form-urlencoded</em>，就像表单提交的一样。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_PUT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时允许HTTP发送文件，必须同时设置<strong>CURLOPT_INFILE</strong>和<strong>CURLOPT_INFILESIZE</strong>。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_RETURNTRANSFER</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                将curl_exec()获取的信息以文件流的形式返回，而不是直接输出。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_SSL_VERIFYPEER</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                禁用后cURL将终止从服务端进行验证。使用<strong>CURLOPT_CAINFO</strong>选项设置证书使用<strong>CURLOPT_CAPATH</strong>选项设置证书目录 如果<strong>CURLOPT_SSL_VERIFYPEER</strong>(默认值为2)被启用，<strong>CURLOPT_SSL_VERIFYHOST</strong>需要被设置成<strong>TRUE</strong>否则设置为<strong>FALSE</strong>。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                自cURL 7.10开始默认为<strong>TRUE</strong>。从cURL 7.10开始默认绑定安装。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_TRANSFERTEXT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用后对FTP传输使用ASCII模式。对于LDAP，它检索纯文本信息而非HTML。在Windows系统上，系统不会把<em>STDOUT</em>设置成binary模式。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_UNRESTRICTED_AUTH</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在使用<strong>CURLOPT_FOLLOWLOCATION</strong>产生的header中的多个locations中持续追加用户名和密码信息，即使域名已发生改变。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_UPLOAD</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用后允许文件上传。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_VERBOSE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                启用时会汇报所有的信息，存放在<em>STDERR</em>或指定的<strong>CURLOPT_STDERR</strong>中。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n<p>\r\n    <br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\">对于下面的这些<em>option</em>的可选参数，<em>value</em>应该被设置一个integer类型的值：</span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\"><br/></span></span><span style=\"font-family:Simsun; background-color:rgb(248,251,252)\"></span>\r\n</p>\r\n<table class=\"read_form\" cellpadding=\"0\" cellspacing=\"0\" width=\"670\">\r\n    <tbody>\r\n        <tr class=\"firstRow\">\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"100\">\r\n                选项\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"470\">\r\n                可选<em>value</em>值\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"100\">\r\n                备注\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_BUFFERSIZE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                每次获取的数据中读入缓存的大小，但是不保证这个值每次都会被填满。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.10中被加入。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_CLOSEPOLICY</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                不是<em>CURLCLOSEPOLICY_LEAST_RECENTLY_USED</em>就是<em>CURLCLOSEPOLICY_OLDEST</em>，还存在另外三个<em>CURLCLOSEPOLICY_</em>，但是cURL暂时还不支持。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_CONNECTTIMEOUT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在发起连接前等待的时间，如果设置为0，则无限等待。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_CONNECTTIMEOUT_MS</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                尝试连接等待的时间，以毫秒为单位。如果设置为0，则无限等待。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.16.2中被加入。从PHP 5.2.3开始可用。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_DNS_CACHE_TIMEOUT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                设置在内存中保存DNS信息的时间，默认为120秒。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_FTPSSLAUTH</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                FTP验证方式：<em>CURLFTPAUTH_SSL</em>&nbsp;(首先尝试SSL)，<em>CURLFTPAUTH_TLS</em>&nbsp;(首先尝试TLS)或<em>CURLFTPAUTH_DEFAULT</em>&nbsp;(让cURL自动决定)。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.12.2中被加入。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_HTTP_VERSION</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <em>CURL_HTTP_VERSION_NONE</em>&nbsp;(默认值，让cURL自己判断使用哪个版本)，<em>CURL_HTTP_VERSION_1_0</em>&nbsp;(强制使用 HTTP/1.0)或<em>CURL_HTTP_VERSION_1_1</em>&nbsp;(强制使用 HTTP/1.1)。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_HTTPAUTH</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <br/>使用的HTTP验证方法，可选的值有：<em>CURLAUTH_BASIC</em>、<em>CURLAUTH_DIGEST</em>、<em>CURLAUTH_GSSNEGOTIATE</em>、<em>CURLAUTH_NTLM</em>、<em>CURLAUTH_ANY</em>和<em>CURLAUTH_ANYSAFE</em>。 可以使用<em>|</em>位域(或)操作符分隔多个值，cURL让服务器选择一个支持最好的值。&nbsp;<br/><em>CURLAUTH_ANY</em>等价于<em>CURLAUTH_BASIC | CURLAUTH_DIGEST | CURLAUTH_GSSNEGOTIATE | CURLAUTH_NTLM</em>.&nbsp;<em>CURLAUTH_ANYSAFE</em>等价于<em>CURLAUTH_DIGEST | CURLAUTH_GSSNEGOTIATE | CURLAUTH_NTLM</em>.\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_INFILESIZE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                设定上传文件的大小限制，字节(byte)为单位。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_LOW_SPEED_LIMIT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                当传输速度小于<strong>CURLOPT_LOW_SPEED_LIMIT</strong>时(bytes/sec)，PHP会根据<strong>CURLOPT_LOW_SPEED_TIME</strong>来判断是否因太慢而取消传输。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_LOW_SPEED_TIME</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                当传输速度小于<strong>CURLOPT_LOW_SPEED_LIMIT</strong>时(bytes/sec)，PHP会根据<strong>CURLOPT_LOW_SPEED_TIME</strong>来判断是否因太慢而取消传输。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_MAXCONNECTS</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                允许的最大连接数量，超过是会通过<strong>CURLOPT_CLOSEPOLICY</strong>决定应该停止哪些连接。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_MAXREDIRS</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                指定最多的HTTP重定向的数量，这个选项是和<strong>CURLOPT_FOLLOWLOCATION</strong>一起使用的。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_PORT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                用来指定连接端口。（可选项）\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_PROTOCOLS</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <br/><strong>CURLPROTO_*</strong>的位域指。如果被启用，位域值会限定libcurl在传输过程中有哪些可使用的协议。这将允许你在编译libcurl时支持众多协议，但是限制只是用它们中被允许使用的一个子集。默认libcurl将会使用全部它支持的协议。参见<strong>CURLOPT_REDIR_PROTOCOLS</strong>. 可用的协议选项为：<em>CURLPROTO_HTTP</em>、<em>CURLPROTO_HTTPS</em>、<em>CURLPROTO_FTP</em>、<em>CURLPROTO_FTPS</em>、<em>CURLPROTO_SCP</em>、<em>CURLPROTO_SFTP</em>、<em>CURLPROTO_TELNET</em>、<em>CURLPROTO_LDAP</em>、<em>CURLPROTO_LDAPS</em>、<em>CURLPROTO_DICT</em>、<em>CURLPROTO_FILE</em>、<em>CURLPROTO_TFTP</em>、<em>CURLPROTO_ALL</em>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.19.4中被加入。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_PROXYAUTH</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                HTTP代理连接的验证方式。使用在<strong>CURLOPT_HTTPAUTH</strong>中的位域标志来设置相应选项。对于代理验证只有<em>CURLAUTH_BASIC</em>和<em>CURLAUTH_NTLM</em>当前被支持。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.10.7中被加入。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_PROXYPORT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                代理服务器的端口。端口也可以在<strong>CURLOPT_PROXY</strong>中进行设置。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_PROXYTYPE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                不是<em>CURLPROXY_HTTP</em>&nbsp;(默认值) 就是<em>CURLPROXY_SOCKS5</em>。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.10中被加入。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_REDIR_PROTOCOLS</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong>CURLPROTO_*</strong>中的位域值。如果被启用，位域值将会限制传输线程在<strong>CURLOPT_FOLLOWLOCATION</strong>开启时跟随某个重定向时可使用的协议。这将使你对重定向时限制传输线程使用被允许的协议子集默认libcurl将会允许除FILE和SCP之外的全部协议。这个和7.19.4预发布版本种无条件地跟随所有支持的协议有一些不同。关于协议常量，请参照<strong>CURLOPT_PROTOCOLS</strong>。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.19.4中被加入。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_RESUME_FROM</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在恢复传输时传递一个字节偏移量（用来断点续传）。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_SSL_VERIFYHOST</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                1 检查服务器SSL证书中是否存在一个公用名(common name)。译者注：公用名(Common \r\nName)一般来讲就是填写你将要申请SSL证书的域名 (domain)或子域名(sub domain)。2 \r\n检查公用名是否存在，并且是否与提供的主机名匹配。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_SSLVERSION</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                使用的SSL版本(2 或 3)。默认情况下PHP会自己检测这个值，尽管有些情况下需要手动地进行设置。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_TIMECONDITION</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                如果在<strong>CURLOPT_TIMEVALUE</strong>指定的某个时间以后被编辑过，则使用<em>CURL_TIMECOND_IFMODSINCE</em>返回页面，如果没有被修改过，并且<strong>CURLOPT_HEADER</strong>为true，则返回一个<em>&quot;304 Not Modified&quot;</em>的header，&nbsp;<strong>CURLOPT_HEADER</strong>为false，则使用<em>CURL_TIMECOND_IFUNMODSINCE</em>，默认值为<em>CURL_TIMECOND_IFUNMODSINCE</em>。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_TIMEOUT</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                设置cURL允许执行的最长秒数。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_TIMEOUT_MS</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                设置cURL允许执行的最长毫秒数。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                在cURL 7.16.2中被加入。从PHP 5.2.3起可使用。\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_TIMEVALUE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                设置一个<strong>CURLOPT_TIMECONDITION</strong>使用的时间戳，在默认状态下使用的是<em>CURL_TIMECOND_IFMODSINCE</em>。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n<p>\r\n    <br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\">对于下面的这些<em>option</em>的可选参数，<em>value</em>应该被设置一个string类型的值：</span></span><br style=\"font-family:Simsun; background-color:rgb(248,251,252)\"/><span style=\"font-size:18px; font-family:Simsun; background-color:rgb(248,251,252)\"><span style=\"font-family:微软雅黑\"><br/></span></span><span style=\"font-family:Simsun; background-color:rgb(248,251,252)\"></span>\r\n</p>\r\n<table class=\"read_form\" cellpadding=\"0\" cellspacing=\"0\" width=\"670\">\r\n    <tbody>\r\n        <tr class=\"firstRow\">\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"100\">\r\n                选项\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"470\">\r\n                可选<em>value</em>值\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\" width=\"100\">\r\n                备注\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_CAINFO</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                一个保存着1个或多个用来让服务端验证的证书的文件名。这个参数仅仅在和<strong>CURLOPT_SSL_VERIFYPEER</strong>一起使用时才有意义。 .\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_CAPATH</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                一个保存着多个CA证书的目录。这个选项是和<strong>CURLOPT_SSL_VERIFYPEER</strong>一起使用的。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_COOKIE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                设定HTTP请求中<em>&quot;Cookie: &quot;</em>部分的内容。多个cookie用分号分隔，分号后带一个空格(例如， &quot;<em>fruit=apple; colour=red</em>&quot;)。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_COOKIEFILE</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                包含cookie数据的文件名，cookie文件的格式可以是Netscape格式，或者只是纯HTTP头部信息存入文件。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_COOKIEJAR</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                连接结束后保存cookie信息的文件。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_CUSTOMREQUEST</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <br/>使用一个自定义的请求信息来代替<em>&quot;GET&quot;</em>或<em>&quot;HEAD&quot;</em>作为HTTP请求。这对于执行<em>&quot;DELETE&quot;</em>&nbsp;或者其他更隐蔽的HTTP请求。有效值如<em>&quot;GET&quot;</em>，<em>&quot;POST&quot;</em>，<em>&quot;CONNECT&quot;</em>等等。也就是说，不要在这里输入整个HTTP请求。例如输入<em>&quot;GET /index.html HTTP/1.0 &quot;</em>是不正确的。\r\n                <blockquote style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                    <br/><strong>Note</strong>: 在确定服务器支持这个自定义请求的方法前不要使用。&nbsp;<br/>\r\n                </blockquote><br/>&nbsp;\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_EGDSOCKET</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                类似<strong>CURLOPT_RANDOM_FILE</strong>，除了一个Entropy Gathering Daemon套接字。\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                <strong><span style=\"color:rgb(0,176,80); padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">CURLOPT_ENCODING</span></strong>\r\n            </td>\r\n            <td style=\"padding-bottom:0px; padding-top:0px; padding-left:0px; margin:0px; padding-right:0px\">\r\n                HTTP请求头中<em>&quot;Accept-Encoding: &quot;</em>的值。支持的编码有<em>&quot;identity&quot;</em>，<em>&quot;deflate&quot;</em>和<em>&quot;gzip&quot;</em>。如果为空字符串<em>&quot;&quot;</em>，请求头会发送所有支持的编码类型。\r\n   ', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('26', 'php下获取http状态码的实现代码', '26', '1442583180', '1442583249', '<!--markdown--><p>整理了两种方式，大家可以自行参考/使用：</p><pre class=\"brush:php;toolbar:false\">方式一</pre><pre class=\"brush:php;toolbar:false\">$ch&nbsp;=&nbsp;curl_init(&#39;http://www.jb51.net&#39;);\r\ncurl_setopt($ch,&nbsp;CURLOPT_RETURNTRANSFER,&nbsp;1);\r\ncurl_exec($ch);\r\necho&nbsp;curl_getinfo($ch,&nbsp;CURLINFO_HTTP_CODE);&nbsp;//&nbsp;200\r\ncurl_close($ch);</pre><p><img alt=\"QQ图片20150918213220.png\" src=\"/usr/uploads/2015/09/18/1442583143532548.png\" title=\"1442583143532548.png\"/></p><!--more--><p><br/></p><p>方式二</p><pre class=\"brush:php;toolbar:false\">var_dump(&nbsp;get_headers(&nbsp;$url&nbsp;)&nbsp;);die;</pre><pre class=\"xdebug-var-dump\" dir=\"ltr\">array&nbsp;(size=11)\r\n&nbsp;&nbsp;0&nbsp;=&gt;&nbsp;string&nbsp;&#39;HTTP/1.1&nbsp;200&nbsp;OK&#39;&nbsp;(length=15)\r\n&nbsp;&nbsp;1&nbsp;=&gt;&nbsp;string&nbsp;&#39;Date:&nbsp;Fri,&nbsp;18&nbsp;Sep&nbsp;2015&nbsp;13:19:49&nbsp;GMT&#39;&nbsp;(length=35)\r\n&nbsp;&nbsp;2&nbsp;=&gt;&nbsp;string&nbsp;&#39;Server:&nbsp;Apache&#39;&nbsp;(length=14)\r\n&nbsp;&nbsp;3&nbsp;=&gt;&nbsp;string&nbsp;&#39;Set-Cookie:&nbsp;PHPSESSID=rq1m0j8q1pherqt5je9pkocfn3;&nbsp;path=/&#39;&nbsp;(length=56)\r\n&nbsp;&nbsp;4&nbsp;=&gt;&nbsp;string&nbsp;&#39;Expires:&nbsp;Thu,&nbsp;19&nbsp;Nov&nbsp;1981&nbsp;08:52:00&nbsp;GMT&#39;&nbsp;(length=38)\r\n&nbsp;&nbsp;5&nbsp;=&gt;&nbsp;string&nbsp;&#39;Cache-Control:&nbsp;private&#39;&nbsp;(length=22)\r\n&nbsp;&nbsp;6&nbsp;=&gt;&nbsp;string&nbsp;&#39;Pragma:&nbsp;no-cache&#39;&nbsp;(length=16)\r\n&nbsp;&nbsp;7&nbsp;=&gt;&nbsp;string&nbsp;&#39;X-Powered-By:&nbsp;ThinkPHP&#39;&nbsp;(length=22)\r\n&nbsp;&nbsp;8&nbsp;=&gt;&nbsp;string&nbsp;&#39;Set-Cookie:&nbsp;safedog-flow-item=616104C9D9913E8608C9D0A4901EEA8B;&nbsp;expires=Mon,&nbsp;25-Oct-2151&nbsp;16:31:05&nbsp;GMT;&nbsp;domain=php90.cn;&nbsp;path=/&#39;&nbsp;(length=126)\r\n&nbsp;&nbsp;9&nbsp;=&gt;&nbsp;string&nbsp;&#39;Connection:&nbsp;close&#39;&nbsp;(length=17)\r\n&nbsp;&nbsp;10&nbsp;=&gt;&nbsp;string&nbsp;&#39;Content-Type:&nbsp;text/html;&nbsp;charset=utf-8&#39;&nbsp;(length=38)</pre><p><img alt=\"QQ图片20150918210903.png\" src=\"/usr/uploads/2015/09/18/1442583041454233.png\" title=\"1442583041454233.png\"/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('28', 'php下curl模拟百度蜘蛛进行采集', '28', '1442755200', '1442755304', '<!--markdown--><p>\r\n    <strong>起因：</strong>\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;自己公司的商城，社区O2O需要采集一些评论，目标是美团，大众点评网的用户评论。\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;思路就是先找到网站的分页地址，分析参数，访问url获取内容，匹配内容入库。这里主要分享过大众点评防止采集的curl伪造代码。\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n</p>\r\n<!--more-->\r\n<pre class=\"brush:php;toolbar:false\">    /**\r\n     * cURL获取网页内容\r\n     * @author Yusure  哥哥要变百度蜘蛛了\r\n     * @param  [type] [param]\r\n     * @return [type] [description]\r\n     */\r\n    private function _GetContent( $url )\r\n    {\r\n        $this-&gt;ch = curl_init();\r\n        $this-&gt;ip = &#39;220.181.108.91&#39;;  // 百度蜘蛛\r\n        $this-&gt;timeout = 15;\r\n        curl_setopt($this-&gt;ch,CURLOPT_URL,$url);\r\n        curl_setopt($this-&gt;ch,CURLOPT_TIMEOUT,0);\r\n        //伪造百度蜘蛛IP  \r\n        curl_setopt($this-&gt;ch,CURLOPT_HTTPHEADER,array(&#39;X-FORWARDED-FOR:&#39;.$this-&gt;ip.&#39;&#39;,&#39;CLIENT-IP:&#39;.$this-&gt;ip.&#39;&#39;)); \r\n        //伪造百度蜘蛛头部\r\n        curl_setopt($this-&gt;ch,CURLOPT_USERAGENT,&quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&quot;);\r\n        curl_setopt($this-&gt;ch,CURLOPT_RETURNTRANSFER,1);\r\n        curl_setopt($this-&gt;ch,CURLOPT_HEADER,0);\r\n        curl_setopt($this-&gt;ch,CURLOPT_CONNECTTIMEOUT,$this-&gt;timeout);\r\n        $content = curl_exec($this-&gt;ch);\r\n        if($content === false)\r\n        {//输出错误信息\r\n            $no = curl_errno($this-&gt;ch);\r\n            switch(trim($no))\r\n            {\r\n                case 28 : $this-&gt;error = &#39;访问目标地址超时&#39;; break;\r\n                default : $this-&gt;error = curl_error($this-&gt;ch); break;\r\n            }\r\n            echo $this-&gt;error;\r\n        }\r\n        else\r\n        {\r\n            $this-&gt;succ = true;\r\n            return $content;\r\n        }\r\n    }</pre>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '2', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('30', 'PHP中file_put_contents追加和换行', '30', '1442799133', '1442799133', '<!--markdown--><p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;在PHP的一些应用中需要写日志或者记录一些信息，这样的话。可以使用fopen(),fwrite()以及 fclose()这些进行操作。也可以简单的使用file_get_contents()和file_put_contents().\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;file_put_contents()写文件。默认的是重新写文件，也就是会 替换原先的内容。追加的话使用参数FILE_APPEND.\r\n</p>\r\n<p>\r\n    以追加形式写入内容 当设置 flags 参数值为 FILE_APPEND 时，表示在已有文件内容后面追加内容的方式写入新数据：\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;FILE_APPEND：在文件末尾以追加的方式写入数据\r\n</p>\r\n<!--more-->\r\n<pre class=\"brush:php;toolbar:false\">int file_put_contents ( string filename, string data [, int flags [, resource context]] )\r\n \r\nfile_put_contents(&quot;log.txt&quot;, &quot;Hello world everyone.&quot;, FILE_APPEND);\r\n \r\n//参数说明：\r\nfilename    //要写入数据的文件名\r\ndata    //要写入的数据。类型可以是 string，array（但不能为多维数组），或者是 stream 资源\r\nflags   //可选，规定如何打开/写入文件。可能的值：\r\nFILE_USE_INCLUDE_PATH：//检查 filename 副本的内置路径\r\nFILE_APPEND：//在文件末尾以追加的方式写入数据\r\nLOCK_EX：//对文件上锁\r\ncontext //可选，Context是一组选项，可以通过它修改文本属性</pre>\r\n<p>\r\n    很多时候记录日志需要换行。不建议使用\\r\\n，因为：<br/>在windows中\\r\\n是换行<br/>在Mac中\\r是换行<br/>在Liunx中\\n是换行\r\n</p>\r\n<p>\r\n    但是PHP提供了一个常量来匹配不同的操作系统，即：\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">PHP_EOL\r\n \r\nfile_put_contents(&quot;log.txt&quot;, &quot;Hello world everyone.&quot;.PHP_EOL, FILE_APPEND);</pre>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('31', 'javascript获取URL参数', '31', '1443078214', '1443078214', '<!--markdown--><p><br/></p><p>直接上代码吧，网上找的</p><pre class=\"brush:js;toolbar:false\">function&nbsp;getQueryString(name)&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;reg&nbsp;=&nbsp;new&nbsp;RegExp(&quot;(^|&amp;)&quot;&nbsp;+&nbsp;name&nbsp;+&nbsp;&quot;=([^&amp;]*)(&amp;|$)&quot;,&nbsp;&quot;i&quot;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;r&nbsp;=&nbsp;window.location.search.substr(1).match(reg);\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(r&nbsp;!=&nbsp;null)&nbsp;return&nbsp;unescape(r[2]);&nbsp;return&nbsp;null;\r\n}</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('33', '好友关系数据表设计', '33', '1443250488', '1443250488', '<!--markdown--><p>商城网站需要自己维护好友关系，从知乎看到的思路，记录一下。<br/></p><p><br/></p><p>数据表三个字段<br/>&nbsp;&nbsp;&nbsp; 主键（自动生成）<br/>&nbsp;&nbsp;&nbsp; UserID1<br/>&nbsp;&nbsp;&nbsp; UserID2<br/><br/>注意事项<br/>&nbsp;&nbsp;&nbsp; &lt;UserID 1, UserID 2&gt; 和 &lt;UserID 2, UserID 1&gt; 是一样的记录，不要重复添加<br/>&nbsp;&nbsp;&nbsp; 为了快速判断两个人是不是好友，可以在程序层插入数据前加一个限制 UserID1 &lt; UserID2<br/>&nbsp;&nbsp;&nbsp; 为了快速得到一个人的好友列表，查询时用 UNION ALL，不是 UNION<br/>&nbsp;&nbsp;&nbsp; 如果为了再高效，加入缓存层（Redis 或 Memcached）<br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('34', 'PHP获取文件夹下随机一个文件', '34', '1443494978', '1443494978', '<!--markdown--><p>\r\n    <strong>起因：</strong>\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;&nbsp;商城上面会员头像不是很完整，我就想整一个头像包，为没有头像的随机选择一个，所以需要随机获取一张图片。\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>\r\n<p>\r\n    &nbsp;&nbsp;&nbsp;<img alt=\"QQ图片20150929104900.png\" src=\"/usr/uploads/2015/09/29/1443494943795632.png\" title=\"1443494943795632.png\"/>&nbsp;\r\n</p>\r\n<!--more-->\r\n<pre class=\"brush:php;toolbar:false\">    /**\r\n     * 随机获取图片\r\n     * @author Yusure  \r\n     * @date   2015-09-29\r\n     * @param  [param]\r\n     * @param  string     $folder     图片目录路径\r\n     * @param  string     $extensions 后缀\r\n     */</pre>\r\n<pre class=\"brush:php;toolbar:false\">function RandomFile($folder=&#39;&#39;, $extensions=&#39;.*&#39;){\r\n      // fix path:\r\n      $folder = trim($folder);\r\n      $folder = ($folder == &#39;&#39;) ? &#39;./&#39; : $folder;\r\n      // check folder:\r\n      if (!is_dir($folder)){ die(&#39;invalid folder given!&#39;); }\r\n      // create files array\r\n      $files = array();\r\n      // open directory\r\n      if ($dir = @opendir($folder)){\r\n        // go trough all files:\r\n        while($file = readdir($dir)){\r\n          if (!preg_match(&#39;/^\\.+$/&#39;, $file) and\r\n            preg_match(&#39;/\\.(&#39;.$extensions.&#39;)$/&#39;, $file)){\r\n            // feed the array:\r\n            $files[] = $file;        \r\n          }      \r\n        }    \r\n        // close directory\r\n        closedir($dir);  \r\n      }\r\n      else {\r\n        die(&#39;Could not open the folder &quot;&#39;.$folder.&#39;&quot;&#39;);\r\n      }\r\n      if (count($files) == 0){\r\n        die(&#39;No files where found :-(&#39;);\r\n      }\r\n      // seed random function:\r\n      mt_srand((double)microtime()*1000000);\r\n      // get an random index:\r\n      $rand = mt_rand(0, count($files)-1);\r\n      // check again:\r\n      if (!isset($files[$rand])){\r\n        die(&#39;Array index was not found! very strange!&#39;);\r\n      }\r\n      // return the random file:\r\n      return $files[$rand];\r\n    }</pre>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('35', 'PHP批量修改文件名', '35', '1443497040', '1443577805', '<!--markdown--><p><strong>缘由：</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;上一篇是说随机或取图片名称，我发现图片名称参差不齐，进一步改良。</p><p><br/></p><p>批量改名，修改成avatar_加时间戳 加 5位随机数。<br/></p><pre class=\"brush:php;toolbar:false\">&lt;?php&nbsp;&nbsp;\r\n&nbsp;&nbsp;$dir&nbsp;=&nbsp;&quot;D:\\\\wamp\\\\www\\\\phpgaoyipin\\\\branches\\\\local\\\\data\\\\upload\\\\o2o\\\\custom_avatar\\\\&quot;;&nbsp;&nbsp;//要获取的目录\r\n&nbsp;&nbsp;//先判断指定的路径是不是一个文件夹\r\n&nbsp;&nbsp;if&nbsp;(is_dir($dir)){\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($dh&nbsp;=&nbsp;opendir($dir)){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(($file&nbsp;=&nbsp;readdir($dh))!=&nbsp;false){\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//文件名的全路径&nbsp;包含文件名\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$filePath&nbsp;=&nbsp;$dir.$file;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$new_filePath&nbsp;=&nbsp;$dir.&#39;avatar_&#39;.time().mt_rand(&nbsp;10000,&nbsp;99999&nbsp;).&#39;.jpg&#39;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@rename(&nbsp;$filePath,&nbsp;$new_filePath&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closedir($dh);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;}\r\n?&gt;</pre><!--more--><p><strong>修改前后对比图</strong></p><p>修改前：</p><p><img alt=\"QQ图片20150929104900.png\" src=\"/usr/uploads/2015/09/29/1443496702710260.png\" title=\"1443496702710260.png\"/></p><p><br/></p><p>修改后：</p><p><img alt=\"QQ图片20150929111511.png\" src=\"/usr/uploads/2015/09/29/1443496719203826.png\" title=\"1443496719203826.png\"/></p><p><br/></p><p>处理之后的头像打包：</p><p style=\"line-height: 16px;\"><img style=\"vertical-align: middle; margin-right: 2px;\" src=\"/usr/plugins/UEditor/ueditor/dialogs/attachment/fileTypeImages/icon_rar.gif\"/><a style=\"font-size:12px; color:#0066cc;\" href=\"/usr/uploads/files/2015/09/30/1443577728236239.zip\" title=\"custom_avatar.zip\">custom_avatar.zip</a></p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('36', 'Android学习笔记', '36', '1443764640', '1443964001', '<!--markdown--><p>google android开发者官网 &nbsp;http://developer.android.com/</p><p>android开发工具&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"http://www.androiddevtools.cn/\" _src=\"http://www.androiddevtools.cn/\">http://www.androiddevtools.cn/</a></p><p><br/></p><p>安卓开发环境搭建<br/></p><p><br/></p><p>1、java环境 &nbsp; &nbsp;JDK<br/></p><p>2、安装android studio开发环境</p><p>3、创建ADV &nbsp; （android虚拟设备）</p><p>4、AS开发工具基本使用</p><p>5、创建hello world</p><!--more--><p><br/></p><p>AS 目录结构</p><p>manifests&nbsp;&nbsp;&nbsp;&nbsp;主配置文件<br/></p><p>java&nbsp;&nbsp;&nbsp;&nbsp;<br/></p><p>res<br/></p><p><br/></p><p>SDK命令</p><p>android命令<br/></p><p>adb命令</p><p>emulator命令<br/></p><p>mksdcard命令<br/></p><p><br/></p><p>android命令</p><p>创建、删除和浏览AVD设备</p><p>android list avds</p><p>android list targets</p><p>android create avd -n myavd -t 1</p><p>android delete avd -n myavd</p><p><br/></p><p><br/></p><p><br/></p><h3 class=\"series-exp-maintitle\" style=\"margin: 0px 0px 10px; padding: 0px; font-size: 16px; font-family: &#39;Microsoft Yahei&#39;, 宋体, arial, sans-serif; height: 20px; line-height: 20px; white-space: normal; background-color: rgb(255, 255, 255);\">Android开发学习 &nbsp;百度经验</h3><p><a href=\"http://jingyan.baidu.com/season/48891\" _src=\"http://jingyan.baidu.com/season/48891\">http://jingyan.baidu.com/season/48891</a> </p><p><br/></p><p><br/></p><h3 class=\"series-exp-maintitle\" style=\"margin: 0px 0px 10px; padding: 0px; font-size: 16px; font-family: &#39;Microsoft Yahei&#39;, 宋体, arial, sans-serif; height: 20px; line-height: 20px; white-space: normal; background-color: rgb(255, 255, 255);\">Android studio教程</h3><p>http://jingyan.baidu.com/season/44062</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('38', 'Android学习笔记20151003', '38', '1443872040', '1443963974', '<!--markdown--><p><strong>用户界面概述</strong></p><p>1、UI界面概述<strong><br/></strong></p><p>2、UI组件结构</p><p>3、Android中使用的数据单位</p><p><br/></p><p>UI组件概述</p><p>所有UI组件都称为View，一般分为两类：1是用于显示数据的组件，2是用于容纳组件的组件。<br/></p><p><img src=\"/usr/uploads/2015/10/03/1443872556164332.png\" title=\"1443872556164332.png\" alt=\"360反馈意见截图1659101789118114.png\"/></p><!--more--><p><br/></p><p>Android中使用的数据单位<br/></p><p><img src=\"/usr/uploads/2015/10/03/1443872945645760.png\" title=\"1443872945645760.png\" alt=\"360反馈意见截图16511006395860.png\"/></p><p><br/></p><p>常用&nbsp;</p><p><span style=\"color: rgb(255, 0, 0);\">dp</span>宽度高度 &nbsp; <span style=\"color: rgb(255, 0, 0);\">sp</span>字体</p><p><br/></p><p><strong>布局概述</strong></p><p>布局为UI提供了一个可视化的结构，比如对于一个activity或者app widget的UI。你可以用两种方式声明布局<strong><br/></strong></p><p>1、在XML中声明UI元素</p><p>2、在运行时实例化布局元素</p><p><img src=\"/usr/uploads/2015/10/03/1443873406101119.png\" title=\"1443873406101119.png\" alt=\"360反馈意见截图16460529507484.png\"/></p><p><br/></p><p>LinnerLayout &nbsp; 线性布局，按照水平或垂直方向布局组件。</p><pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;Consolas&#39;;font-size:12.0pt;\">android:layout_width=&quot;match_parent&quot;</pre><p><img src=\"/usr/uploads/2015/10/03/1443873490264714.png\" title=\"1443873490264714.png\" alt=\"360反馈意见截图16660108466533.png\"/></p><p>Ctrl + Alt + 空格 &nbsp;代码提示</p><pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;Consolas&#39;;font-size:12.0pt;\">android:layout_width=&quot;match_parent&quot;</pre><p>匹配父组件</p><pre style=\"font-size: 12pt; color: rgb(169, 183, 198); font-family: Consolas; background-color: rgb(43, 43, 43);\">android:layout_width=&quot;fill_parent&quot;</pre><p>同match_parent &nbsp;一样</p><pre style=\"font-size: 12pt; color: rgb(169, 183, 198); font-family: Consolas; background-color: rgb(43, 43, 43);\">android:layout_width=&quot;wrap_content&quot;</pre><p>包裹内容，内容有多少，布局宽度就有多大</p><p><br/></p><pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;Consolas&#39;;font-size:12.0pt;\">horizontal</pre><p>水平</p><pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:&#39;Consolas&#39;;font-size:12.0pt;\">vertical</pre><p>垂直</p><p><br/></p><p dir=\"ltr\">最终作品</p><p><img src=\"/usr/uploads/2015/10/03/1443878068217540.png\" title=\"1443878068217540.png\" alt=\"360反馈意见截图162412288996106.png\"/></p><p><br/></p><p>RelativeLayout &nbsp; 相对布局，相对其他组件的布局方式 &nbsp;编译器的默认布局</p><p><img src=\"/usr/uploads/2015/10/03/1443878411192199.png\" title=\"1443878411192199.png\" alt=\"360反馈意见截图16530714373954.png\"/></p><p><img src=\"/usr/uploads/2015/10/03/1443878564820820.png\" title=\"1443878564820820.png\" alt=\"360反馈意见截图1622043078124133.png\"/></p><p><img src=\"/usr/uploads/2015/10/03/1443879810265823.png\" title=\"1443879810265823.png\" alt=\"360反馈意见截图16570205527762.png\"/></p><p><br/></p><p><br/></p><p>TableLayout （了解，用的不是特别多） &nbsp;按照行列方式布局组件 &nbsp; &nbsp;配合TableRow</p><p><img src=\"/usr/uploads/2015/10/03/1443879974436115.png\" title=\"1443879974436115.png\" alt=\"360反馈意见截图16530720294021.png\"/></p><p><br/></p><p>FrameLayout&nbsp;&nbsp;&nbsp;&nbsp;帧布局，组件从屏幕的左上角坐标布局组件</p><p><br/></p><p>AbsoluteLayout(了解) &nbsp; 绝对布局，按照绝对坐标来布局，实际应用不提倡，因为固定了位置，进行屏幕旋转有明显弊端，已被废弃。</p><p><br/></p><p>GridLayout 网格布局，自android 4.0版本后新增 （API level 14）</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('42', 'JS中格式化数据保留两位小数', '42', '1444272420', '1444272420', '<!--markdown--><p style=\"line-height: 21px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">\r\n    问题：在JS中格式化数据保留两位小数的函数的多种方法\r\n</p>\r\n<p style=\"line-height: 21px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">\r\n    最好方法：\r\n</p>\r\n<p style=\"line-height: 21px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">\r\n    保留两位好像是这样吧&nbsp;&nbsp;&nbsp;<br/>&nbsp;\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">var   a   =   9.39393;   \r\nalert(a.toFixed(2));</pre>\r\n<!--more-->\r\n<p style=\"line-height: 21px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">\r\n    说明：\r\n</p>\r\n<p style=\"line-height: 21px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">\r\n    alert(Number.toFixed(9.39393));&nbsp;&nbsp;&nbsp;<br/>&nbsp; 返回的是9.39&nbsp;&nbsp;&nbsp;<br/>&nbsp; 但是只有ie5.5以上的版本才支持。\r\n</p>\r\n<p style=\"line-height: 21px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 14px; white-space: normal;\">\r\n    其它方法：\r\n</p>\r\n<pre class=\"brush:js;toolbar:false\">&lt;script&gt;   \r\n  tmp   =   &quot;1234567.57232&quot;   \r\n  result   =   tmp.substr(0,tmp.indexOf(&quot;.&quot;)+3);   \r\n  alert(result);   \r\n&lt;/script&gt;</pre>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('43', '在WAMPSERVER下增加多版本的PHP（PHP5.3，PHP5.4，PHP5.5）支持', '43', '1445608800', '1445608926', '<!--markdown--><p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <strong style=\"margin: 0px; padding: 0px;\"><a href=\"http://www.wampserver.com/en\" target=\"_blank\" style=\"margin: 0px; padding: 0px; text-decoration: none; color: rgb(0, 0, 0); border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(51, 51, 51);\">WAMPServer</a></strong>可以让开发者在Windows系统下快速搭建WAMP环境，它支持多版本的Apache、MySQL、PHP之间的相互切换，互不影响，对于PHPer开发者来讲极为方便快速。\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">以下是在WAMPServer下同时支持PHP5.3、PHP5.4、PHP5.5、PHP5.6的步骤：</span>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <strong style=\"margin: 0px; padding: 0px;\">1、安装WAMPServer</strong>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    根据自己的操作系统选择相应的WAMP版本，我这里选择WAMPSERVER-32 BITS &amp; PHP 5.5-2.5，双击安装，选择安装目录即可，超级简单。\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    根据我安装的版本，这里已经默认安装了PHP5.5.12，如下图，可以发现多了两个特别文件：<strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);\">phpForApache.ini</span></strong>、<strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);\">wampserver.conf</span></strong>。\r\n</p>\r\n<!--more-->\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <img src=\"/usr/uploads/2015/10/23/1445608726975880.png\" title=\"1445608726975880.png\" alt=\"171715131133989.png\"/>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <strong style=\"margin: 0px; padding: 0px;\">2、下载PHP二进制包</strong>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    PHP目前提供PHP5.3、PHP5.4、PHP5.5、PHP5.6版本，因为我安装的是WAMPSERVER-32 BITS，所以对应的PHP版本只能是32位，到<strong style=\"margin: 0px; padding: 0px;\"><a href=\"http://windows.php.net/download/\" target=\"_blank\" style=\"margin: 0px; padding: 0px; text-decoration: none; color: rgb(0, 0, 0); border-bottom-width: 1px; border-bottom-style: dotted; border-bottom-color: rgb(51, 51, 51);\">Windows PHP</a></strong>下载TS版本（<strong style=\"margin: 0px; padding: 0px;\">Thread-Safe-VC9-X86</strong>）对应的PHP二进制<strong style=\"margin: 0px; padding: 0px;\">ZIP</strong>包，并解压缩二进制包到WAMP安装目录，如D:\\wamp_2\\bin\\php下。\r\n</p>\r\n<p>\r\n    <img src=\"/usr/uploads/2015/10/23/1445608750590103.png\" title=\"1445608750590103.png\" alt=\"2.png\"/>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <strong style=\"margin: 0px; padding: 0px;\">3、增加PHP多版本支持</strong>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    以我的安装目录为参照，拷贝php5.5.12下的wampserver.conf文件<span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);\"><strong style=\"margin: 0px; padding: 0px;\">分别到</strong></span>PHP各版本目录；\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    以php5.6.3为例，拷贝目录下的<span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);\"><strong style=\"margin: 0px; padding: 0px;\">php.ini-development</strong></span>并重命名为<strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);\">phpForApache.ini</span></strong><span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(255, 0, 0);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 0);\">，根据自己要求修改phpForApache.ini里的PHP环境参数，保存退出；</span></span><span style=\"margin: 0px; padding: 0px; line-height: 1.8; color: rgb(0, 0, 0);\"><br style=\"margin: 0px; padding: 0px;\"/></span>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    以上完成了PHP5.6.3版本的添加，其它版本添加类似。\r\n</p>\r\n<p>\r\n    <img src=\"/usr/uploads/2015/10/23/1445608765588880.png\" title=\"1445608765588880.png\" alt=\"3.png\"/>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <strong style=\"margin: 0px; padding: 0px;\">4、选择PHP运行环境</strong>\r\n</p>\r\n<p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    重新打开WAMPServer管理器，选择想要运行的PHP版本环境。\r\n</p>\r\n<p>\r\n    <img src=\"/usr/uploads/2015/10/23/1445608782103815.png\" title=\"1445608782103815.png\" alt=\"4.png\"/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('44', 'Windows下mysql忘记root密码的解决方法', '44', '1449842134', '1449842134', '<!--markdown--><p style=\"line-height: 1.5; margin: 10px auto 10px 18pt; text-indent: -18pt;\"><span style=\"line-height: 1.5;\">1、&nbsp;</span><span style=\"line-height: 1.5; font-family: 宋体;\">首先检查</span>mysql<span style=\"line-height: 1.5; font-family: 宋体;\">服务是否启动，若已启动则先将其停止服务，可在开始菜单的运行，使用命令：</span></p><p><span style=\"font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19.5px; background-color: rgb(255, 255, 255);\">net stop mysql&nbsp;</span></p><p>如果拒绝方法就到服务里面结束掉。</p><p style=\"line-height: 1.5; margin: 10px auto; font-family: Calibri, sans-serif;\"><span style=\"line-height: 1.5; font-family: 宋体;\">打开第一个</span>cmd<span style=\"line-height: 1.5; font-family: 宋体;\">窗口，切换到</span>mysql<span style=\"line-height: 1.5; font-family: 宋体;\">的</span>bin<span style=\"line-height: 1.5; font-family: 宋体;\">目录，运行命令：</span></p><p style=\"line-height: 1.5; margin: 10px auto; font-family: Calibri, sans-serif;\"><strong><span style=\"line-height: 1.5; color: red;\">mysqld --defaults-file=&quot;C:\\Program Files\\MySQL\\MySQL Server 5.1\\my.ini&quot; --console --skip-grant-tables</span></strong></p><p style=\"line-height: 1.5; margin: 10px auto; font-family: Calibri, sans-serif;\"><strong><span style=\"line-height: 1.5; color: red;\"><strong style=\"font-family: Calibri, sans-serif; line-height: 24px; white-space: normal;\"><span style=\"line-height: 1.5; color: red;\">C:\\Program Files\\MySQL\\MySQL Server 5.1\\my.ini &nbsp;这个my.ini &nbsp;路径换成自己的</span></strong></span></strong></p><p style=\"line-height: 1.5; margin: 10px auto; font-family: Calibri, sans-serif;\"><span style=\"line-height: 1.5; font-family: 宋体;\">注释：</span></p><p><span style=\"font-family:Calibri, sans-serif;font-size: 13px; line-height: 19.5px; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5; font-family: 宋体;\">该命令通过跳过权限安全检查，开启</span>mysql<span style=\"line-height: 1.5; font-family: 宋体;\">服务，这样连接</span>mysql<span style=\"line-height: 1.5; font-family: 宋体;\">时，可以不用输入用户密码。</span>&nbsp;</span></p><!--more--><p><br/></p><p style=\"line-height: 1.5; margin: 10px auto;\">2<span style=\"line-height: 1.5; font-family: 宋体;\">、打开第二个</span>cmd<span style=\"line-height: 1.5; font-family: 宋体;\">窗口，连接</span>mysql<span style=\"line-height: 1.5; font-family: 宋体;\">：</span></p><p style=\"line-height: 1.5; margin: 10px auto;\"><span style=\"line-height: 1.5; font-family: 宋体;\">输入命令：</span></p><p style=\"line-height: 1.5; margin: 10px auto;\"><strong><span style=\"line-height: 1.5; color: red;\">mysql -uroot -p</span></strong></p><p style=\"line-height: 1.5; margin: 10px auto;\"><span style=\"line-height: 1.5; font-family: 宋体;\">出现：</span></p><p style=\"line-height: 1.5; margin: 10px auto;\">Enter password:</p><p style=\"line-height: 1.5; margin: 10px auto;\"><span style=\"line-height: 1.5; font-family: 宋体; color: red;\">在这里直接回车，不用输入密码。</span></p><p style=\"font-size: 13px; line-height: 19.5px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">然后就就会出现登录成功的信息，&nbsp;</p><p style=\"font-size: 13px; line-height: 19.5px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"font-size: 13px; line-height: 19.5px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"font-size: 13px; line-height: 19.5px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;使用命令：</p><p style=\"line-height: 1.5; margin: 10px auto;\"><strong><span style=\"line-height: 1.5; color: red;\">show databases;</span></strong></p><p style=\"line-height: 1.5; margin: 10px auto;\">&nbsp;</p><p style=\"line-height: 1.5; margin: 10px auto;\">&nbsp;</p><p style=\"line-height: 1.5; margin: 10px auto;\"><span style=\"line-height: 1.5; font-family: 宋体;\">使用命令切换到</span>mysql<span style=\"line-height: 1.5; font-family: 宋体;\">数据库：</span></p><p style=\"line-height: 1.5; margin: 10px auto;\"><strong><span style=\"line-height: 1.5; color: red;\">use mysql;</span></strong></p><p style=\"line-height: 1.5; margin: 10px auto;\"><span style=\"line-height: 1.5; font-family: 宋体;\">使用命令更改</span>root<span style=\"line-height: 1.5; font-family: 宋体;\">密码：</span></p><p style=\"line-height: 1.5; margin: 10px auto;\"><strong><span style=\"line-height: 1.5; color: red;\">UPDATE user SET Password=PASSWORD(&#39;newpassword&#39;) where USER=&#39;root&#39;;</span></strong></p><p style=\"line-height: 1.5; margin: 10px auto;\">&nbsp;</p><p style=\"line-height: 1.5; margin: 10px auto;\"><span style=\"line-height: 1.5; font-family: 宋体;\">刷新权限：</span></p><p style=\"line-height: 1.5; margin: 10px auto;\"><strong><span style=\"line-height: 1.5; color: red;\">FLUSH PRIVILEGES;</span></strong></p><p style=\"line-height: 1.5; margin: 10px auto;\">然后退出，重新登录：&nbsp;</p><p style=\"line-height: 1.5; margin: 10px auto;\"><strong><span style=\"line-height: 1.5; color: red;\">quit</span></strong></p><p style=\"font-size: 13px; line-height: 19.5px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">重新登录：&nbsp;</p><p style=\"line-height: 1.5; margin: 10px auto;\"><strong><span style=\"line-height: 1.5; color: red;\">mysql -uroot -p</span></strong></p><p style=\"line-height: 1.5; margin: 10px auto;\"><span style=\"line-height: 1.5; font-family: 宋体;\">出现输入密码提示，输入新的密码即可登录：</span></p><p style=\"line-height: 1.5; margin: 10px auto;\">Enter password: ***********</p><p style=\"font-size: 13px; line-height: 19.5px; margin: 10px auto; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; white-space: normal; background-color: rgb(255, 255, 255);\">显示登录信息：&nbsp;成功 &nbsp;就一切ok了</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('45', '遭遇IIS6的Connections_Refused错误，网站连静态页都无法显示', '45', '1450318522', '1450318522', '<!--markdown--><p>&nbsp;&nbsp;&nbsp;&nbsp;今天给客户跳转域名，发现解析之后域名打不开，我查看了其他的跳转域名，全服的都打不开了，第一反应是重启iis试试，没用，然后就去看日志。果然从日志看出了问题。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;打开&nbsp;<strong><span style=\"color: rgb(255, 0, 0);\">C:\\WINDOWS\\system32\\LogFiles\\HTTPERR</span></strong> 下的当天日志，发现众多的（数字）_Connections_refused （拒绝连接）。</p><p><br/></p><!--more--><p>&nbsp;&nbsp;&nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\">&nbsp;&nbsp;若要变通解决此问题，请添加到下面的注册表子项的 EnableAggressiveMemoryUsage 注册表项：<br/>　　HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\HTTP\\Parameters<br/>　　然后，将 EnableAggressiveMemoryUsage 注册表项设置为 1。</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\">　　若要执行此操作，请按照下列步骤操作：</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\"><br/>　　<strong>1.单击开始，单击运行，在打开框中，键入regedit，然后单击确定。<br/>　　2.请单击下面的注册表子项：<br/>　　　　HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\HTTP\\Parameters<br/>　　3.在编辑菜单上，指向新建，然后单击DWORD 值。<br/>　　4.键入EnableAggressiveMemoryUsage，，然后按 enter 键。<br/>　　5.在编辑菜单上，单击修改。<br/>　　6.在数值数据框中，键入1，然后单击确定。<br/>　　7.在文件菜单上，单击退出以退出注册表编辑器。<br/>　　8.重新启动 HTTP 服务。</strong></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\"><strong>　　a.单击开始，单击运行，在打开框中，键入cmd ，然后单击确定。<br/>　　b.在命令提示符下，键入net stop http /y，，然后按 enter 键。<br/>　　c.在命令提示符下，键入iisreset /restart，，然后按 ENTER。</strong></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\">　　此故障原因是：</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\">　　服务器上的可用非分页缓冲的池内存小于 20 兆字节 (MB) 时，将出现此问题。可用非分页缓冲的池内存小于 20 兆字节 (MB) 时，Http.sys 内核模式驱动程序将停止接受新连接。<br/>　　/3GB开关在 Boot.ini 文件在服务器上已启用的情况下，可能发生此问题。</p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\"><br/></p><p style=\"margin-top: 0px; margin-bottom: 1em; padding: 0px; color: rgb(55, 45, 37); font-family: 宋体, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 23.8px; text-align: justify; white-space: normal;\">按照上面步骤，问题解决！</p><p><strong>总结：遇到问题，不慌不忙，从日志看起，找到错误日志，定位问题，百度谷歌一顿撸，不行就求助。</strong></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('46', 'PHP中VC6、VC9、TS、NTS版本的区别与用法详解', '46', '1451051700', '1451051765', '<!--markdown--><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\"><strong style=\"text-indent: 0px;\">1． VC6与VC9的区别：</strong></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\"><span style=\"background: white;\">VC6</span>&nbsp;<span style=\"background: white;\">版本是使用</span>&nbsp;<span style=\"background: white;\">Visual Studio 6</span>&nbsp;<span style=\"background: white;\">编译器编译的，如果你的</span>&nbsp;<span style=\"background: white;\">PHP</span>&nbsp;<span style=\"background: white;\">是用</span>&nbsp;<span style=\"background: white;\">Apache</span>&nbsp;<span style=\"background: white;\">来架设的，那你就选择</span>&nbsp;<span style=\"background: white;\">VC6</span>&nbsp;<span style=\"background: white;\">版本。</span>&nbsp;<span style=\"background: white;\">&nbsp;VC9</span>&nbsp;<span style=\"background: white;\">版本是使用</span>&nbsp;<span style=\"background: white;\">Visual Studio 2008</span>&nbsp;<span style=\"background: white;\">编译器编译的，如果你的</span>&nbsp;<span style=\"background: white;\">PHP</span>&nbsp;<span style=\"background: white;\">是用</span>&nbsp;<span style=\"background: white;\">IIS</span>&nbsp;<span style=\"background: white;\">来架设的，那你就选择</span>&nbsp;<span style=\"background: white;\">VC9</span>&nbsp;<span style=\"background: white;\">版本。</span>&nbsp;<span style=\"background: white;\">&nbsp;VC9</span>&nbsp;<span style=\"background: white;\">版本是针对</span>&nbsp;<span style=\"background: white;\">IIS</span>&nbsp;<span style=\"background: white;\">服务器的版本，没有对</span>&nbsp;<span style=\"background: white;\">APACHE</span>&nbsp;<span style=\"background: white;\">的支持，而</span>&nbsp;<span style=\"background: white;\">VC6</span>&nbsp;<span style=\"background: white;\">版本对</span>&nbsp;<span style=\"background: white;\">IIS</span>&nbsp;<span style=\"background: white;\">和</span>&nbsp;<span style=\"background: white;\">apache</span>&nbsp;<span style=\"background: white;\">都提供了支持&nbsp;<br/><br/></span></p><!--more--><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\"><strong style=\"text-indent: 0px;\">2． Ts与nts的区别：</strong></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\">Windows版的PHP从版本5.2.1开始有Thread Safe和NoneThread Safe之分。</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\"><span style=\"background: white;\">先从字面意思上理解，Thread Safe</span>&nbsp;是线程安全，执行时会进行线程（Thread）安全检查，以防止有新要求就启动新线程的CGI执行方式而耗尽系统资源。Non Thread Safe是非线程安全，在执行时不进行线程（Thread）安全检查。<strong style=\"text-indent: 0px;\"><span style=\"background: white;\"></span></strong></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\"><strong style=\"text-indent: 0px;\">3．&nbsp;<span style=\"background: white;\">PHP</span>&nbsp;<span style=\"background: white;\">的两种执行方式：ISAPI</span>&nbsp;和FastCGI。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\"><span style=\"background: white;\">ISAPI</span>&nbsp;<span style=\"background: white;\">执行方式是以DLL</span>&nbsp;动态库的形式使用，可以在被用户请求后执行，在处理完一个用户请求后不会马上消失，所以需要进行线程安全检查，这样来提高程序的执行效率，所以如果是以ISAPI来执行PHP，建议选择ThreadSafe版本；&nbsp;<br/><br/>而FastCGI&nbsp;执行方式是以单一线程来执行操作，所以不需要进行线程的安全检查，除去线程安全检查的防护反而可以提高执行效率，所以，如果是以FastCGI来执行PHP，建议选择NonThread Safe版本。&nbsp;&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0.75em; line-height: 27.2px; text-indent: 1em; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Tahoma, Arial, STXihei, &#39;Microsoft YaHei&#39;, 微软雅黑, sans-serif; white-space: normal; background-color: rgb(254, 254, 254);\">通过phpinfo(); 查看其中的 Thread Safety 项，这个项目就是查看是否是线程安全，如果是：enabled，一般来说应该是ts版，否则是nts版。</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('47', 'IIS配置php运行环境默认加载的php.ini路径', '47', '1451111400', '1451127795', '<!--markdown--><p style=\"margin: 10px auto; padding: 0px; transition: all 0.3s ease-in-out;\"><strong style=\"margin: 0px; padding: 0px; transition: all 0.3s ease-in-out;\">第一步：</strong></p><p style=\"margin: 10px auto; padding: 0px; transition: all 0.3s ease-in-out;\">把PHP的安装路径添加到环境变量<strong style=\"margin: 0px; padding: 0px; transition: all 0.3s ease-in-out;\">Path</strong>中，右键&nbsp;“我的电脑” -&gt; 高级 -&gt; 环境变量 -&gt; 系统变量，追加 ;E:\\server\\ZkeysSoft\\php5.4</p><p style=\"margin: 10px auto; padding: 0px; transition: all 0.3s ease-in-out;\"><strong style=\"margin: 0px; padding: 0px; transition: all 0.3s ease-in-out;\">第二步：</strong></p><p style=\"margin: 10px auto; padding: 0px; transition: all 0.3s ease-in-out; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; line-height: 20.88px; white-space: normal; background-color: rgb(255, 255, 255);\">新建“系统变量”&nbsp;<strong style=\"margin: 0px; padding: 0px; transition: all 0.3s ease-in-out;\">PHPRC</strong>，值为&nbsp;E:\\server\\ZkeysSoft\\php5.4;</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('48', 'WIN2003+IIS6+FastCGI+PHP5.4的安装配置', '48', '1451127720', '1451127777', '<!--markdown--><p><span style=\"color: rgb(255, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; background-color: rgb(255, 255, 255);\">说明：PHP5.5已不支持win2003了，Win2003最高能安装PHP5.4</span></p><p><span style=\"color: rgb(255, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; background-color: rgb(255, 255, 255);\"></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">一、安装好IIS</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">具体安装方法可查看：<a href=\"http://down.chinaz.com/server/201102/11_1.htm\" style=\"color: rgb(233, 101, 14)\">http://down.chinaz.com/server/201102/11_1.htm</a>。</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">二、下载并安装IIS FastCGI</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">下载地址：<a href=\"http://www.iis.net/download/fastcgi\" style=\"color: rgb(233, 101, 14)\">http://www.iis.net/download/fastcgi</a>。选择 x86或者download x86，下载下来名称为fcgisetup_1.5_x86_rtw.msi。安装后会在C:\\WINDOWS\\system32\\inetsrv\\目录下多出了5个文件fcgiconfig.js,fcgiext.dll,fcgiext.ini,fcgilicense.rtf,fcgireadme.htm</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">这个时候在IIS6的&quot;WEB服务扩展&quot;里就多出了一个FastCGI Handler<br/><img src=\"/usr/uploads/2015/12/26/1451127636103796.png\" title=\"1451127636103796.png\" alt=\"图片1.png\"/></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><!--more--><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">三、下载安装IIS下的PHP5.4</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">下载地址<a href=\"http://windows.php.net/download/\" style=\"color: rgb(233, 101, 14)\">http://windows.php.net/download/</a>，下载VC9 x86 Non Thread Safe的ZIP版本，解压到所需目录，该目录需要给予user读取运行权限。</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">四、配置和修改内容</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">1、环境变量修改</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">我的电脑-&gt;属性-&gt;高级-&gt;环境变量-&gt;系统变量，在Path的最后面中加上;E:\\PHP\\</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">2、FastCGI安装目录内的修改(注册PHP到FastCGI)</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">打开C:\\WINDOWS\\system32\\inetsrv\\fcgiext.ini文件，在文件最后加上下面的语句：</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">[Types](这个是文件原来就有的，在[Types]后面加上下面的语句就可以，要全部哦不然会报错的。)<br/>php=PHP</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">[PHP]<br/>ExePath=E:\\PHP\\php-cgi.exe<br/>InstanceMaxRequests=10000</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">EnvironmentVars=PHP_FCGI_MAX_REQUESTS:10000</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">ActivityTimeout=3600<br/>RequestTimeout=3600<br/><br/>3、PHP.ini的修改，PHP安装目录下是没有PHP.ini这个文件的，只有php.ini-development和php.ini-production，我们把php.ini-development改为php.ini(当然如果你怕有错可以先备份一下)。<br/>注明：首先建一个文件夹命名为TMP，位置随意，我这里放在E:\\PHP\\tmp。 (upload_tmp_dir会用到，upload_tmp_dir是用来定义上传文件存放的临时路径，这里可以修改并给它定义一个绝对路径，同时需要有读、写权限)。用搜索(快捷键：Ctrl+F)的方式把下面的关键字改成现在的值：</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">short_open_tag = Off&nbsp;&nbsp;&nbsp; (这个它本来默认就是这样我们就不要改了。)<br/>把;upload_tmp_dir =改为upload_tmp_dir=&quot;E:\\PHP\\tmp&quot;&nbsp;&nbsp;&nbsp;<br/>把;cgi.force_redirect = 1改为cgi.force_redirect=0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>把;fastcgi.impersonate = 1;改为 fastcgi.impersonate=1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>把; extension_dir = &quot;ext&quot;改为extension_dir=&quot;E:\\PHP\\ext&quot;&nbsp;&nbsp;&nbsp;<br/>把;date.timezone =改为date.timezone =PRC(如果不修改date.timezone，打开网页的时候蛮有可能提示500错误。也有人把值改为Asia/Shanghai，我没试过你们可以试试。)&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">在Windows Extensions中去除扩展前面的分号(;):<br/>; extension=php_curl.dll<br/>; extension=php_gd2.dll<br/>; extension=php_ldap.dll<br/>; extension=php_mbstring.dll<br/>; extension=php_exif.dll<br/>; extension=php_mysql.dll<br/>; extension=php_mysqli.dll<br/>; extension=php_sockets.dll<br/>; extension=php_xmlrpc.dll</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\"><br/>4.Internet信息服务（IIS）管理器的修改<br/>(1)网站》属性》主目录》配置》添加<br/><br/></p><p><img src=\"/usr/uploads/2015/12/26/1451127673976520.png\" style=\"\" title=\"1451127673976520.png\"/></p><p><img src=\"/usr/uploads/2015/12/26/1451127673120794.png\" style=\"\" title=\"1451127673120794.png\"/></p><p><img src=\"/usr/uploads/2015/12/26/1451127673381304.png\" style=\"\" title=\"1451127673381304.png\"/></p><p><img src=\"/usr/uploads/2015/12/26/1451127673101856.png\" style=\"\" title=\"1451127673101856.png\"/></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp; &nbsp;&nbsp;<br/></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">可执行文件填写C:\\WINDOWS\\system32\\inetsrv\\fcgiext.dll</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">扩展名填写.php。</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">动作-&gt;限制为GET,HEAD,POST。</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">(2)网站-&gt;属性-&gt;文档-&gt;添加默认内容index.php。这里全部配置好了，一定要把IIS服务重启一下。</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">5、测试</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">用文本写一段测试代码：<br/>&lt;?php<br/>phpinfo();<br/>?&gt;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">保存为index.php，名字随便取，只要后缀是.php就可以。把index.php放到根目录下，我这里是C:\\Inetpub\\wwwroot，然后在浏览器中输入<a href=\"http://localhost/index.php\" style=\"color: rgb(233, 101, 14)\">http://localhost/index.php</a>就可以得到返回的信息了。</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">五、若出现如同下面的错误，说明你的电脑没有安装VC9运行库 即VISUAL C++ 2008</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">Microsoft Visual C++ 2008 Redistributable Package (x86)</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">下载地址：<a href=\"http://www.microsoft.com/downloads/zh-cn/details.aspx?FamilyID=9B2DA534-3E03-4391-8A4D-074B9F2BC1BF&displaylang=zh-cn\" style=\"color: rgb(233, 101, 14)\">http://www.microsoft.com/downloads/zh-cn/details.aspx?FamilyID=9B2DA534-3E03-4391-8A4D-074B9F2BC1BF&amp;displaylang=zh-cn</a></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">下载后安装就可以了。</p><p><br/></p><ol start=\"1\" style=\"font-size: 1em;line-height: 1.4em;margin-bottom: 1px;padding: 2px 0px;border: 1px solid rgb(209, 215, 220);color: rgb(43, 145, 175)\" class=\" list-paddingleft-2\"><li><p><span style=\"color: black\">FastCGI&nbsp;Error&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black\">The&nbsp;FastCGI&nbsp;Handler&nbsp;was&nbsp;unable&nbsp;to&nbsp;process&nbsp;the&nbsp;request.&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black\">-------------------------------------------------------&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black\">Error&nbsp;Details:&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black\">Error&nbsp;Number:&nbsp;14001&nbsp;(0x800736b1).&nbsp;&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black\">Error&nbsp;Description:&nbsp;????????????????????????????&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black\">HTTP&nbsp;Error&nbsp;500&nbsp;-&nbsp;Server&nbsp;Error.&nbsp;&nbsp;</span></p></li><li><p><span style=\"color: black\">Internet&nbsp;Information&nbsp;Services&nbsp;(IIS)&nbsp;&nbsp;</span></p></li></ol><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;font-family: Helvetica, Tahoma, Arial, sans-serif;font-size: 14px;line-height: 25.2px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p><span style=\"color: rgb(255, 0, 0); font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; background-color: rgb(255, 255, 255);\"><br/></span><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('54', 'Windows下的Memcache安装+dll文件+使用', '54', '1451272380', '1451273159', '<!--markdown--><p>\r\n    <br/>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;letter-spacing: 0;font-size: 19px\">&nbsp; 因为项目需要用到memcache，抽出时间来配置一下。</span>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;letter-spacing: 0;font-size: 19px\">&nbsp; 首先准备好memcache&nbsp;windows稳定版</span>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;letter-spacing: 0;font-size: 19px\">1、解压到你的磁盘目录，切到目录，cmd下运行&nbsp;&nbsp;</span><strong><span style=\"font-family: 宋体; letter-spacing: 0px; font-size: 19px; color: rgb(255, 0, 0); background: rgb(255, 255, 255);\">memcached.exe&nbsp;-d&nbsp;install</span></strong>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px;background: rgb(255, 255, 255)\">2、接着运行 <strong><span style=\"font-family: 宋体; letter-spacing: 0px; font-size: 19px; color: rgb(255, 0, 0); background: rgb(255, 255, 255);\">memcached.exe&nbsp;-d&nbsp;start</span></strong><span style=\"font-family: 宋体; letter-spacing: 0px; font-size: 19px; color: rgb(255, 0, 0); background: rgb(255, 255, 255);\">&nbsp;</span>以后memcached将作为windows的一个服务每次开机时自动启动。这样服务器端已经安装完毕了。</span>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px;background: rgb(255, 255, 255)\">3、php_memcache.dll，请自己查找对应的php版本的文件，放到ext目录下。</span>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px;background: rgb(255, 255, 255)\">找到php配置文件php.ini加入一行&nbsp;extension=php_memcache.dll</span>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px;background: rgb(255, 255, 255)\">4、查看模块是否安装</span>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px;background: rgb(255, 255, 255)\">新建一个.php文件，输入以下代码运行即可。</span>\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">&lt;?php\r\n    phpinfo();\r\n?&gt;</pre>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px;background: rgb(255, 255, 255)\">在出现的网页里面找memcache模块。</span>\r\n</p><!--more-->\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px\">&nbsp;</span>\r\n</p>\r\n<p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-weight: bold;font-size: 19px;background: rgb(245, 245, 245)\">memcached的基本设置</span><span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 19px;background: rgb(245, 245, 245)\">：</span>\r\n</p>\r\n<p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: 宋体;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 13px\">-p&nbsp;</span><span style=\";font-family:宋体;font-size:16px\">监听的端口</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-l&nbsp;连接的IP地址,&nbsp;默认是本机</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-d&nbsp;start&nbsp;启动memcached服务</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-d&nbsp;restart&nbsp;重起memcached服务</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-d&nbsp;stop|shutdown&nbsp;关闭正在运行的memcached服务</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-d&nbsp;install&nbsp;安装memcached服务</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-d&nbsp;uninstall&nbsp;卸载memcached服务</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-u&nbsp;以的身份运行&nbsp;(仅在以root运行的时候有效)</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-m&nbsp;最大内存使用，单位MB。默认64MB</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-M&nbsp;内存耗尽时返回错误，而不是删除项</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-c&nbsp;最大同时连接数，默认是1024</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-f&nbsp;块大小增长因子，默认是1.25</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-n&nbsp;最小分配空间，key+value+flags默认是48</span><span style=\";font-family:宋体;font-size:16px\"><br/></span><span style=\";font-family:宋体;font-size:16px\">-h&nbsp;显示帮助</span>\r\n</p>\r\n<p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\";font-family:宋体;font-size:16px\">&nbsp;</span>\r\n</p>\r\n<p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\">\r\n    <span style=\"font-family: &#39;Helvetica Neue&#39;;letter-spacing: 0;font-weight: bold;font-size: 13px;background: rgb(245, 245, 245)\">Memcache环境测试</span><span style=\"font-family: &#39;Helvetica Neue&#39;;letter-spacing: 0;font-size: 13px;background: rgb(245, 245, 245)\">：</span><span style=\"font-family: &#39;Helvetica Neue&#39;;letter-spacing: 0;font-size: 13px;background: rgb(245, 245, 245)\"><br/></span><span style=\"font-family: 宋体;letter-spacing: 0;font-size: 14px\">运行下面的php文件，如果有输出This&nbsp;is&nbsp;a&nbsp;test!，就表示环境搭建成功。开始领略Memcache的魅力把！</span>\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">&lt;?php\r\n    $mem = new Memcache;\r\n    $mem-&gt;connect(&#39;127.0.0.1&#39;, 11211);\r\n    $mem-&gt;set(&#39;key&#39;, &#39;This is a test!&#39;, 0, 60);\r\n    $val = $mem-&gt;get(&#39;key&#39;);\r\n    echo $val;\r\n?&gt;</pre>\r\n<p>\r\n    <br/>\r\n</p>\r\n<p>\r\n    所需工具下载：\r\n</p>\r\n<p>\r\n    <a href=\"http://pan.baidu.com/s/1skyRdIt\" target=\"_blank\">http://pan.baidu.com/s/1skyRdIt</a>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('59', 'PHP中9大缓存技术总结', '59', '1452768960', '1452769093', '<!--markdown--><h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    1、全页面静态化缓存\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    也就是将页面全部生成html静态页面，用户访问时直接访问的静态页面，而不会去走php服务器解析的流程。此种方式，在CMS系统中比较常见，比如dedecms；\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    一种比较常用的实现方式是用输出缓存：\r\n</p>\r\n<pre class=\"prettyprint\" style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; color: rgb(0, 0, 102); font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">Ob_start()******要运行的代码*******$content = Ob_get_contents();****将缓存内容写入html文件*****Ob_end_clean();</pre>\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    2、页面部分缓存\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    该种方式，是将一个页面中不经常变的部分进行静态缓存，而经常变化的块不缓存，最后组装在一起显示；可以使用类似于ob_get_contents的方式实现，也可以利用类似ESI之类的页面片段缓存策略，使其用来做动态页面中相对静态的片段部分的缓存(ESI技术，请baidu，此处不详讲)。\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    该种方式可以用于如商城中的商品页；\r\n</p>\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    3、数据缓存\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    顾名思义，就是缓存数据的一种方式；比如，商城中的某个商品信息，当用商品id去请求时，就会得出包括店铺信息、商品信息等数据，此时就可以将这些数据缓存到一个php文件中，文件名包含商品id来建一个唯一标示；下一次有人想查看这个商品时，首先就直接调这个文件里面的信息，而不用再去数据库查询；其实缓存文件中缓存的就是一个php数组之类；\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    Ecmall商城系统里面就用了这种方式；\r\n</p>\r\n<!--more-->\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    4、查询缓存\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    其实这跟数据缓存是一个思路，就是根据查询语句来缓存；将查询得到的数据缓存在一个文件中，下次遇到相同的查询时，就直接先从这个文件里面调数据，不会再去查数据库；但此处的缓存文件名可能就需要以查询语句为基点来建立唯一标示；\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    按时间变更进行缓存\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    其实，这一条不是真正的缓存方式；上面的2、3、4的缓存技术一般都用到了时间变更判断；就是对于缓存文件您需要设一个有效时间，在这个有效时间内，相同的访问才会先取缓存文件的内容，但是超过设定的缓存时间，就需要重新从数据库中获取数据，并生产最新的缓存文件；比如，我将我们商城的首页就是设置2个小时更新一次；\r\n</p>\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    5、按内容变更进行缓存\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    这个也并非独立的缓存技术，需结合着用；就是当数据库内容被修改时，即刻更新缓存文件；<br/>比如，一个人流量很大的商城，商品很多，商品表必然比较大，这表的压力也比较重；我们就可以对商品显示页进行页面缓存；\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    当商家在后台修改这个商品的信息时，点击保存，我们同时就更新缓存文件；那么，买家访问这个商品信息时，实际上访问的是一个静态页面，而不需要再去访问数据库；\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    试想，如果对商品页不缓存，那么每次访问一个商品就要去数据库查一次，如果有10万人在线浏览商品，那服务器压力就大了；\r\n</p>\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    6、内存式缓存\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    提到这个，可能大家想到的首先就是Memcached；memcached是高性能的分布式内存缓存服务器。 一般的使用目的是，通过缓存数据库查询结果，减少数据库访问次数，以提高动态Web应用的速度、 提高可扩展性。\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    它就是将需要缓存的信息，缓存到系统内存中，需要获取信息时，直接到内存中取；比较常用的方式就是 key–&gt;value方式；\r\n</p>\r\n<pre class=\"prettyprint\" style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; color: rgb(0, 0, 102); font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">&lt;?php \r\n     $memcachehost = &#39;192.168.6.191&#39;;\r\n     $memcacheport = 11211;\r\n     $memcachelife = 60;\r\n     $memcache = new Memcache;\r\n     $memcache-&gt;connect($memcachehost,$memcacheport) or die (&quot;Could not connect&quot;);\r\n     $memcache-&gt;set(&#39;key&#39;,&#39;缓存的内容&#39;);\r\n     $get = $memcache-&gt;get($key);       //获取信息?&gt;</pre>\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    7、apache缓存模块\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    apache安装完以后，是不允许被cache的。如果外接了cache或squid服务器要求进行web加速的话，就需要在htttpd.conf里进行设置，当然前提是在安装apache的时候要激活mod_cache的模块。\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    安装apache时：./configure –enable-cache –enable-disk-cache –enable-mem-cache\r\n</p>\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    8、php APC缓存扩展\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    Php有一个APC缓存扩展，windows下面为php_apc.dll，需要先加载这个模块，然后是在php.ini里面进行配置：\r\n</p>\r\n<pre class=\"prettyprint\" style=\"padding: 0px; margin-top: 0px; margin-bottom: 0px; color: rgb(0, 0, 102); font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">[apc] \r\n     extension=php_apc.dll \r\n     apc.rfc1867 = on \r\n     upload_max_filesize = 100M \r\n     post_max_size = 100M \r\n     apc.max_file_size = 200M \r\n     upload_max_filesize = 1000M \r\n     post_max_size = 1000M \r\n     max_execution_time = 600 ;   每个PHP页面运行的最大时间值(秒)，默认30秒 \r\n     max_input_time = 600 ;       每个PHP页面接收数据所需的最大时间，默认60 \r\n     memory_limit = 128M ;       每个PHP页面所吃掉的最大内存，默认8M</pre>\r\n<h2 style=\"padding: 0px 0px 0px 30px; margin: 20px 0px; font-size: 21px; position: relative; left: -20px; height: 40px; line-height: 35px; white-space: normal; color: rgb(0, 107, 173); font-family: verdana, arial, helvetica, sans-serif; background: url(&quot;../../../../images/php100/green_ico.png&quot;) no-repeat rgb(255, 255, 255);\">\r\n    9、Opcode缓存\r\n</h2>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    我们知道，php的执行流程可以用下图来展示：<br/><img alt=\"图片描述\" src=\"/usr/uploads/2016/01/14/1452768941124533.jpg\" style=\"vertical-align: top; border: none;\"/><br/>首先php代码被解析为Tokens，然后再编译为Opcode码，最后执行Opcode码，返回结果；所以，对于相同的php文件，第一次运行时可以缓存其Opcode码，下次再执行这个页面时，直接会去找到缓存下的opcode码，直接执行最后一步，而不再需要中间的步骤了。\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    比较知名的是XCache、Turck MM Cache、PHP Accelerator等。\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    <br/>\r\n</p>\r\n<p style=\"padding: 3px 0px; margin: 10px auto; white-space: normal; color: rgb(0, 0, 102); font-family: verdana, arial, helvetica, sans-serif; font-size: 13px; line-height: 19px; background-color: rgb(255, 255, 255);\">\r\n    原文链接：http://www.php100.com/html/php/lei/2015/0919/8969.html\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('50', '在WIN2008R2的IIS7环境下安装PHP5.6', '50', '1451129520', '1451129576', '<!--markdown--><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">1、下载PHP5.6</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">在http://windows.php.net/download页面中找到VC11 x64 Non Thread Safe下载ZIP版。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">2、将下载的压缩包解压到D盘PHP文件夹中。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">3、复制D:\\php\\php.ini-development为php.ini，并用记事本打开php.ini</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">做如下修改：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension_dir = &quot;D:\\php\\ext&quot; #设置php模块路径</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">date.timezone = PRC #设置时区为中国时区</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">register_globals = On #开启GET数据调用</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">short_open_tag = On #php支持短标签</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">cgi.force_redirect = 0 #开启以CGI方式运行php</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">fastcgi.impersonate = 1;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">cgi.rfc2616_headers = 1</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">以下php扩展模块，根据需要选择开启，取消前面的分号为开始相应扩展模块</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_curl.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_gd2.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_mbstring.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_exif.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_mysql.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_mysqli.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_sockets.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_xmlrpc.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">extension=php_pdo_mysql.dll</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><!--more--><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">4、下载VC++2012运行库，PHP5.5系列环境集成包Apache和PHP采用VC11编译，需要此库的支持才能运行。&nbsp;Microsoft Visual C++ 2012(php5.5系列x64专用版)下载地址http://www.upupw.net/website/n43.html</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">5、在IIS的“角色服务”的“应用程序开发“中勾选CGI并安装它。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">6、在Internet 信息服务(IIS)管理器中，<span style=\"line-height: 1.5;\">双击左边“起始页”下面的计算机名称，找到中间的IIS部分，打开“处理程序映射”，点右边的“添加模块映射”，填写以下信息：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">请求路径：*.php</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">模块：FastCgiModule</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">可执行文件（可选）：D:\\php\\php-cgi.exe</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">名称：FastCGI</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">最后，确定-&gt;是</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 1.5;\">7、在Internet 信息服务(IIS)管理器中，</span>双击左边“起始页”下面的计算机名称，找到中间的IIS部分，打开“FastCGI设置”，右键选中：D:\\php\\php-cgi.exe然后选择编辑，做以下修改：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">监视对文件所做的更改：D:\\php\\php.ini</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">环境变量，点“添加”</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">Name：PHP_FCGI_MAX_REQUESTS</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">Value：10000</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">最后，确定</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&nbsp;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">8、测试，在C:\\inetpub\\wwwroot新建一个index.php文件，内容如下：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">&lt;?php</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">Phpinfo();</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">?&gt;</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">最后，保存退出。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; font-family: Helvetica, Tahoma, Arial, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">在浏览器里面打开http://localhost/index.php测试是否配置成功。</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('52', 'MySQL 5.6内存占用过高解决方案', '52', '1451262840', '1451263864', '<!--markdown--><p>&nbsp;由于VPS仅有1GB内存，在开启常用的Web服务之后，无力再为MySQL提供400MB以上的物理内存。</p><p>&nbsp;在cmd下<strong><span style=\"color: rgb(255, 0, 0);\">sc qc mysql56</span></strong> &nbsp;找到my.ini的路径。</p><p>&nbsp;修改参数：&nbsp;</p><p>&nbsp;table_definition_cache=400</p><p>&nbsp;table_open_cache=256</p><p><br/></p><p>保存之后重新启动MySQL服务，其内存占用即可从400MB以上降低至60MB左右。</p><p>调整之后性能会有所下降，我在内网服务器调整之后，很明显远程连mysql打开速度明显慢。内存足够的情况下不需要调整。</p><p><br/></p><p><span style=\"color: rgb(255, 0, 0);\">调整之前</span></p><p><img src=\"/usr/uploads/2015/12/28/1451263816484537.png\" style=\"\" title=\"1451263816484537.png\"/></p><p><span style=\"color: rgb(255, 0, 0);\">调整之后</span></p><p><img src=\"http://test.yusure.cn/usr/uploads/2015/12/28/1451263816469864.png\" title=\"1451263816469864.png\" style=\"white-space: normal;\"/></p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('61', 'Sublime Text修改TAB缩进为空格', '61', '1452991440', '1452991517', '<!--markdown--><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 2em; font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 24.05px; white-space: normal; background: rgb(255, 255, 255);\">在sublime text中将TAB缩进直接转化为4个空格，可以按照如下方式操作：</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 2em; font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 24.05px; white-space: normal; background: rgb(255, 255, 255);\">菜单栏: Preferences -&gt; Settings – More -&gt; Syntax Specific – User</p><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; border: 0px; font-size: 13px; text-indent: 2em; font-family: &#39;Microsoft YaHei&#39;, 微软雅黑, Arial, &#39;Lucida Grande&#39;, Tahoma, sans-serif; line-height: 24.05px; white-space: normal; background: rgb(255, 255, 255);\">然后添加设置代码就可以了，文件保存在$Packages/User下</p><pre class=\"brush:php;toolbar:false\">{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;tab_size&quot;:&nbsp;4,\r\n&nbsp;&nbsp;&nbsp;&nbsp;&quot;translate_tabs_to_spaces&quot;:&nbsp;true&nbsp;\r\n}</pre><p><img src=\"/usr/uploads/2016/01/17/1452991427458718.png\" title=\"1452991427458718.png\" alt=\"QQ图片20160117084419.png\"/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('62', 'win2003 服务器超出最大允许连接数的解决方法', '62', '1453771147', '1453771147', '<!--markdown--><p>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">我们平时在使用服务器操作系统的时候，往往是登录远程桌面后是直接关闭远程桌面窗口，而不是选择注销的方式来退出，那么实际上远程会话并没有释放掉，而是继续保留在服务器端，这样就会占用总的链接数。当这个数量达到最大允许值时就会出现超过远程连接会话数，从而导致其它用户无法登录到系统。</span><span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; </span><span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h2 class=\"exp-content-head\" style=\"margin: 40px 0px 0px; padding: 0px 0px 7px; font-size: 22px; font-weight: 400; font-stretch: normal; line-height: 24px; font-family: 微软雅黑; color: rgb(51, 51, 51); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(214, 214, 216); white-space: normal; background-color: rgb(255, 255, 255);\">mstsc强行登陆</h2><p><span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\"></span>1、<span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">在本地电脑上同时按住Ctrl+R,调出如下图所示的运行窗口</span>，<span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">在运行窗口输入: mstsc /admin</span></p><p><img src=\"/usr/uploads/2016/01/26/1453771007134229.png\" title=\"1453771007134229.png\" alt=\"blob.png\"/></p><p><br/></p><p><span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">2、输入完成后mstsc /admin 按回车键,之后就看到熟悉的远程桌面连接窗口,如下图所示。再输入远程所需要的用户名和密码,点击连接,重新登陆,即可强制登陆到服务器</span></p><p><span style=\"color: rgb(51, 51, 51); font-family: &#39;Microsoft Yahei&#39;, 微软雅黑, arial, 宋体, sans-serif; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\"><img src=\"/usr/uploads/2016/01/26/1453771110103448.png\" title=\"1453771110103448.png\" alt=\"blob.png\"/></span></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('63', '不能选择sublime作为默认打开方式的解决办法', '63', '1453790927', '1453790927', '<!--markdown--><p style=\"font-family: &#39;Microsoft YaHei&#39;; padding: 0px; font-size: 14px; color: rgb(63, 63, 63); line-height: 1.71429; white-space: normal; margin-top: 0px; margin-bottom: 1.71429rem; border: 0px; vertical-align: baseline; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;因为之前用过，删掉之后，把之前打包好的解压出来，用的时候出现打开方式选择不了sublime的问题，记录一下解决方案。</p><p style=\"font-family: &#39;Microsoft YaHei&#39;; padding: 0px; font-size: 14px; color: rgb(63, 63, 63); line-height: 1.71429; white-space: normal; margin-top: 0px; margin-bottom: 1.71429rem; border: 0px; vertical-align: baseline; background-color: rgb(255, 255, 255);\">注册表的解决办法:</p><p style=\"font-family: &#39;Microsoft YaHei&#39;; padding: 0px; font-size: 14px; color: rgb(63, 63, 63); line-height: 1.71429; white-space: normal; margin-top: 0px; margin-bottom: 1.71429rem; border: 0px; vertical-align: baseline; background-color: rgb(255, 255, 255);\">删除 <span style=\"color: rgb(255, 0, 0);\">HKEY_CURRENT_USER\\Software\\Classes\\Applications</span>下的Sublime_Text.exe项。你就发现可以设置为默认打开方式了</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('64', 'Yusure2015年个人工作总结', '64', '1454289600', '1455669196', '<!--markdown--><p style=\"margin-right:0;margin-left:84px;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;&nbsp;时间过得很快，<span style=\"font-family:Calibri\">2015</span><span style=\"font-family:宋体\">年即将过完，有很多需要总结。有很多需要回味。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span> <span style=\";font-family:宋体;font-weight:bold;font-size:16px\">从今年三月份，开始的项目是高一品增加摇一摇功能，商品赠送订单这些，顺带插过一些小活，<span style=\"font-family:Calibri\">OA</span><span style=\"font-family:宋体\">订单加了商品页，三月份学会了如何去融入一个项目，模块化的需求分析，表结构的设计，如何配合手机接口。</span></span><span style=\"font-family: 宋体; font-weight: bold; line-height: 150%;\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;&nbsp;四月份开始分销项目，接触到了<span style=\"font-family:Calibri\">shopnc</span><span style=\"font-family:宋体\">商城的产生订单，订单支付，邮费计算，会员评价，以及分销的的利润分配，开始引入品币这一概念，关于命名还有好多种说法</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">，最后定下了品币</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp; 五月份开始接手<span style=\"font-family:Calibri\">VPS</span><span style=\"font-family:宋体\">，批量迁移&nbsp;</span><span style=\"font-family:Calibri\">vps&nbsp;</span><span style=\"font-family:宋体\">的的站点，用</span><span style=\"font-family:Calibri\">thinkphp</span><span style=\"font-family:宋体\">部署海力饮料机后台，这个项目开始用</span><span style=\"font-family:Calibri\">TP</span><span style=\"font-family:宋体\">的语言包，这个项目牛逼的是到最后订单模块都被精简掉了。</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">当时</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">支付宝的扫码支付不好申请，可以说是申请不到，到最后支付宝的扫码支付也没做成</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">，只做了微信支付</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">。月末转移了会商宝百科到<span style=\"font-family:Calibri\">101</span><span style=\"font-family:宋体\">服务器，修复了</span><span style=\"font-family:Calibri\">hdwiki</span><span style=\"font-family:宋体\">的</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">一个</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">post<span style=\"font-family:宋体\">注入漏洞。月末还做了百科的提案。配置完成</span><span style=\"font-family:Calibri\">bighome</span><span style=\"font-family:宋体\">的线上服务器。</span></span></p><!--more--><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp; 六月份开始社区<span style=\"font-family:Calibri\">O2O</span><span style=\"font-family:宋体\">项目，也是因为这个项目，接触到了百度地图，用了好几个地图的</span><span style=\"font-family:Calibri\">API</span><span style=\"font-family:宋体\">，刚开始我是觉得很难的，后来做出来的时候，就发现，简单。一切困难的东西都是来自对未知事情的恐惧。真的放手去做，就会发现没有那么困难。</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">写程序</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">一开始都是去模仿别人，为了看别人的接口，我开始用<span style=\"font-family:Calibri\">Fillder</span><span style=\"font-family:宋体\">去抓取别人</span><span style=\"font-family:Calibri\">app</span><span style=\"font-family:宋体\">接口，看他们的返回数据，考虑怎么设计数据库，接口怎么返回数据。当时设计经纬度的时候因为太年轻，放到一个字段里去了，后期遇到各种问题才发现，这样是不合理的。社区</span><span style=\"font-family:Calibri\">O2O</span><span style=\"font-family:宋体\">配合</span><span style=\"font-family:Calibri\">APP</span><span style=\"font-family:宋体\">端调了几个支付。除了白天工作时间外，晚上学习服务器，配置</span><span style=\"font-family:Calibri\">FreeBSD</span><span style=\"font-family:宋体\">的各种服务，中间也遇到很多问题，也都一一去解决了。六月份的成长挺大的，各种支付都调过，第三方</span><span style=\"font-family:Calibri\">API</span><span style=\"font-family:宋体\">也会用，业务逻辑，需求分析也得到了提升。服务器方面还是有待提高。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp; 七月份，还是很难忘的，因为加班了，连续加的那种。总感觉没歇过来，之后一熬夜耳朵就疼。这是供销合作社的项目，有搞头的我感觉有这几点，视频的上传播放算是一点，从后台上传，前台调用播放器播放，合作社<span style=\"font-family:Calibri\">OA</span><span style=\"font-family:宋体\">端的从用户下单，购物车，支付，异步通知。这一套算是第二点有搞头的。第三点算是特色即墨百度地图的自定义颜色坐标，因为这个是我说了不可能实现之后，那天周末加班我才实现的。关于第三点导致</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">的</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">从那往后我遇到问题就学会闭嘴了，闭嘴只是为了更好的思考。经历一个完整的项目，会增加掌控全局的能力，这个算是其中一个我从头到尾的一个项目，后期也就是几个月后出的各种一系列问题，也是我在维护。我感觉程序员拼代码能力都差不多，能力的提升还是看遇到紧急问题，你给的解决方案，还有处理问题的能力，这些可能刻意的去学习也学不到那么完整，那就等待这些机会，看准机会就上，不要怕，解决不了就享受过程嘛。往往</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">当年</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">这些你躺过的坑，将来一定会在你最需要的时候帮上你，因为有些东西，全靠经验。</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">接着</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">项目上线之后，解决了一些<span style=\"font-family:Calibri\">bug</span><span style=\"font-family:宋体\">之后，开始自己学习配置了</span><span style=\"font-family:Calibri\">coreseek</span><span style=\"font-family:宋体\">分词搜索，</span><span style=\"font-family:Calibri\">xunsearch</span><span style=\"font-family:宋体\">搜索，开始学习</span><span style=\"font-family:Calibri\">Freebsd</span><span style=\"font-family:宋体\">的百科手册，编译了</span><span style=\"font-family:Calibri\">FreeBSD</span><span style=\"font-family:宋体\">的内核，编译之后开机的速度真的很快，配置的</span><span style=\"font-family:Calibri\">Freebsd&nbsp;</span><span style=\"font-family:宋体\">的</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">ipfw</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">防火墙规则，之后又继续给合作社的一个子站惠农先锋党建网增加的教育培训模块，视频上传播放，<span style=\"font-family:Calibri\">ppt</span><span style=\"font-family:宋体\">，图文这一套。维护了下合作社的生</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">产</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">环境，<span style=\"font-family:Calibri\">mysql</span><span style=\"font-family:宋体\">定时备份，定时清除旧的备份记录，保留</span><span style=\"font-family:Calibri\">10</span><span style=\"font-family:宋体\">日之内的数据。后来出的一些问题，我才发现这样是不可靠的。后期我又做了一系列的备份措施。当然这是后来的事情。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp; 八月份的项目是宁夏物流商城的网站，加企业站，从代码部署到后端生产环境服务器的部署，代码上的增加了商品的放大镜效果，商城增加微信支付<span style=\"font-family:Calibri\">pc</span><span style=\"font-family:宋体\">，手机版&nbsp;&nbsp;两种发起方式</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">，</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">做过微信支付的应该知道</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">这两种方式</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">。之后又给合作社增加了一套放心农资的购买支付，生成了宁夏物流的微信菜单，月末时候打包了一个<span style=\"font-family:Calibri\">vmware</span><span style=\"font-family:宋体\">版的</span><span style=\"font-family:Calibri\">centos6.5</span><span style=\"font-family:宋体\">，最小化安装的&nbsp;放在</span><span style=\"font-family:Calibri\">82</span><span style=\"font-family:宋体\">服务器上，有需要的可以去下载。免除了你们安装的繁琐，</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">账号密码放在根目录，</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">直接打开就可以用。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp; 九月份会商宝加了几个功能&nbsp;企慧秀&nbsp;&nbsp;推荐展位&nbsp;的权限功能，在这期间给王董的<span style=\"font-family:Calibri\">mac</span><span style=\"font-family:宋体\">笔记本装了</span><span style=\"font-family:Calibri\">windows</span><span style=\"font-family:宋体\">系统，装机的时候也遇到很多问题，装</span><span style=\"font-family:Calibri\">mac</span><span style=\"font-family:宋体\">的</span><span style=\"font-family:Calibri\">win7</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">专用</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">镜像放在<span style=\"font-family:Calibri\">82</span><span style=\"font-family:宋体\">的服务器上了，方便大家需要的时候直接拿来用。因为上个月的宁夏物流还有一个企业站，抽出几天</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">找了一个宽屏的</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">Thinkphp<span style=\"font-family:宋体\">企业站，填了分类，详情的数据，根据需求增加了功能。接着做了王志远</span><span style=\"font-family:Calibri\">OA</span><span style=\"font-family:宋体\">的提案增加了续签的客户操作记录，用不同销售账号查看客户，销售放弃，公海等操作。九月中期开始帮忙做开发区的政府网站，选的是</span><span style=\"font-family:Calibri\">metinfo</span><span style=\"font-family:宋体\">，一套模板标签很恶心的程序，看了手册，模板标签，程序源码，接着就是套页面，要说学到的东西，就是学了些</span><span style=\"font-family:Calibri\">css</span><span style=\"font-family:宋体\">样式，然后体会到了</span><span style=\"font-family:Calibri\">metinfo</span><span style=\"font-family:宋体\">的恶心，好在项目一周时间完事。因为高一品</span><span style=\"font-family:Calibri\">O2O</span><span style=\"font-family:宋体\">刚开始做，没有太多的商品评论，所以需要采集别的网站评论，选了两个目标，美团，大众点评，在这之前自己空闲的时间也研究过</span><span style=\"font-family:Calibri\">php</span><span style=\"font-family:宋体\">采集抓取，第一个下手的是美团，要抓评论，首先要找网站是怎么请求评论在页面上显示出来的，我用火狐的</span><span style=\"font-family:Calibri\">firebug</span><span style=\"font-family:宋体\">插件抓包网络请求挨个去看，我第一次没抓到，连续点了好几个下一页才抓到分页接口，关于抓包工具资料的东西很多，因为抓包分析这些东西我之前都搞过，这些也没用多少时间，所以还是那句话，</span></span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">往往</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">当年</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">这些你躺过的坑，将来一定会在你最需要的时候帮上你</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">。一天时间写了美团采集的</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">demo<span style=\"font-family:宋体\">，抓到美团分页代码，取到</span><span style=\"font-family:Calibri\">json</span><span style=\"font-family:宋体\">解析成数组，正则匹配出想要的内容，过程就是这样的。大众点评的防</span><span style=\"font-family:Calibri\">php</span><span style=\"font-family:宋体\">的</span><span style=\"font-family:Calibri\">curl</span><span style=\"font-family:宋体\">采集，直接导致采集的内容采不到，我用</span><span style=\"font-family:Calibri\">curl</span><span style=\"font-family:宋体\">模拟了百度蜘蛛去采集，这下就成功了，也没有太多的兴奋，只是觉得大众点评的防采集还是太弱。九月后期李帅帅的提案</span><span style=\"font-family:Calibri\">OA</span><span style=\"font-family:宋体\">高一品客户管理增加的地图坐标，之前做过地图，没什么太难的。接着给名屋房产搭建了微信有偿转发平台，分享功能有问题，最后找到问题是代码里面用了民间第三方的微信</span><span style=\"font-family:Calibri\">js</span><span style=\"font-family:宋体\">类，我找到了他的</span><span style=\"font-family:Calibri\">github</span><span style=\"font-family:宋体\">，他的博客，已经不在支持更新了，作者也推荐用腾讯官方的</span><span style=\"font-family:Calibri\">api</span><span style=\"font-family:宋体\">，这是第一次看微信的这些用户操作类</span><span style=\"font-family:Calibri\">api</span><span style=\"font-family:宋体\">，也没什么太难的，因为这些东西写不出什么花样，照着</span><span style=\"font-family:Calibri\">demo</span><span style=\"font-family:宋体\">规规矩矩的粘过来，合到项目里面就可以了，之后又设计了融云聊天的好友关系数据表，并提供添加好友关系，拉取列表等接口。用的是我找的那个接口文档管理系统，本来对于接口混乱问题我想自己写管理系统的，最后也没写成，就从网上找了一个用着，暂时缓解因为接口问题各种吵的问题。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">十月份开始了社区<span style=\"font-family:Calibri\">O2O</span><span style=\"font-family:宋体\">的</span><span style=\"font-family:Calibri\">pc</span><span style=\"font-family:宋体\">版，做了</span><span style=\"font-family:Calibri\">pc</span><span style=\"font-family:宋体\">下单，支付，之后有丰富了下采集，增加了一个头像库，几千张头像，采集的时候随机获取一张头像。让页面显示的好看了一些。十月末，开始了一品夺宝的项目，</span><span style=\"font-family:Calibri\">php</span><span style=\"font-family:宋体\">代码都是加密的，首先是解密源代码，解密完成之后取各种版权注释头，修复一些</span><span style=\"font-family:Calibri\">bug</span><span style=\"font-family:宋体\">。这些弄完之后开始做整合到高一品会员的单点登陆。做完觉得单点登陆也简单，还是思路最重要。最坑的就是，这套系统只能通过充值夺宝币去购买商品，不能直接用支付宝等第三方去支付，一开始还幻想着是自己不会用没找到地方，代码从头翻没找到，刚才说过这是一套加密的代码，我想是不是解密之后一些代码没有了，在自己本地</span><span style=\"font-family:Calibri\">wamp&nbsp;server&nbsp;</span><span style=\"font-family:宋体\">配置成</span><span style=\"font-family:Calibri\">FastCGI</span><span style=\"font-family:宋体\">运行，换成</span><span style=\"font-family:Calibri\">php53&nbsp;nts&nbsp;</span><span style=\"font-family:宋体\">版，运行</span><span style=\"font-family:Calibri\">zend&nbsp;loader&nbsp;</span><span style=\"font-family:宋体\">解密运行。各种折腾最后发现也没有。没有就要自己做啊，那就只好自己动手了，又经历一遍下单，支付，回调。一直持续到最后一天才全部完成上线。期间和鞠老师配合调试了安卓高一品的一品夺宝，和鞠老师这么机智的拍档合作，可是很</span><span style=\"font-family:Calibri\">happy</span><span style=\"font-family:宋体\">的，最后上线完成。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">十一月份，月初军训，增强了公司文化，团结了部门的友谊。之后为一品夺宝增加的网银在线的支付，上线了之前的宁夏物流的企业网站。中期开始了会商宝有偿转发的项目分析，参考原来的点赚项目，画完了全部的线框图，自己拉会商宝分支，做完总后台的功能。中间插了一个&nbsp;电商孵化中心申请入驻表单，收集资料的。后期我徒弟来了，开始分出一些时间来带新人培训。讲<span style=\"font-family:Calibri\">php</span><span style=\"font-family:宋体\">函数，也帮忙写过一些小</span><span style=\"font-family:Calibri\">demo</span><span style=\"font-family:宋体\">。有偿转发总后台结束之后，我开始了微信前台，微信开发者文档是一定要看的，记得看见新人开始看</span><span style=\"font-family:Calibri\">tp</span><span style=\"font-family:宋体\">手册，我想起了自己当时看</span><span style=\"font-family:Calibri\">tp</span><span style=\"font-family:宋体\">手册的时候看不懂，因为资质比较差，是用笔在本子上&nbsp;&nbsp;一行一行的抄的。实在是惭愧。看完微信开发文档，就开始上手去写了，有设计配合出页面，进度也都在把控之中，这一段时间感觉对项目的把控能力进一步提升。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">十二月份初到月中，还是有偿转发的项目，带新人测试，修改<span style=\"font-family:Calibri\">bug</span><span style=\"font-family:宋体\">。到</span><span style=\"font-family:Calibri\">12</span><span style=\"font-family:宋体\">月中完成上线。</span><span style=\"font-family:Calibri\">12</span><span style=\"font-family:宋体\">月中开始帮忙做</span><span style=\"font-family:Calibri\">bighome</span><span style=\"font-family:宋体\">，上午看完所有文档，了解整个项目，下午开始上手做，到现在已接近尾声。也没有什么太难的，考虑完善了就动手去做，最辛苦的还是张叔，任劳任怨的一个人供着接口。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">已上就是<span style=\"font-family:Calibri\">2015</span><span style=\"font-family:宋体\">年所做的工作。写到这里还是感觉有很多不足，一直再用</span><span style=\"font-family:Calibri\">thinkphp</span><span style=\"font-family:宋体\">框架，没能抽出时间从头到尾看一遍</span><span style=\"font-family:Calibri\">tp</span><span style=\"font-family:宋体\">的核心源码，在我来看这些还不足以称之为底层代码，用</span><span style=\"font-family:Calibri\">C</span><span style=\"font-family:宋体\">实现</span><span style=\"font-family:Calibri\">php</span><span style=\"font-family:宋体\">的源代码，那才能说的上底层。所以说要懂得还有很多，</span><span style=\"font-family:Calibri\">2016</span><span style=\"font-family:宋体\">年首先要做的是熟悉</span><span style=\"font-family:Calibri\">php7</span><span style=\"font-family:宋体\">的各种新特性，要跟得上发展，程序员就必须不断的学习，再是</span><span style=\"font-family:Calibri\">TP</span><span style=\"font-family:宋体\">的核心代码要从头到尾的至少看上一遍，我觉得一遍根本不够，因为这些东西，你每看一遍都会有不一样的收获。作为全栈的男人精</span><span style=\"font-family:Calibri\">php</span><span style=\"font-family:宋体\">是必须的，也是最基本的。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">最后分享几条自己觉得比较好的建议：</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:宋体;font-weight:bold;font-size:16px\">1、</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">坚持写博客，有独立的博客</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:宋体;font-weight:bold;font-size:16px\">2、</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">有自己的<span style=\"font-family:Calibri\">github</span><span style=\"font-family:宋体\">项目</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:宋体;font-weight:bold;font-size:16px\">3、</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">坚持看完一个项目源码</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:宋体;font-weight:bold;font-size:16px\">4、</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">写一个<span style=\"font-family:Calibri\">MVC</span><span style=\"font-family:宋体\">，只有自己写一个完整的</span><span style=\"font-family:Calibri\">MVC</span><span style=\"font-family:宋体\">才会真正开始理解</span><span style=\"font-family:Calibri\">PHP</span><span style=\"font-family:宋体\">，理解设计模式，面向对象开发</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:宋体;font-weight:bold;font-size:16px\">5、</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">你还得谦虚，耐心，坚持，分享。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:宋体;font-weight:bold;font-size:16px\">6、</span><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">最后要健身，为了更好的生活。</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">&nbsp;</span></p><p style=\"margin-right:0;margin-left:420px;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-weight:bold;font-size:16px\">Yusure&nbsp;&nbsp;2015.12.25</span></p><p><br/></p>', '0', '1', null, 'post', 'private', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('69', 'CentOS禁止ping以及开启ping的方法', '69', '1455940380', '1456646736', '<!--markdown--><p><br/></p><p>&nbsp;&nbsp;&nbsp;&nbsp;Linux默认是允许Ping响应的，系统是否允许Ping由2个因素决定的：A、内核参数，B、防火墙，需要2个因素同时允许才能允许Ping，2个因素有任意一个禁Ping就无法Ping。</p><p><br/></p><p><strong><span style=\"color: rgb(255, 0, 0);\">A、内核参数</span></strong><span style=\"color: rgb(255, 0, 0);\">&nbsp;</span><br/></p><p>分为临时设置，永久设置，临时设置重启失效。</p><p>临时禁止ping &nbsp;<span style=\"font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255);\">echo 1 &gt;/proc/sys/net/ipv4/icmp_echo_ignore_all &nbsp;<span style=\"font-family: 宋体, SimSun; font-size: 14px; line-height: 21px; background-color: rgb(255, 255, 255);\">0表示允许，1表示禁止</span></span></p><p><span style=\"font-family: arial, helvetica, sans-serif; line-height: 21px; background-color: rgb(255, 255, 255);\">永久设置 &nbsp; &nbsp;</span><span style=\"color: rgb(255, 0, 0); font-family: arial, helvetica, sans-serif; line-height: 21px; background-color: rgb(255, 255, 255);\">vim&nbsp;/etc/sysctl.conf</span><span style=\"font-family: arial, helvetica, sans-serif; line-height: 21px; background-color: rgb(255, 255, 255);\"> &nbsp;增加一行 &nbsp; &nbsp;<span style=\"font-family: arial, helvetica, sans-serif; line-height: 21px; color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);\">net.ipv4.icmp_echo_ignore_all=1</span>&nbsp;</span></p><p><span style=\"font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255);\"><span style=\"font-family: 宋体, SimSun; font-size: 14px; line-height: 21px; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 21px; font-size: 16px; font-family: arial, helvetica, sans-serif; background-color: rgb(255, 255, 255);\"><span style=\"color: rgb(51, 51, 51); font-family: 宋体, SimSun; font-size: 14px; line-height: 18px; background-color: rgb(255, 255, 255);\">修改完成后执行</span><span style=\"line-height: 21px; font-size: 16px; color: rgb(255, 0, 0); font-family: arial, helvetica, sans-serif; background-color: rgb(255, 255, 255);\"><strong style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-size: 14px; white-space: normal; line-height: 1.5; outline: invert none medium; font-family: &#39;Microsoft Yahei&#39;; background-color: rgb(255, 255, 255);\">sysctl -p</strong></span><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体, SimSun; font-size: 14px; border: 0px; line-height: 1.5; outline: invert none medium; vertical-align: baseline; background-color: rgb(255, 255, 255);\">使新配置生效。</span></span></span></span></p><p><span style=\"font-family: 宋体; font-size: 14px; line-height: 28px; background-color: rgb(255, 255, 255);\"><span style=\"font-family: 宋体, SimSun; font-size: 14px; line-height: 21px; background-color: rgb(255, 255, 255);\"><span style=\"line-height: 21px; font-size: 16px; font-family: arial, helvetica, sans-serif; background-color: rgb(255, 255, 255);\"><span style=\"padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体, SimSun; font-size: 14px; border: 0px; line-height: 1.5; outline: invert none medium; vertical-align: baseline; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></p><p><br/></p><p><strong><span style=\"color: rgb(255, 0, 0);\">B、防火墙设置</span></strong></p><p><span style=\"color: rgb(255, 0, 0);\">vim /etc/sysconfig/iptables</span><strong><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\"> &nbsp; 添加一行</span></span></strong><strong><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\">&nbsp; &nbsp;&nbsp;</span></span></strong></p><p><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px;background: rgb(255, 255, 255)\">-A&nbsp;INPUT&nbsp;-p&nbsp;icmp&nbsp;--icmp-type&nbsp;8&nbsp;-s&nbsp;0/0&nbsp;-j&nbsp;DROP</span></p><p><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px;background: rgb(255, 255, 255)\">要注释这行 &nbsp;</span><span style=\"font-family: 微软雅黑; font-size: 14px; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">-A&nbsp;INPUT&nbsp;-p&nbsp;icmp&nbsp;-j&nbsp;ACCEPT &nbsp;或者放到这行上面 &nbsp;&nbsp;</span><span style=\"font-family: 微软雅黑; font-size: 14px; letter-spacing: 0px; line-height: 24px; background-color: rgb(255, 255, 255);\">禁止ping的那一条要优先于这条</span><span style=\"font-family: 微软雅黑; font-size: 14px; letter-spacing: 0px; line-height: 24px; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp;</span><span style=\"font-family: 微软雅黑; font-size: 14px; letter-spacing: 0px; line-height: 24px; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p style=\"margin-top: 0px; margin-right: 0px; margin-bottom: 10px; padding: 0px; line-height: 24px;\"><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px;background: rgb(255, 255, 255)\">service&nbsp;iptables&nbsp;restart&nbsp;&nbsp;重启防火墙</span></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('71', 'mysql 远程连接速度慢的解决方案', '71', '1456646640', '1456707843', '<!--markdown--><p>&nbsp; &nbsp; 之前我在vps安装mysql之后，开启mysql外连，用本机连接远程mysql特别卡，在服务器上连接不卡，当时没有解决，以为是远程卡，后来想了一下服务器是阿里云的也不该那么卡呀，连接都要5秒钟左右，网上查到了资料，出现这种问题的主要原因是,默认安装的MYSQL开启了DNS的反向解析。</p><p>&nbsp; &nbsp; 解决方案：在my.ini(WINDOWS系统下)或my.cnf(UNIX或LINUX系统下)文件的[mysqld]下加入skip- name-resolve这一句。</p><pre class=\"brush:php;toolbar:false\">[mysqld]\r\nskip-name-resolve</pre><p><br/></p><p>重启mysql服务，远程连接速度正常。</p><p><strong><span style=\"color: rgb(255, 0, 0);\">注意：</span></strong>到这里还没完呢，mysql.user 表里面的 host 不要用 localhost 之类的，要用127.0.0.1不然都连不上数据库，会报错，% 的不影响。代码里面的config文件记得改成127.0.0.1。</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('73', 'PHP中使用cURL实现Get和Post请求的方法', '73', '1456734120', '1456734270', '<!--markdown--><p style=\"margin-top:0;margin-right:0;margin-bottom:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; font-weight: bold; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">1.cURL介绍&nbsp;</span><br/></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">cURL&nbsp;是一个利用URL语法规定来传输文件和数据的工具，支持很多协议，如HTTP、FTP、TELNET等。最爽的是，PHP也支持&nbsp;cURL&nbsp;库。本文将介绍&nbsp;cURL&nbsp;的一些高级特性，以及在PHP中如何运用它。</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-weight: bold;font-size: 16px;background: rgb(255, 255, 255)\">2.基本结构</span><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">在学习更为复杂的功能之前，先来看一下在PHP中建立cURL请求的基本步骤：</span><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">（1）初始化 &nbsp; &nbsp; &nbsp;curl_init()</span><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">（2）设置变量 &nbsp; &nbsp; curl_setopt()&nbsp;</span><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">最为重要，一切玄妙均在此。有一长串cURL参数可供设置，它们能指定URL请求的各个细节。要一次性全部看完并理解可能比较困难，所以今天我们只试一下那些更常用也更有用的选项。</span><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">（3）执行并获取结果 &nbsp; &nbsp; curl_exec()</span><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">（4）释放cURL句柄 &nbsp; &nbsp; &nbsp;curl_close()&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-weight: bold;font-size: 16px;background: rgb(255, 255, 255)\">3.cURL实现Get和Post</span><span style=\"color: rgb(62, 62, 62); font-family: &#39;Helvetica Neue&#39;; letter-spacing: 0px; background-color: rgb(255, 255, 255);\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">3.1&nbsp;Get方式实现</span></p><pre class=\"brush:php;toolbar:false\">//初始化\r\n$ch&nbsp;=&nbsp;curl_init();\r\n//设置选项，包括URL\r\ncurl_setopt($ch,&nbsp;CURLOPT_URL,&nbsp;&quot;http://test.yusure.cn&quot;);\r\ncurl_setopt($ch,&nbsp;CURLOPT_RETURNTRANSFER,&nbsp;1);\r\ncurl_setopt($ch,&nbsp;CURLOPT_HEADER,&nbsp;0);\r\n//执行并获取HTML文档内容\r\n$output&nbsp;=&nbsp;curl_exec($ch);\r\n//释放curl句柄\r\ncurl_close($ch);\r\n//打印获得的数据\r\nprint_r($output);</pre><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">3.2&nbsp;Post方式实现</span></p><pre class=\"brush:php;toolbar:false\">$url&nbsp;=&nbsp;&quot;http://localhost/web_services.php&quot;;\r\n$post_data&nbsp;=&nbsp;array&nbsp;(&quot;username&quot;&nbsp;=&gt;&nbsp;&quot;bob&quot;,&quot;key&quot;&nbsp;=&gt;&nbsp;&quot;12345&quot;);\r\n$ch&nbsp;=&nbsp;curl_init();\r\ncurl_setopt($ch,&nbsp;CURLOPT_URL,&nbsp;$url);\r\ncurl_setopt($ch,&nbsp;CURLOPT_RETURNTRANSFER,&nbsp;1);\r\n//&nbsp;post数据\r\ncurl_setopt($ch,&nbsp;CURLOPT_POST,&nbsp;1);\r\n//&nbsp;post的变量\r\ncurl_setopt($ch,&nbsp;CURLOPT_POSTFIELDS,&nbsp;$post_data);\r\n$output&nbsp;=&nbsp;curl_exec($ch);\r\ncurl_close($ch);\r\n//打印获得的数据\r\nprint_r($output);</pre><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">&nbsp;</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;line-height:26px\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">以上方式获取到的数据是json格式的，使用json_decode函数解释成数组。</span></p><pre class=\"brush:php;toolbar:false\">$output_array&nbsp;=&nbsp;json_decode($output,true);</pre><p style=\"margin: 0px; text-indent: 0px; padding: 0px; line-height: 26px;\"><span style=\"font-family: &#39;Helvetica Neue&#39;;color: rgb(62, 62, 62);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\">如果使用json_decode($output)解析的话，将会得到object类型的数据。</span></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('75', '数据库水平切分方法', '75', '1458822240', '1458822574', '<!--markdown--><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; 在大中型项目中，在数据库设计的时候，考虑到数据库最大承受数据量，通常会把数据库或者数据表水平切分，以降低单个库，单个表的压力。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\">&nbsp; &nbsp; 我这里介绍两个我们项目中常用的数据表切分方法。当然这些方法都是在程序中使用一定的技巧来路由到具体的表的。首先我们要确认根据什么来水平切分？在我们的系统（SNS）中，用户的UID贯穿系统，唯一自增长，根据这个字段分表，再好不过。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p><br/></p><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0.8em 0px 0.5em; padding: 0px; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; white-space: normal; widows: auto; border: 0px; overflow: hidden; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; display: inline-block; font-size: 1em; font-family: inherit; text-decoration: inherit; color: rgb(255, 255, 255); border-color: rgb(249, 110, 87);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0.3em 0.5em; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; height: 2em; display: inline-block; text-align: center; font-size: 1em; line-height: 1.4; vertical-align: top; font-family: inherit; background-color: rgb(249, 110, 87);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\">方法一：使用MD5哈希</section></section><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; display: inline-block; height: 2em; width: 0.5em; vertical-align: top; border-left-width: 0.5em; border-left-style: solid; border-left-color: rgb(249, 110, 87); font-size: 1em; border-top-width: 1em !important; border-top-style: solid !important; border-top-color: transparent !important; border-bottom-width: 1em !important; border-bottom-style: solid !important; border-bottom-color: transparent !important;\"></section></section></section><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\">做法是对UID进行md5加密，然后取前几位（我们这里取前两位），然后就可以将不同的UID哈希到不同的用户表（user_xx）中了。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><img src=\"/usr/uploads/2016/03/24/1458822143437866.png\" title=\"1458822143437866.png\" alt=\"1.png\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; line-height: 1.6;\">通过这个技巧，我们可以将不同的UID分散到256中用户表中，分别是user_00,user_01 …… user_ff。因为UID是数字且递增，根据md5的算法，可以将用户数据几乎很均匀的分别到不同的user表中。</span><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\">但是这里有个问题是，如果我们的系统的用户越来越多，势必单张表的数据量越来越大，而且根据这种算法无法扩展表，这又会回到文章开头出现的问题了。</p><!--more--><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p><br/></p><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0.8em 0px 0.5em; padding: 0px; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; white-space: normal; widows: auto; border: 0px; overflow: hidden; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; display: inline-block; font-size: 1em; font-family: inherit; text-decoration: inherit; color: rgb(255, 255, 255); border-color: rgb(249, 110, 87);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0.3em 0.5em; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; height: 2em; display: inline-block; text-align: center; font-size: 1em; line-height: 1.4; vertical-align: top; font-family: inherit; background-color: rgb(249, 110, 87);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\">方法二：使用移位</section></section><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; display: inline-block; height: 2em; width: 0.5em; vertical-align: top; border-left-width: 0.5em; border-left-style: solid; border-left-color: rgb(249, 110, 87); font-size: 1em; border-top-width: 1em !important; border-top-style: solid !important; border-top-color: transparent !important; border-bottom-width: 1em !important; border-bottom-style: solid !important; border-bottom-color: transparent !important;\"></section></section></section><p><br/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; line-height: 1.6;\">具体方法是：</span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; line-height: 1.6;\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; line-height: 1.6;\"><img src=\"/usr/uploads/2016/03/24/1458822252954036.png\" title=\"1458822252954036.png\" alt=\"2.png\"/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; line-height: 1.6;\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></span></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><span style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; line-height: 1.6;\">这里，我们将uid向右移动20位，这样我们就可以把大约前100万的用户数据放在第一个表user_0000,第二个100万的用户数据放在第二个表user_0001中，这样一直下去，如果我们的用户越来越多，直接添加用户表就行了。由于我们保留的表后缀是四位，这里我们可以添加1万张用户表，即user_0000,user_0001 …… user_9999。一万张表，每张表100万数据，我们可以存100亿条用户记录。</span><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\">当然，如果你的用户数据比这还多，也不要紧，你只要改变保留表后缀来增加可以扩展的表就行了，如如果有1000亿条数据，每个表存100万，那么你需要10万张表，我们只要保留表后缀为6位即可。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\">上面的算法还可以写的灵活点：</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><img src=\"/usr/uploads/2016/03/24/1458822264152199.png\" title=\"1458822264152199.png\" alt=\"3.png\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px; max-width: 100%; clear: both; min-height: 1em; white-space: normal; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; widows: auto; box-sizing: border-box !important; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important;\"/></p><p><br/></p><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0.8em 0px 0.5em; padding: 0px; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; white-space: normal; widows: auto; border: 0px; overflow: hidden; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; display: inline-block; font-size: 1em; font-family: inherit; text-decoration: inherit; color: rgb(255, 255, 255); border-color: rgb(249, 110, 87);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0.3em 0.5em; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; height: 2em; display: inline-block; text-align: center; font-size: 1em; line-height: 1.4; vertical-align: top; font-family: inherit; background-color: rgb(249, 110, 87);\"><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\">总结：</section></section><section class=\"tn-Powered-by-XIUMI\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; display: inline-block; height: 2em; width: 0.5em; vertical-align: top; border-left-width: 0.5em; border-left-style: solid; border-left-color: rgb(249, 110, 87); font-size: 1em; border-top-width: 1em !important; border-top-style: solid !important; border-top-color: transparent !important; border-bottom-width: 1em !important; border-bottom-style: solid !important; border-bottom-color: transparent !important;\"></section></section></section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; color: rgb(62, 62, 62); font-family: &#39;Hiragino Sans GB&#39;, &#39;Microsoft YaHei&#39;, Arial, sans-serif; line-height: 25.6px; white-space: normal; widows: auto; word-wrap: break-word !important; background-color: rgb(255, 255, 255);\"><section class=\"Powered-by-XIUMI V5\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><section class=\"\" style=\"margin: 10px 0px; padding: 0px 5px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; overflow: hidden;\"><section class=\"\" style=\"margin: 10px 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; transform: rotate(3deg);\"><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; border: 1px solid rgb(204, 204, 204);\"><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; transform: rotate(-3deg);\"><section class=\"\" style=\"margin: 0px; padding: 10px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important; border: 1px solid rgb(204, 204, 204); width: 544px;\"><section class=\"Powered-by-XIUMI V5\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><section class=\"\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><section class=\"\" style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\">上面两种方法，都要对我们当前系统的用户数据量做出可能最大的预估，并且对数据库单个表的最大承受量做出预估。</section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"/></section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\">比如第二种方案，如果我们预估我们系统的用户是100亿，单张表的最优数据量是100万，那么我们就需要将UID移动20来确保每个表是100万的数据，保留用户表（user_xxxx）四位来扩展1万张表。</section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"/></section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\">又如第一种方案，每张表100万，md5后取前两位，就只能有256张表了，系统总数据库就是：256*100万；如果你系统的总数据量的比这还多，那你实现肯定要MD5取前三位或者四位甚至更多位了。</section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><br style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"/></section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\">两种方法都是将数据水平切分到不同的表中，相对第一种方法，第二种方法更具扩展性。。。</section><section style=\"margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box; word-wrap: break-word !important;\"><br/></section></section></section></section></section></section></section></section></section></section></section>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('80', 'Centos6.5通过yum安装LNMP稳定版', '80', '1459258260', '1459303209', '<!--markdown--><p>记录Centos用yum安装nginx，mysql，php的稳定版。<br/></p><p><br/></p><p>Nginx当前稳定版本1.8.1</p><p>首先配置 nginx 源</p><pre class=\"brush:php;toolbar:false\">vim&nbsp;/etc/yum.repos.d/nginx.repo&nbsp;&nbsp;（新建的文件）</pre><pre class=\"brush:php;toolbar:false\">#nginx.repo&nbsp;&nbsp;&nbsp;&nbsp;\r\n[nginx]&nbsp;&nbsp;\r\nname=nginx&nbsp;repo&nbsp;&nbsp;\r\nbaseurl=http://nginx.org/packages/centos/6/$basearch/&nbsp;&nbsp;\r\ngpgcheck=0&nbsp;&nbsp;\r\nenabled=1</pre><p>:wq 保存退出。<br/></p><p><br/></p><p>安装nginx</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;nginx</pre><p>如果之前安装了低版本，可以平滑升级</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;update&nbsp;nginx</pre><!--more--><p>添加开机启动</p><pre class=\"brush:php;toolbar:false\">chkconfig&nbsp;nginx&nbsp;on</pre><p><img src=\"/usr/uploads/2016/03/29/1459256272931346.png\" title=\"1459256272931346.png\" alt=\"nginx_1.png\"/></p><p><br/></p><p>Mysql 当前稳定版本<span style=\"color: rgb(51, 51, 51); font-family: 微软雅黑; letter-spacing: 0px; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">mysql5.6.29</span></p><p><span style=\"color: rgb(51, 51, 51); font-family: 微软雅黑; letter-spacing: 0px; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\"></span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-align:justify;text-justify:inter-ideograph;line-height:28px\"><span style=\"color: rgb(51, 51, 51); letter-spacing: 0px; font-size: 16px; font-family: arial, helvetica, sans-serif; background: rgb(255, 255, 255);\">安装最新的rpm文件</span><span style=\"color: rgb(51, 51, 51); font-family: arial, helvetica, sans-serif; letter-spacing: 0px; background-color: rgb(255, 255, 255);\"></span></p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;&nbsp;-Uvh&nbsp;http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm</pre><p style=\";text-align:justify;text-justify:inter-ideograph\"><span style=\"font-family: 微软雅黑;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\"></span></p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;mysql-community-server&nbsp;-y\r\nservice&nbsp;mysqld&nbsp;start</pre><p style=\";text-align:justify;text-justify:inter-ideograph\"><span style=\"font-family: 微软雅黑;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\"></span>连接数据库，密码为空</p><pre class=\"brush:php;toolbar:false\">mysql&nbsp;-uroot&nbsp;-p\r\nuse&nbsp;mysql&nbsp;\r\ndelete&nbsp;from&nbsp;user&nbsp;where&nbsp;host&nbsp;&lt;&gt;&nbsp;&#39;127.0.0.1&#39;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注意：单引号用英文&nbsp;\r\nselect&nbsp;host,user,password&nbsp;from&nbsp;user;\r\nupdate&nbsp;user&nbsp;set&nbsp;host=&#39;%&#39;,password=password(&#39;123456&#39;);&nbsp;//修改登录ip为任意；密码为123456&nbsp;&nbsp;\r\nflush&nbsp;privileges;&nbsp;&nbsp;&nbsp;//刷新mysql帐号权限</pre><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-align:justify;text-justify:inter-ideograph;line-height:28px\"><span style=\"color: rgb(51, 51, 51); letter-spacing: 0px; font-size: 16px; font-family: arial, helvetica, sans-serif; background: rgb(255, 255, 255);\"></span>加入开机启动</p><pre class=\"brush:php;toolbar:false\">chkconfig&nbsp;mysqld&nbsp;on</pre><p><br/></p><p>PHP 安装 这里我选用5.4 （5.5、5.6、7 以下均有方法）</p><p>1、检查当前安装的PHP包</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;list&nbsp;installed&nbsp;|&nbsp;grep&nbsp;php</pre><p>如果有安装的PHP包，先删除他们</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;remove&nbsp;php*</pre><p>2、导入rmp包</p><p>Centos 5.X</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-Uvh&nbsp;http://mirror.webtatic.com/yum/el5/latest.rpm</pre><p>CentOs 6.x</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-Uvh&nbsp;http://mirror.webtatic.com/yum/el6/latest.rpm</pre><p>CentOs 7.X</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-Uvh&nbsp;https://mirror.webtatic.com/yum/el7/epel-release.rpm\r\nrpm&nbsp;-Uvh&nbsp;https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</pre><p>如果想删除上面安装的包，重新安装</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-qa&nbsp;|&nbsp;grep&nbsp;webstatic\r\nrpm&nbsp;-e&nbsp;&nbsp;上面搜索到的包即可</pre><p>3、运行yum install</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;php54w&nbsp;&nbsp;php54w-bcmath&nbsp;php54w-cli&nbsp;php54w-common&nbsp;&nbsp;php54w-devel&nbsp;&nbsp;php54w-gd&nbsp;php54w-imap&nbsp;&nbsp;php54w-ldap&nbsp;php54w-mbstring&nbsp;php54w-mcrypt&nbsp;php54w-mysql&nbsp;&nbsp;&nbsp;php54w-odbc&nbsp;&nbsp;&nbsp;php54w-pdo&nbsp;&nbsp;&nbsp;php54w-pear&nbsp;&nbsp;php54w-pecl-igbinary&nbsp;&nbsp;php54w-xml&nbsp;php54w-xmlrpc&nbsp;php54w-opcache&nbsp;php54w-intl&nbsp;php54w-pecl-memcache\r\n\r\nyum&nbsp;install&nbsp;php55w.x86_64&nbsp;php55w-cli.x86_64&nbsp;php55w-common.x86_64&nbsp;php55w-gd.x86_64&nbsp;php55w-ldap.x86_64&nbsp;php55w-mbstring.x86_64&nbsp;php55w-mcrypt.x86_64&nbsp;php55w-mysql.x86_64&nbsp;php55w-pdo.x86_64\r\n\r\nyum&nbsp;install&nbsp;php56w.x86_64&nbsp;php56w-cli.x86_64&nbsp;php56w-common.x86_64&nbsp;php56w-gd.x86_64&nbsp;php56w-ldap.x86_64&nbsp;php56w-mbstring.x86_64&nbsp;php56w-mcrypt.x86_64&nbsp;php56w-mysql.x86_64&nbsp;php56w-pdo.x86_64\r\n\r\nyum&nbsp;install&nbsp;php70w.x86_64&nbsp;php70w-cli.x86_64&nbsp;php70w-common.x86_64&nbsp;php70w-gd.x86_64&nbsp;php70w-ldap.x86_64&nbsp;php70w-mbstring.x86_64&nbsp;php70w-mcrypt.x86_64&nbsp;php70w-mysql.x86_64&nbsp;php70w-pdo.x86_64</pre><p>4、安装PHP FPM</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;php54w-fpm\r\nyum&nbsp;install&nbsp;php55w-fpm&nbsp;\r\nyum&nbsp;install&nbsp;php56w-fpm&nbsp;\r\nyum&nbsp;install&nbsp;php70w-fpm</pre><p>注：如果想升级到5.6把上面的55w换成56w就可以了。</p><pre class=\"brush:php;toolbar:false\">service&nbsp;php-fpm&nbsp;start&nbsp;启动php-fpm</pre><pre class=\"brush:php;toolbar:false\">chkconfig&nbsp;php-fpm&nbsp;on&nbsp;&nbsp;开机自启动</pre><p>用作生成环境的话php.ini要做一些修改</p><pre class=\"brush:php;toolbar:false\">disable_functions&nbsp;=&nbsp;passthru,exec,system,chroot,scandir,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restore,dl,openlog,syslog,readlink,symlink,popepassthru,stream_socket_server,escapeshellcmd,dll,popen,disk_free_space,checkdnsrr,checkdnsrr,getservbyname,getservbyport,disk_total_space,posix_ctermid,posix_get_last_error,posix_getcwd,&nbsp;posix_getegid,posix_geteuid,posix_getgid,&nbsp;posix_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid,&nbsp;posix_getppid,posix_getpwnam,posix_getpwuid,&nbsp;posix_getrlimit,&nbsp;posix_getsid,posix_getuid,posix_isatty,&nbsp;posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid,&nbsp;posix_setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname</pre><pre class=\"brush:php;toolbar:false\">date.timezone&nbsp;=&nbsp;PRC&nbsp;&nbsp;&nbsp;#设置时区\r\nexpose_php&nbsp;=&nbsp;OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#禁止显示php版本的信息\r\nshort_open_tag&nbsp;=&nbsp;ON&nbsp;&nbsp;&nbsp;#支持php短标签</pre><p style=\"text-indent:28px;text-align:justify;text-justify:inter-ideograph\"><span style=\"font-family: 宋体; font-size: 14px;\">整合&nbsp;</span><span style=\"font-size: 14px; font-family: Calibri;\">Nginx&nbsp;+&nbsp;php &nbsp;</span><br/></p><pre class=\"brush:php;toolbar:false\">&nbsp;location&nbsp;~&nbsp;\\.php$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;&nbsp;127.0.0.1:9000;\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_param&nbsp;&nbsp;SCRIPT_FILENAME&nbsp;&nbsp;$DOCUMENT_ROOT$fastcgi_script_name;\r\n&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_params;\r\n}</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('81', 'Centos设置网络连接', '81', '1459259460', '1494401182', '<!--markdown--><p>新配置一台服务器首先就是配置网络方便远程管理。</p><p>常见的Linux远程工具：putty，Xshell，secureCRT。我本人喜欢用Xshell。这些工具一定要从官方网站下载。</p><p>新系统一般没有vim，用vi就可以。调通网络 yum install vim -y 安装即可！</p><p>在虚拟机一般是&nbsp;ifcfg-eth0，在服务器真机上看你插哪个网口了。真机上一般是em1,em2,em3,em4。</p><pre class=\"brush:php;toolbar:false\">vi&nbsp;/etc/sysconfig/network-scripts/ifcfg-eth0\r\nDEVICE=eth0&nbsp;&nbsp;设备名称\r\nBOOTPROTO=dhcp&nbsp;/static&nbsp;&nbsp;自动获取/静态ip（服务器一般static）\r\nIPADDR=IP地址\r\nNETMASK=掩码\r\nGATEWAY=网关\r\nONBOOT=yes&nbsp;&nbsp;开机激活网卡\r\n&nbsp;\r\nvi&nbsp;/etc/resolv.conf&nbsp;&nbsp;&nbsp;增加&nbsp;&nbsp;nameserver&nbsp;114.114.114.114\r\n&nbsp;\r\nservice&nbsp;network&nbsp;restart&nbsp;&nbsp;重启网络</pre><p>自动获取网络配置</p><pre class=\"brush:php;toolbar:false\">vi&nbsp;/etc/sysconfig/network-scripts/ifcfg-eth0\r\nDEVICE=eth1\r\nBOOTPROTO=dhcp\r\nONBOOT=yes\r\n保存之后重启网卡&nbsp;&nbsp;service&nbsp;network&nbsp;restart</pre><p><br/></p><p>配置完成能ping通，就可以远程管理了。</p><!--more--><p><img src=\"/usr/uploads/2016/03/29/1459260241252017.jpg\" style=\"\" title=\"1459260241252017.jpg\"/></p><p><img src=\"/usr/uploads/2016/03/29/1459260242786479.jpg\" style=\"\" title=\"1459260242786479.jpg\"/></p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('83', '神东语录（持续更新中）', '83', '1459260720', '1461239760', '<!--markdown--><p><br/></p><p>1、代码都是从上往下，一行一行去执行的！</p><p><br/></p><p>2、我给大家讲一下echo的用法。</p><p><br/></p><p>3、慌什么，天又没塌下来！</p><p><br/></p><p>4、急什么，拉屎还要先脱裤子来！</p><p><br/></p><p>5、人是会坑人的，程序不会。</p><p><br/></p><p>6、我自认为我比较笨，我都是一遍又一遍的去背去记！</p><p><br/></p><p>7、他还能上天啊！</p>', '0', '1', null, 'post', 'publish', null, '6', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('88', 'Centos6.5通过yum安装LNMP稳定版', '@80', '1459258260', '1459303209', '<!--markdown--><p>记录Centos用yum安装nginx，mysql，php的稳定版。<br/></p><p><br/></p><p>Nginx当前稳定版本1.8.1</p><p>首先配置 nginx 源</p><pre class=\"brush:php;toolbar:false\">vim&nbsp;/etc/yum.repos.d/nginx.repo&nbsp;&nbsp;（新建的文件）</pre><pre class=\"brush:php;toolbar:false\">#nginx.repo&nbsp;&nbsp;&nbsp;&nbsp;\r\n[nginx]&nbsp;&nbsp;\r\nname=nginx&nbsp;repo&nbsp;&nbsp;\r\nbaseurl=http://nginx.org/packages/centos/6/$basearch/&nbsp;&nbsp;\r\ngpgcheck=0&nbsp;&nbsp;\r\nenabled=1</pre><p>:wq 保存退出。<br/></p><p><br/></p><p>安装nginx</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;nginx</pre><p>如果之前安装了低版本，可以平滑升级</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;update&nbsp;nginx</pre><!--more--><p>添加开机启动</p><pre class=\"brush:php;toolbar:false\">chkconfig&nbsp;nginx&nbsp;on</pre><p><img src=\"/usr/uploads/2016/03/29/1459256272931346.png\" title=\"1459256272931346.png\" alt=\"nginx_1.png\"/></p><p><br/></p><p>Mysql 当前稳定版本<span style=\"color: rgb(51, 51, 51); font-family: 微软雅黑; letter-spacing: 0px; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\">mysql5.6.29</span></p><p><span style=\"color: rgb(51, 51, 51); font-family: 微软雅黑; letter-spacing: 0px; line-height: 28px; text-align: justify; background-color: rgb(255, 255, 255);\"></span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-align:justify;text-justify:inter-ideograph;line-height:28px\"><span style=\"color: rgb(51, 51, 51); letter-spacing: 0px; font-size: 16px; font-family: arial, helvetica, sans-serif; background: rgb(255, 255, 255);\">安装最新的rpm文件</span><span style=\"color: rgb(51, 51, 51); font-family: arial, helvetica, sans-serif; letter-spacing: 0px; background-color: rgb(255, 255, 255);\"></span></p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;&nbsp;-Uvh&nbsp;http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm</pre><p style=\";text-align:justify;text-justify:inter-ideograph\"><span style=\"font-family: 微软雅黑;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\"></span></p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;mysql-community-server&nbsp;-y\r\nservice&nbsp;mysqld&nbsp;start</pre><p style=\";text-align:justify;text-justify:inter-ideograph\"><span style=\"font-family: 微软雅黑;color: rgb(51, 51, 51);letter-spacing: 0;font-size: 16px;background: rgb(255, 255, 255)\"></span>连接数据库，密码为空</p><pre class=\"brush:php;toolbar:false\">mysql&nbsp;-uroot&nbsp;-p\r\nuse&nbsp;mysql&nbsp;\r\ndelete&nbsp;from&nbsp;user&nbsp;where&nbsp;host&nbsp;&lt;&gt;&nbsp;&#39;127.0.0.1&#39;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注意：单引号用英文&nbsp;\r\nselect&nbsp;host,user,password&nbsp;from&nbsp;user;\r\nupdate&nbsp;user&nbsp;set&nbsp;host=&#39;%&#39;,password=password(&#39;123456&#39;);&nbsp;//修改登录ip为任意；密码为123456&nbsp;&nbsp;\r\nflush&nbsp;privileges;&nbsp;&nbsp;&nbsp;//刷新mysql帐号权限</pre><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;text-indent:0;padding:0 0 0 0 ;text-align:justify;text-justify:inter-ideograph;line-height:28px\"><span style=\"color: rgb(51, 51, 51); letter-spacing: 0px; font-size: 16px; font-family: arial, helvetica, sans-serif; background: rgb(255, 255, 255);\"></span>加入开机启动</p><pre class=\"brush:php;toolbar:false\">chkconfig&nbsp;mysqld&nbsp;on</pre><p><br/></p><p>PHP 安装 这里我选用5.4 （5.5、5.6、7 以下均有方法）</p><p>1、检查当前安装的PHP包</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;list&nbsp;installed&nbsp;|&nbsp;grep&nbsp;php</pre><p>如果有安装的PHP包，先删除他们</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;remove&nbsp;php*</pre><p>2、导入rmp包</p><p>Centos 5.X</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-Uvh&nbsp;http://mirror.webtatic.com/yum/el5/latest.rpm</pre><p>CentOs 6.x</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-Uvh&nbsp;http://mirror.webtatic.com/yum/el6/latest.rpm</pre><p>CentOs 7.X</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-Uvh&nbsp;https://mirror.webtatic.com/yum/el7/epel-release.rpm\r\nrpm&nbsp;-Uvh&nbsp;https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</pre><p>如果想删除上面安装的包，重新安装</p><pre class=\"brush:php;toolbar:false\">rpm&nbsp;-qa&nbsp;|&nbsp;grep&nbsp;webstatic\r\nrpm&nbsp;-e&nbsp;&nbsp;上面搜索到的包即可</pre><p>3、运行yum install</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;php54w&nbsp;&nbsp;php54w-bcmath&nbsp;php54w-cli&nbsp;php54w-common&nbsp;&nbsp;php54w-devel&nbsp;&nbsp;php54w-gd&nbsp;php54w-imap&nbsp;&nbsp;php54w-ldap&nbsp;php54w-mbstring&nbsp;php54w-mcrypt&nbsp;php54w-mysql&nbsp;&nbsp;&nbsp;php54w-odbc&nbsp;&nbsp;&nbsp;php54w-pdo&nbsp;&nbsp;&nbsp;php54w-pear&nbsp;&nbsp;php54w-pecl-igbinary&nbsp;&nbsp;php54w-xml&nbsp;php54w-xmlrpc&nbsp;php54w-opcache&nbsp;php54w-intl&nbsp;php54w-pecl-memcache\r\n\r\nyum&nbsp;install&nbsp;php55w.x86_64&nbsp;php55w-cli.x86_64&nbsp;php55w-common.x86_64&nbsp;php55w-gd.x86_64&nbsp;php55w-ldap.x86_64&nbsp;php55w-mbstring.x86_64&nbsp;php55w-mcrypt.x86_64&nbsp;php55w-mysql.x86_64&nbsp;php55w-pdo.x86_64\r\n\r\nyum&nbsp;install&nbsp;php56w.x86_64&nbsp;php56w-cli.x86_64&nbsp;php56w-common.x86_64&nbsp;php56w-gd.x86_64&nbsp;php56w-ldap.x86_64&nbsp;php56w-mbstring.x86_64&nbsp;php56w-mcrypt.x86_64&nbsp;php56w-mysql.x86_64&nbsp;php56w-pdo.x86_64\r\n\r\nyum&nbsp;install&nbsp;php70w.x86_64&nbsp;php70w-cli.x86_64&nbsp;php70w-common.x86_64&nbsp;php70w-gd.x86_64&nbsp;php70w-ldap.x86_64&nbsp;php70w-mbstring.x86_64&nbsp;php70w-mcrypt.x86_64&nbsp;php70w-mysql.x86_64&nbsp;php70w-pdo.x86_64</pre><p>4、安装PHP FPM</p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;php54w-fpm\r\nyum&nbsp;install&nbsp;php55w-fpm&nbsp;\r\nyum&nbsp;install&nbsp;php56w-fpm&nbsp;\r\nyum&nbsp;install&nbsp;php70w-fpm</pre><p>注：如果想升级到5.6把上面的55w换成56w就可以了。</p><pre class=\"brush:php;toolbar:false\">service&nbsp;php-fpm&nbsp;start&nbsp;启动php-fpm</pre><pre class=\"brush:php;toolbar:false\">chkconfig&nbsp;php-fpm&nbsp;on&nbsp;&nbsp;开机自启动</pre><p>用作生成环境的话php.ini要做一些修改</p><pre class=\"brush:php;toolbar:false\">disable_functions&nbsp;=&nbsp;passthru,exec,system,chroot,scandir,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restore,dl,openlog,syslog,readlink,symlink,popepassthru,stream_socket_server,escapeshellcmd,dll,popen,disk_free_space,checkdnsrr,checkdnsrr,getservbyname,getservbyport,disk_total_space,posix_ctermid,posix_get_last_error,posix_getcwd,&nbsp;posix_getegid,posix_geteuid,posix_getgid,&nbsp;posix_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid,&nbsp;posix_getppid,posix_getpwnam,posix_getpwuid,&nbsp;posix_getrlimit,&nbsp;posix_getsid,posix_getuid,posix_isatty,&nbsp;posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid,&nbsp;posix_setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname</pre><pre class=\"brush:php;toolbar:false\">date.timezone&nbsp;=&nbsp;PRC&nbsp;&nbsp;&nbsp;#设置时区\r\nexpose_php&nbsp;=&nbsp;OFF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#禁止显示php版本的信息\r\nshort_open_tag&nbsp;=&nbsp;ON&nbsp;&nbsp;&nbsp;#支持php短标签</pre><p style=\"text-indent:28px;text-align:justify;text-justify:inter-ideograph\"><span style=\"font-family: 宋体; font-size: 14px;\">整合&nbsp;</span><span style=\"font-size: 14px; font-family: Calibri;\">Nginx&nbsp;+&nbsp;php &nbsp;</span><br/></p><pre class=\"brush:php;toolbar:false\">&nbsp;location&nbsp;~&nbsp;\\.php$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html;\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;&nbsp;127.0.0.1:9000;\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;&nbsp;index.php;\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_param&nbsp;&nbsp;SCRIPT_FILENAME&nbsp;&nbsp;$DOCUMENT_ROOT$fastcgi_script_name;\r\n&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_params;\r\n}</pre><p><br/></p>', '0', '1', null, 'post_draft', 'publish', null, '0', '1', '1', '1', '80');
INSERT INTO `typecho_contents` VALUES ('89', '获取PHP进程中的所有全局变量和常量，所有内置函数', '89', '1459731351', '1459731351', '<!--markdown--><p style=\"margin-top: 0px; margin-bottom: 10px; padding: 0px; color: rgb(67, 72, 84); font-family: Verdana, Tahoma, &#39;BitStream vera Sans&#39;, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 17.4px; white-space: normal; background-color: rgb(246, 252, 255);\"><span style=\"font-family: 宋体, SimSun; font-size: 16px;\">有时候检测程序中所有的变量以及常量，则需要用到一下的函数</span></p><pre class=\"brush:php;toolbar:false\">$GLOBALS&nbsp;—&nbsp;保存所有全局变量(只在当前页面中的)\r\nget_defined_vars()&nbsp;—&nbsp;返回由所有已定义变量所组成的数组(包括全局变量,超全局变量等)\r\nget_defined_constants()&nbsp;—&nbsp;返回由所有已定义常量所组成的数组</pre><p><span style=\"font-family: 宋体, SimSun;\"><span style=\"color: rgb(67, 72, 84); font-family: 宋体, SimSun; line-height: 17.4px; background-color: rgb(246, 252, 255);\"><span style=\"font-family: 宋体, SimSun;\">PHP输出所有内置函数+排版</span></span></span></p><p></p><pre class=\"brush:php;toolbar:false\">$func&nbsp;=&nbsp;get_defined_functions();\r\necho&nbsp;&#39;&lt;pre&gt;&#39;;\r\nprint_r($func[&#39;internal&#39;]);\r\necho&nbsp;&#39;&lt;/pre&gt;&#39;;</pre><p><span style=\"font-family: 宋体, SimSun;\"><span style=\"color: rgb(67, 72, 84); font-family: 宋体, SimSun; line-height: 17.4px; background-color: rgb(246, 252, 255);\"><span style=\"font-family: 宋体, SimSun;\"></span></span></span><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('90', 'Nginx出现413 Request Entity Too Large错误解决方法', '90', '1460096580', '1471405436', '<!--markdown--><p>&nbsp; &nbsp; 今天迁移了一个网站到服务器上，LNMP环境，视频上传传不上去。从浏览器的Network报错看到</p><h1 style=\"font-family: Simsun; text-align: -webkit-center; white-space: normal; background-color: rgb(255, 255, 255);\">413 Request Entity Too Large</h1><p>解决方法：</p><pre class=\"brush:php;toolbar:false\">whereis&nbsp;nginx.conf&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;找到nginx主配置文件&nbsp;&nbsp;yum安装的在&nbsp;/etc/nginx&nbsp;&nbsp;下\r\nvim&nbsp;nginx.conf</pre><p><br/>找到http{}段，修改或者添加</p><pre class=\"brush:php;toolbar:false\">client_max_body_size&nbsp;200m;</pre><pre class=\"brush:php;toolbar:false\">nginx&nbsp;-s&nbsp;reload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;重新加载nginx配置</pre><p><span style=\"color: rgb(255, 0, 0);\"></span><br/></p><p><span style=\"color: rgb(255, 0, 0);\">总结：</span> LNMP的环境，大文件上传有 php.ini nginx.conf &nbsp;所控制。</p><p>php.ini 上传大文件主要涉及配置upload_max_filesize和post_max_size两个选项。</p><p>查资料看到&nbsp;post_max_size 最大值最好不要超过2048，就是2G，我也没有超大文件上传，没有深究。</p><p>还有在上传大文件时，你会有上传速度慢的感觉，当超过一定的时间，会报脚本执行超过30秒的错误，这是因为在php.ini配置文件中max_execution_time配置选项在作怪，其表示每个脚本最大允许执行时间(秒)，0 表示没有限制。你可以适当调整max_execution_time的值，不推荐设定为0。</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('93', 'Mysql主从复制，实现读写分离', '93', '1461242340', '1461242479', '<!--markdown--><p>\r\n    &nbsp; &nbsp;今天整理下配置主从复制的过程。原理很简单，主库负责插入修改删除，产生log文件，丛库用授权的账号去读mysql操作记录，然后同步。在这里也很感谢我工作中的头，放手让我去做，生产环境配置的时候一同加班给我压阵！<br/>\r\n</p>\r\n<p>\r\n    &nbsp; &nbsp;我的头是一位传奇的人物，关于他说过的话请看 <a href=\"http://test.yusure.cn/Personal/83.html\" target=\"_blank\" title=\"神东语录\">神东语录</a>。\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>\r\n<p>\r\n    &nbsp; &nbsp;首先服务器上的mysql已经配置完成。我选用的是 5.6.29 版本要统一。\r\n</p>\r\n<p>\r\n    &nbsp; &nbsp;停掉当前的业务，打包数据库myisam的直接打包数据目录放到FTP目录。在丛库的服务器上FTP到主库，get到从服务器上，保持数据库的一致性。\r\n</p>\r\n<p>\r\n    &nbsp; &nbsp;创建丛库同步的mysql账号，添加服务器权限( File, Replication Slave, Replication Client )，可以用Navicat去操作。多个丛库，就添加多个允许登陆的ip不一样而已。\r\n</p>\r\n<!--more-->\r\n<pre class=\"brush:php;toolbar:false\">CREATE USER &#39;yusure_slave&#39;@&#39;192.168.0.102&#39; IDENTIFIED BY &#39;123456&#39;;\r\nGRANT FILE, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO &#39;yusure_slave&#39;@&#39;192.168.0.102&#39;;</pre>\r\n<p>\r\n    <strong>master主服务器上设置：</strong>\r\n</p>\r\n<p>\r\n    1、编辑my.ini文件\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">    server-id = 1         // 添加server-id必须为1到232–1之间的一个正整数\r\n    log-bin = mysql-bin     // 会在mysql的data目录生成\r\n    binlog-do-db = gaoyipin  // 同步 gaoyipin 库 其他库都不同步\r\n    binlog-ignore-db = mysql  //不同步</pre>\r\n<p>\r\n    2、重启mysql数据库\r\n</p>\r\n<p>\r\n    3、记录当前的二进制日志名和偏移量 &nbsp;\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">show master status; //得到主服务器上当前的二进制日志名和偏移量</pre>\r\n<p>\r\n    <br/>\r\n</p>\r\n<p>\r\n    slave从服务器上设置(多个丛库server-id依次+1)：\r\n</p>\r\n<p>\r\n    1、编辑my.cnf文件\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">   server-id = 2   // slave的ID号，此处一定要大于master端。\r\n   replicate-do-db = gaoyipin</pre>\r\n<p>\r\n    2、重启mysql数据库\r\n</p>\r\n<pre class=\"brush:php;toolbar:false\">stop slave;</pre>\r\n<pre class=\"brush:php;toolbar:false\">change master to\r\nmaster_host = &#39;192.168.0.102&#39;,         // 主库地址\r\nmaster_port = 3306,                // 主库端口\r\nmaster_user = &#39;gaoyipin&#39;,            // master端创建的用于主从同步的账户和密码\r\nmaster_password = &#39;**********&#39;,           // 密码\r\nmaster_log_file=&#39;mysql-bin.000019&#39;,      //master端记录的file值\r\nmaster_log_pos=1238;                // master端记录的position值</pre>\r\n<pre class=\"brush:php;toolbar:false\">start slave;\r\nshow slave status;</pre>\r\n<p>\r\n    看这两个参数 Slave_IO_Running &nbsp; &nbsp;Yes &nbsp; Slave_SQL_Running &nbsp; Yes &nbsp;那就证明主从正常了\r\n</p>\r\n<p>\r\n    show processlist; &nbsp; // 显示从服务器上的进程\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>\r\n<p>\r\n    <strong><span style=\"color: rgb(255, 0, 0);\">注意：主从数据库初始信息要相同，包括表结构、表数据、编码等，如果不相同，则将master主服务器中的信息先备份，然后再导入到从服务器。</span></strong>\r\n</p>\r\n<p>\r\n    <strong><span style=\"color: rgb(255, 0, 0);\"><br/></span></strong>\r\n</p>\r\n<p>\r\n    ********************** &nbsp;跳过错误 &nbsp;*****************************\r\n</p>\r\n<p>\r\n    停止从库\r\n</p>\r\n<p>\r\n    stop slave;\r\n</p>\r\n<p>\r\n    查看从库状态\r\n</p>\r\n<p>\r\n    show slave status;\r\n</p>\r\n<p>\r\n    SET GLOBAL SQL_SLAVE_SKIP_COUNTER = 1 &nbsp; &nbsp; &nbsp; &nbsp;#跳过一个事务\r\n</p>\r\n<p>\r\n    开启从库\r\n</p>\r\n<p>\r\n    start slave;\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('94', 'mysql 日志文件mysql-bin文件清除方法', '94', '1461242976', '1461242976', '<!--markdown--><p>&nbsp; &nbsp;mysql配置了log-bin,就要设置过期删除的时间要不然会越来越多占满服务器的磁盘。<br/></p><p><br/></p><p>一、编辑配置文件&nbsp;vim /etc/my.cnf</p><pre class=\"brush:php;toolbar:false\">expire_logs_days&nbsp;=&nbsp;10&nbsp;&nbsp;//二进制日志自动删除的天数。</pre><p>此方法需要重启mysql服务。</p><p><br/></p><p>二、无需重启mysql服务</p><pre class=\"brush:php;toolbar:false\">&gt;&nbsp;show&nbsp;binary&nbsp;logs;\r\n&gt;&nbsp;show&nbsp;variables&nbsp;like&nbsp;&#39;%log%&#39;;\r\n&gt;&nbsp;set&nbsp;global&nbsp;expire_logs_days&nbsp;=&nbsp;10;</pre><p><br/></p><p>手动清除binlog文件</p><pre class=\"brush:php;toolbar:false\">PURGE&nbsp;MASTER&nbsp;LOGS&nbsp;BEFORE&nbsp;DATE_SUB(CURRENT_DATE,&nbsp;INTERVAL&nbsp;10&nbsp;DAY);&nbsp;&nbsp;&nbsp;//删除10天前的MySQL&nbsp;binlog日志</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('95', 'Linux压缩，解压命令参数记录', '95', '1462414800', '1471942627', '<!--markdown--><pre class=\"brush:php;toolbar:false\">tar&nbsp;czvf&nbsp;test.tar.gz&nbsp;test&nbsp;&nbsp;压缩\r\ntar&nbsp;zxvf&nbsp;test.tar.gz&nbsp;&nbsp;&nbsp;解压</pre><p>-c — 创建一个新归档。</p><p>-f — 当与 -c 选项一起使用时，创建的 tar 文件使用该选项指定的文件名；当与 -x 选项</p><p>一起使用时，则解除该选项指定的归档。</p><p>-t — 显示包括在 tar 文件中的文件列表。</p><p>-v — 显示文件的归档进度。</p><p>-x — 从归档中抽取文件。</p><p>-z — 使用 gzip 来压缩 tar 文件。</p><p>-j — 使用 bzip2 来压缩 tar 文件。</p><p><br/></p><p><strong>CentOS安装zip unzip命令</strong></p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;zip&nbsp;unzip</pre><p>unzip的压缩文件操作</p><pre class=\"brush:php;toolbar:false\">解压：&nbsp;unzip&nbsp;filename.zip&nbsp;\r\n压缩：&nbsp;zip&nbsp;-r&nbsp;filename.zip&nbsp;files&nbsp;&nbsp;&nbsp;&nbsp;递归地压缩一个目录及目录下的文件</pre><p><a href=\"http://www.centoscn.com/CentOS/help/2013/0826/1448.html\" target=\"_blank\">CentOS中zip压缩和unzip解压缩命令详解</a></p><p><br/></p><p><strong>Centos 解压、压缩 rar文件</strong><br/></p><pre class=\"brush:php;toolbar:false\">cd&nbsp;/usr/local/src\r\nwget&nbsp;http://www.rarsoft.com/rar/rarlinux-4.0.1.tar.gz\r\ntar&nbsp;-xvf&nbsp;rarlinux-4.0.1.tar.gz\r\ncd&nbsp;rar\r\nmake</pre><p>看见下面这些信息就是安装成功了</p><p>mkdir -p /usr/local/bin</p><p>mkdir -p /usr/local/lib</p><p>cp rar unrar /usr/local/bin</p><p>cp rarfiles.lst /etc</p><p>cp default.sfx /usr/local/lib</p><pre class=\"brush:php;toolbar:false\">rar&nbsp;x&nbsp;filename.rar&nbsp;&nbsp;//&nbsp;解压&nbsp;filename.rar&nbsp;到当前目录\r\nrar&nbsp;filename.rar&nbsp;./filename.com/&nbsp;&nbsp;&nbsp;//&nbsp;将&nbsp;filename.com&nbsp;目录打包为&nbsp;filename.rar</pre><p>************************* &nbsp;使用的时候出现的错误 &nbsp;*****************************</p><p>运行命令rar时,出现下面这个问题</p><p>rar: /lib/i686/nosegneg/libc.so.6: version `GLIBC_2.7&#39; not found (required by rar)</p><p>解决办法：</p><p>cp rar_static /usr/local/bin/rar</p><p><br/></p><p>bash: /usr/local/bin/rar: /lib/ld-linux.so.2: bad ELF interpreter: No such file or directory</p><p>是因为64位系统中安装了32位程序</p><p>解决方法：</p><p>yum install glibc.i686</p><p>&nbsp;</p><p>重新安装以后还有如下类系错误 再继续安装包</p><p>error while loading shared libraries: libstdc++.so.6: cannot open shared object file: No such file or directory</p><p>yum install libstdc++.so.6</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('109', '解决字体文件Font跨域权限问题', '109', '1465029300', '1501033222', '<!--markdown--><p><strong>问题描述：</strong></p><p>Font from origin &#39;http://trunk.supply_chain.com&#39; has been blocked from loading by Cross-Origin Resource Sharing policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http://www.xicheng.com&#39; is therefore not allowed access.&nbsp; &nbsp; <img src=\"/usr/uploads/2016/06/04/1465028073140595.png\" title=\"1465028073140595.png\" alt=\"font跨域.png\"/>&nbsp; 之前这个问题2016.4.1遇到过，是amaze里的字体跨域，因为是生产环境Nginx，当时在本地都是一个域名，没有跨域这回事！上线之后静态资源有专门的域名，问题出现了，当时找的资料是nginx里面设置header，但是没效果，估计原因是没有header模块，时间紧迫，不可能编译线上的nginx了，只有把css里面的字体路径换成主站的url，暂时解决。</p><p>&nbsp;今天做多用户的供应点系统，老天真是眷顾我，问题又给我重现了，本地wamp集成环境。</p><!--more--><p><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px; white-space: normal;\">Apache服务器解决方法（在conf、或者.htaccess 添加均可）</strong></p><p><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px; white-space: normal;\"></strong></p><pre class=\"brush:php;toolbar:false\">&lt;FilesMatch&nbsp;&quot;\\.(ttf|otf|eot|woff|woff2)$&quot;&gt;\r\n&nbsp;&nbsp;&lt;IfModule&nbsp;mod_headers.c&gt;\r\n&nbsp;&nbsp;&nbsp;&nbsp;Header&nbsp;set&nbsp;Access-Control-Allow-Origin&nbsp;&quot;*&quot;\r\n&nbsp;&nbsp;&lt;/IfModule&gt;\r\n&lt;/FilesMatch&gt;</pre><p><strong style=\"font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px; white-space: normal;\">注意：&nbsp;<span style=\"color: rgb(255, 0, 0);\">LoadModule headers_module modules/mod_headers.so</span> &nbsp; &nbsp;这个模块一定要存在且加载成功的</strong><br/></p><p>如果以上模块不加载，单纯的配置 Header 将会报错，亲测踩坑，网上查的很多资料，都没有提及这个模块。&nbsp;</p><pre class=\"brush:php;toolbar:false\">Header&nbsp;set&nbsp;Access-Control-Allow-Origin&nbsp;&quot;*&quot;</pre><p>Invalid command &#39;Header&#39;, perhaps misspelled or defined by a module not included</p><p>&nbsp;in the server configuration</p><p><strong>注意：线上操作一定要先备份原有的配置文件，修改完配置文件之后一定要将配置文件进行语法检查。</strong></p><p><img src=\"/usr/uploads/2016/06/04/1465029191477288.png\" title=\"1465029191477288.png\" alt=\"blob.png\"/></p><p>这是我本地的语法测试截图。输出&nbsp;Syntax OK &nbsp;方可重启apache。</p><p><strong style=\"white-space: normal; font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px;\">Nginx服务器解决方法（在conf文件修改）</strong></p><p><strong style=\"white-space: normal; font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px;\"></strong></p><pre class=\"brush:php;toolbar:false\">location&nbsp;~*&nbsp;\\.(eot|otf|ttf|woff|woff2)$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;add_header&nbsp;Access-Control-Allow-Origin&nbsp;*;\r\n}</pre><p><strong style=\"white-space: normal; font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px;\">nginx/1.8.1 测试通过</strong><br/></p><p><strong style=\"white-space: normal; font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px;\"><img src=\"/usr/uploads/2016/06/04/1465030726176968.png\" title=\"1465030726176968.png\" alt=\"blob.png\"/></strong></p><p><strong style=\"white-space: normal; font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px;\"><img src=\"/usr/uploads/2016/06/04/1465030747918405.png\" title=\"1465030747918405.png\" alt=\"blob.png\"/></strong></p><p><strong style=\"white-space: normal; font-family: Tahoma, Helvetica, Arial, 宋体, sans-serif; font-size: 14px; line-height: 25px;\"><br/></strong></p><p>出问题的时候：</p><p><img src=\"/usr/uploads/2016/06/04/1465029265477801.png\" title=\"1465029265477801.png\" alt=\"blob.png\"/></p><p>问题解决时候：</p><p><img src=\"/usr/uploads/2016/06/04/1465029301243845.png\" title=\"1465029301243845.png\" alt=\"blob.png\"/></p>', '0', '1', null, 'post', 'publish', null, '1', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('97', 'PHP获取各种起止时间', '97', '1462959360', '1462959423', '<!--markdown--><pre class=\"brush:php;toolbar:false\">&lt;?php\r\n/*&nbsp;当日起止时间&nbsp;*/\r\n$today_start&nbsp;=&nbsp;mktime(&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;,&nbsp;date(&#39;m&#39;),&nbsp;date(&#39;d&#39;),&nbsp;date(&#39;Y&#39;)&nbsp;);\r\n$today_end&nbsp;&nbsp;&nbsp;=&nbsp;mktime(&nbsp;&#39;23&#39;,&nbsp;&#39;59&#39;,&nbsp;&#39;59&#39;,&nbsp;date(&#39;m&#39;),&nbsp;date(&#39;d&#39;),&nbsp;date(&#39;Y&#39;)&nbsp;);\r\n/*&nbsp;周起止时间&nbsp;*/\r\n$w&nbsp;=&nbsp;date(&#39;w&#39;)&nbsp;?&nbsp;:&nbsp;7;\r\n$week_start&nbsp;=&nbsp;mktime(&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;,&nbsp;date(&#39;m&#39;),&nbsp;date(&#39;d&#39;)-$w+1,&nbsp;date(&#39;Y&#39;)&nbsp;);\r\n$week_end&nbsp;&nbsp;&nbsp;=&nbsp;mktime(&nbsp;&#39;23&#39;,&nbsp;&#39;59&#39;,&nbsp;&#39;59&#39;,&nbsp;date(&#39;m&#39;),&nbsp;date(&#39;d&#39;)-$w+7,&nbsp;date(&#39;Y&#39;)&nbsp;);\r\n/*&nbsp;月起止时间&nbsp;*/\r\n$month_start&nbsp;=&nbsp;mktime(&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;,&nbsp;&#39;0&#39;,&nbsp;date(&#39;m&#39;),&nbsp;1,&nbsp;date(&#39;Y&#39;)&nbsp;);\r\n$month_end&nbsp;&nbsp;&nbsp;=&nbsp;mktime(&nbsp;&#39;23&#39;,&nbsp;&#39;59&#39;,&nbsp;&#39;59&#39;,&nbsp;date(&#39;m&#39;),&nbsp;date(&#39;t&#39;),&nbsp;date(&#39;Y&#39;)&nbsp;);\r\n/*&nbsp;当日起止时间&nbsp;*/\r\n$today_stamp&nbsp;=&nbsp;strtotime(&#39;today&#39;);\r\n$tomorrow_stamp&nbsp;=&nbsp;strtotime(&#39;tomorrow&#39;)&nbsp;-&nbsp;1;</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('98', '记一次WIFI_dog系统的路由器信息不更新问题', '98', '1463562420', '1487574490', '<!--markdown--><p>&nbsp; &nbsp; 客户反馈问题：路由器在上网，但是信息一直显示离线。<br/></p><p><img src=\"/usr/uploads/2016/05/18/1463561868883731.png\" title=\"1463561868883731.png\" alt=\"2016-05-17_113704.png\"/><br/></p><p>中间各种曲折的过程，这里就不献丑了，直接上最终方法。<br/></p><p>首先查看nginx 的 access.log</p><p><img src=\"/usr/uploads/2016/05/18/1463562001314445.png\" title=\"1463562001314445.png\" alt=\"B_1.png\"/></p><p>Nginx 499 错误，抓到错误了，问题还想跑？</p><p>各种找nginx 499错误 的资料，原因可能是&nbsp;nginx认为是不安全的连接，主动拒绝了客户端的连接。</p><p>解决方案，修改nginx.conf 加入下面的配置，重启nginx。</p><pre class=\"brush:php;toolbar:false\">fastcgi_connect_timeout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;300s;&nbsp;\r\nfastcgi_send_timeout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;300s;&nbsp;\r\nfastcgi_read_timeout&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;300s;&nbsp;\r\nfastcgi_ignore_client_abort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on;&nbsp;\r\nproxy_ignore_client_abort&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on;</pre><p><img src=\"/usr/uploads/2016/05/18/1463562254839725.png\" title=\"1463562254839725.png\" alt=\"B_2.png\"/></p><p>再次查看日志状态就是 200了。<br/></p><p><img src=\"/usr/uploads/2016/05/18/1463562294950522.png\" title=\"1463562294950522.png\" alt=\"B_3.png\"/></p><p>到这里，系统正常了。</p><p>总结：生产环境的经验还是要靠积累，要善于从log中寻找答案，会分析各种log，来寻找相应的对策，还有就是耐心，解决这个问题，累计耗时10个小时，当然可能我比较笨吧。</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('107', '在线工具', '107', '1463578500', '1502093280', '<!--markdown--><p>Crontab在线验证 &nbsp;&nbsp;<a href=\"http://tool.lu/crontab/\" target=\"_blank\" textvalue=\"http://tool.lu/crontab/\">http://tool.lu/crontab/</a>&nbsp; &nbsp;<a href=\"http://www.atool.org/crontab.php\" target=\"_blank\" textvalue=\"http://www.atool.org/crontab.php\">http://www.atool.org/crontab.php</a>&nbsp;&nbsp;</p><p>多个地点Ping服务器 &nbsp;<a href=\"http://ping.chinaz.com/\" target=\"_blank\" textvalue=\"http://ping.chinaz.com/\">http://ping.chinaz.com/</a>&nbsp;</p><p>Unix时间戳转换工具 &nbsp;<a href=\"http://tool.chinaz.com/Tools/unixtime.aspx\" target=\"_blank\" textvalue=\"http://tool.chinaz.com/Tools/unixtime.aspx\">http://tool.chinaz.com/Tools/unixtime.aspx</a>&nbsp;</p><p>中文域名在线转码工具&nbsp;<a href=\"http://zhuanma.unue.cn/\" target=\"_blank\" textvalue=\"http://zhuanma.unue.cn/\">http://zhuanma.unue.cn/</a></p><p>偶API &nbsp;&nbsp;<a href=\"http://ouapi.com/\" target=\"_blank\">http://ouapi.com/</a></p><p>在线生成字体CSS样式工具 &nbsp;<a href=\"http://tools.sharejs.com/csstype.html\" target=\"_blank\" textvalue=\"http://tools.sharejs.com/csstype.html\">http://tools.sharejs.com/csstype.html</a></p><p>CSS 词汇表 &nbsp; &nbsp;<a href=\"https://www.magentonotes.com/tool/css-vocabulary/\" target=\"_blank\" textvalue=\"https://www.magentonotes.com/tool/css-vocabulary/\">https://www.magentonotes.com/tool/css-vocabulary/</a></p><p>CSS参考手册 &nbsp;<a href=\"http://css.doyoe.com/\" target=\"_self\">http://css.doyoe.com/</a></p><p>色值选择转换 &nbsp; &nbsp;&nbsp;<a href=\"http://www.atool.org/colorpicker.php\" target=\"_blank\" textvalue=\"http://www.atool.org/colorpicker.php\" style=\"white-space: normal;\">http://www.atool.org/colorpicker.php</a>&nbsp;&nbsp;</p><p>Bootstrap可视化布局 &nbsp;<a href=\"http://www.bootcss.com/p/layoutit/\" target=\"_blank\">http://www.bootcss.com/p/layoutit/</a>&nbsp; &nbsp; <a href=\"http://www.ibootstrap.cn/\" target=\"_blank\">http://www.ibootstrap.cn/</a> &nbsp; &nbsp;<a href=\"http://www.chforce.com/layoutit/\" target=\"_blank\">http://www.chforce.com/layoutit/</a> &nbsp; &nbsp;<a href=\"http://www.layoutit.cn/v3/index.html\" target=\"_blank\">http://www.layoutit.cn/v3/index.html</a></p>', '2', '1', null, 'page', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('111', '虚拟机freebsd与win7进行文件夹共享', '111', '1466838960', '1466839575', '<!--markdown--><p>&nbsp; 首先在win7 建一个共享文件夹，设置好权限(要读写everyone / 或者 administrator )<br/></p><p><img src=\"/usr/uploads/2016/06/25/1466838853504392.png\" title=\"1466838853504392.png\" alt=\"blob.png\"/></p><pre class=\"brush:php;toolbar:false\">格式：mount_smbfs&nbsp;-I&nbsp;172.16.3.94&nbsp;//usename@computername/共享文件夹&nbsp;/mnt\r\n例子：mount_smbfs&nbsp;-I&nbsp;172.16.3.94&nbsp;//yusure@YUSURE-PC/ecknow.cn&nbsp;/mnt</pre><p><br/></p><p>其中 &nbsp;-I 后边跟着windows主机的ip地址，username是具有访问共享资源权限的用户，一般为administrator，computername为windows计算机名,替换为你的实际参数即可。</p><p>挂载后就像你自己文件夹一样，进行操作即可。</p><pre class=\"brush:php;toolbar:false\">卸载：&nbsp;umount&nbsp;/mnt&nbsp;即可。</pre>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('112', '中文关键字搜索，出现 Illegal mix of collations for operation', '112', '1467076688', '1467076688', '<!--markdown--><p>&nbsp; 一套老程序，条件查询出现错误[Err] 1271 - Illegal mix of collations for operation &#39;like&#39;，打出sql，放到查询器出现这个报错。</p><p><img src=\"/usr/uploads/2016/06/28/1467076431284829.png\" title=\"1467076431284829.png\" alt=\"blob.png\"/><br/></p><p style=\"border: medium none; margin: 15px auto 0px; padding: 0px; line-height: 25px; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(245, 248, 253);\"><strong><span style=\"color: rgb(255, 0, 0);\">错误原理分析以及错误解决方法：</span></strong></p><p style=\"border: medium none; margin: 15px auto 0px; padding: 0px; line-height: 25px; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(245, 248, 253);\">在 MySQL 5.5 以上, 若字段 Type 是 time,date,datetime&nbsp;</p><p style=\"border: medium none; margin: 15px auto 0px; padding: 0px; line-height: 25px; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(245, 248, 253);\">在 select 時若使用 like &#39;%中文%&#39; 会出現 Illegal mix of collations for operation &#39;like&#39;<span id=\"__mceDel\"><br/></span></p><p style=\"border: medium none; margin: 15px auto 0px; padding: 0px; line-height: 25px; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(245, 248, 253);\">在写程序时要对每个字段进行搜索，在执行时可能就会出现时间字段 like &#39;%中文%&#39; 这种语法，</p><p style=\"border: medium none; margin: 15px auto 0px; padding: 0px; line-height: 25px; color: rgb(1, 1, 1); font-family: 宋体, tahoma, Srial, helvetica, sans-serif; font-size: 14px; white-space: normal; background-color: rgb(245, 248, 253);\">这在比较久的版本MySQL是不会出现错误的。但是升级到MySQL 5.5以上，必需改成like binary &#39;%中文%&#39; 即可避免出现错误</p><p><br/></p><p>我的是&nbsp;<img src=\"/usr/uploads/2016/06/28/1467076557506497.png\" title=\"1467076557506497.png\" alt=\"blob.png\"/>，用的mysql5.6，所以就出错了。</p><p><br/></p><p><img src=\"/usr/uploads/2016/06/28/1467076645277694.png\" title=\"1467076645277694.png\" alt=\"blob.png\"/></p><p>修改之后的sql，查询成功。</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('161', 'wamp 3.0.6(apache 2.4.23) 配置多站点', '161', '1492419360', '1492419963', '<!--markdown--><p>&nbsp; &nbsp; &nbsp;之前开发机器上一直用着wamp2.2，php5.4.3也有点落后了，composer更新很多类都提示要升级php版本了，于是就下载了wampserver3.0.6，软件包200多M。apache2.4.23_mysql5.7.14_php5.6.25-7.0.10。安装之后php5.6，php7.0随意切换。有些项目是mysql的，还是乖乖用5.6吧，毕竟php7没有mysql驱动，可以用mysqli,pdo_mysql。推荐用PDO来操作数据库。</p><p>&nbsp; &nbsp; <span style=\"color: rgb(255, 0, 0);\">注意：vc++ 2015要安装，没有的话apache跑不了。</span></p><p>&nbsp; &nbsp; 装完wamp3就要配置多站点了，apache2.4是要将其中的 <span style=\"color: rgb(255, 0, 0);\">Require local</span> 修改成 <span style=\"color: rgb(0, 176, 80);\">Require all granted</span></p><p><span style=\"color: rgb(0, 176, 80);\"><img src=\"/usr/uploads/2017/04/17/1492419045446288.png\" title=\"1492419045446288.png\" alt=\"blob.png\"/></span></p><p><span style=\"color: rgb(0, 176, 80);\"><span style=\"color: rgb(0, 0, 0);\">&nbsp; &nbsp; 因为我之前的是wamp2.2，很多项目还在之前的旧的目录，所以在apache2.4下授权旧的目录，这样就可以把原来的配置文件复制过来用了，目录授权之后DocumentRoot配置的路径也不用动。在httpd.conf里面属于全局配置，也可以在httpd-vhosts.conf里面单独配置。</span><br/></span></p><p><span style=\"color: rgb(0, 176, 80);\"><span style=\"color: rgb(0, 0, 0);\"><img src=\"/usr/uploads/2017/04/17/1492419142656356.png\" title=\"1492419142656356.png\" alt=\"blob.png\"/></span></span></p><p><span style=\"color: rgb(0, 176, 80);\"><span style=\"color: rgb(0, 0, 0);\">&nbsp; &nbsp; 最后重启apache。</span></span></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('114', 'FreeBSD使用ntpd校时服务进行自动时间校准', '114', '1471243440', '1471858877', '<!--markdown--><p>&nbsp; &nbsp; 今天上服务器看时间又落后了好几分钟，之前一直用手动同步时间，我就在考虑怎么样自动同步时间。一开始想crontab每天定时执行同步时间命令，后来找资料发现ntpd服务可以自动校准。</p><pre class=\"brush:php;toolbar:false\">&nbsp;&nbsp;&nbsp;&nbsp;ntpdate&nbsp;cn.pool.ntp.org&nbsp;&nbsp;&nbsp;#&nbsp;手动在线校正时间</pre><p>&nbsp; &nbsp;</p><p>1、修改/etc/rc.conf，加入一行ntpd_enable=&quot;YES&quot;。</p><p>2、修改/etc/ntp.conf，按照自己要求写入配置选项。如果无此文件新建即可，一般无需修改，直接默认。</p><p>3、运行/etc/rc.d/ntpd start启动服务。</p><p>&nbsp;<br/></p><p>一会之后时间就正常了。</p><p><span style=\"color: rgb(255, 0, 0);\"><strong>特别注意：</strong></span>ntp旧版本存在很严重的漏洞，很容易被ddos 大流量攻击，4.2.7p26 这个版本以前都有此漏洞。</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('115', 'Nginx 防止被域名恶意解析的方法', '115', '1471401000', '1471405415', '<!--markdown--><p>&nbsp; &nbsp; 服务器这两天流量突增，负载也上去了，影响线上的业务很卡。</p><p>&nbsp; &nbsp; 先看日志，access日志太大，先把日志切割，通过日志发现里面有很多别的陌生域名的访问日志，解决方法就是拒绝nginx的默认解析。</p><pre class=\"brush:php;toolbar:false\">server&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;&nbsp;default_server;\r\n&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;_;\r\n&nbsp;&nbsp;&nbsp;&nbsp;access_log&nbsp;&nbsp;&nbsp;off;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;403;\r\n}</pre><p>原理就是给不正常的解析返回一个错误状态,并关闭log记录。<br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('117', 'CentOS下调整home和根分区大小', '117', '1471855620', '1471855832', '<!--markdown--><p>新装的机器，如果安装时候没有调整分区，装好之后应该都在/home 下的，所以需要调整到根目录。</p><p>目标：将VolGroup-lv_home缩小到20G，并将剩余的空间添加给VolGroup-lv_root</p><p><br/></p><p><strong>1.首先查看磁盘使用情况</strong></p><p>[root@localhost ~]# df -h<br/></p><p>文件系统 容量 已用 可用 已用% 挂载点</p><p>Filesystem Size Used Avail Use% Mounted on</p><p>/dev/mapper/VolGroup-lv_root 154G 7.9G 139G 6% /</p><p>tmpfs 1.9G 100K 1.9G 1% /dev/shm</p><p>/dev/sda1 485M 69M 391M 15% /boot</p><p>/dev/mapper/VolGroup-lv_home 299G 984M 283G 1% /home</p><!--more--><p><br/></p><p><strong>2、卸载/home</strong></p><p>[root@localhost ~]# umount /home</p><p>umount /home 如果提示无法卸载，则是有进程占用/home，使用如下命令来终止占用进程：</p><p>[root@localhost ~]# fuser -m /home</p><p><br/></p><p><strong>3、调整分区大小</strong></p><p>[root@localhost ~]# resize2fs -p /dev/mapper/VolGroup-lv_home 20G</p><p>如果提示运行 e2fsck -f /dev/mapper/VolGroup-lv_home ，则执行相关命令：</p><p>[root@localhost ~]# e2fsck -f /dev/mapper/VolGroup-lv_home 然后重新执行命令：</p><p>[root@localhost ~]# resize2fs -p /dev/mapper/VolGroup-lv_home 20G</p><p>注：resize2fs 为重新设定磁盘大小，只是重新指定一下大小，并不对结果有影响，需要下面lvreduce的配合</p><p><br/></p><p><strong>4、挂载上/home，查看磁盘使用情况</strong></p><p>[root@localhost ~]# mount /home</p><p>[root@localhost ~]# df -h</p><p><br/></p><p><strong>5、设置空闲空间</strong></p><p>使用lvreduce指令用于减少LVM逻辑卷占用的空间大校可能会删除逻辑卷上已有的数据，所以在操作前必须进行确认。记得输入 y</p><p>[root@localhost ~]# lvreduce -L 20G /dev/mapper/VolGroup-lv_home</p><p>注：lvreduce -L 20G的意思为设置当前文件系统为20G，如果lvreduce -l 20G是指从当前文件系统上减少20G</p><p>使用lvreduce减小逻辑卷的大校注意：减小后的大小不能小于文件的大小，否则会丢失数据。</p><p>可以使用vgdisplay命令等查看一下可以操作的大校也可以是用fdisk -l命令查看详细信息。</p><p>[root@localhost ~]# vgdisplay</p><p>注：vgdisplay为显示LVM卷组的元数据信息</p><p><br/></p><p><strong>6.把闲置空间挂在到根目录下</strong></p><p>[root@localhost ~]# lvextend -L +283G /dev/mapper/VolGroup-lv_root</p><p>注：lvextend -L +283G为在文件系统上增加283G</p><p>[root@localhost ~]# resize2fs -p /dev/mapper/VolGroup-lv_root</p><p><br/></p><p><strong>7、检查调整结果</strong></p><p>[root@localhost ~]# df -h</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('122', 'Linux(CentOS)挂载移动硬盘，实现文件拷贝、备份', '122', '1471939080', '1471939166', '<!--markdown--><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\">常常我们需要备份服务器上的某些数据，今天在这里跟大家分享一下如何使用移动硬盘备份CentOS上的文件。</p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\"><strong style=\"margin: 0px; padding: 0px;\">一、挂载移动硬盘（挂载NTFS格式分区）</strong></p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\">　1. 安装ntfs3g工具</p><ul style=\"margin-left: 30px; padding: 0px; word-break: break-all; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\" class=\" list-paddingleft-2\"><li><p><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">wget http://tuxera.com/opensource/ntfs-3g_ntfsprogs-2011.4.12.tgz</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">tar zxf ntfs-3g_ntfsprogs-2011.4.12.tgz</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">cd ntfs-3g_ntfsprogs-2011.4.12</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">./configure --prefix=/usr/local/ntf3g</span></p></li><li><p><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">make&amp;&amp;make install</span></p></li></ul><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\"><br/></p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\">　2.&nbsp; 挂载<span style=\"margin: 0px; padding: 0px; line-height: 1.5;\"></span>（可以使用多种命令进行挂载，蓝色代表要挂载的移动硬盘，绿色代表挂载到CentOS上某个盘符）<span style=\"margin: 0px; padding: 0px; line-height: 1.5;\"></span></p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">　　&nbsp; 命令一：ntfs-3g&nbsp;<span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 0, 255);\">/dev/sdb1</span>&nbsp;<span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 255, 0);\">/mnt/windows</span>&nbsp;-o locale=<span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(255, 0, 0);\">ar_SA.UTF-8<span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 0, 0);\">，红色部分也可改为</span></span></span><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(255, 0, 0);\">zh_CN.GBK</span><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(255, 0, 0);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 0, 0);\">，很明显，使用某种编码进行挂载，防止出现乱码；</span></span></p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(255, 0, 0);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 0, 0);\">　　&nbsp; 命令二：</span></span><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">mount -t ntfs-3g&nbsp;<span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 0, 255);\">/dev/sdb1</span>&nbsp;<span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 255, 0);\">/mnt/windows</span></span></p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 255, 0);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 0, 0);\">　　&nbsp; 补充：如何找到要挂载的移动硬盘？请使用命令&nbsp;<strong style=\"margin: 0px; padding: 0px;\">fdisk -l</strong>&nbsp;进行查看，取消挂载：umount /mnt/windows</span><br style=\"margin: 0px; padding: 0px;\"/></span></span></p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\"><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 255, 0);\"><br style=\"margin: 0px; padding: 0px;\"/><span style=\"margin: 0px; padding: 0px; line-height: 1.5; color: rgb(0, 0, 0);\"><strong style=\"margin: 0px; padding: 0px;\">二、挂载移动硬盘错误解决办法</strong></span></span></span></p><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\">　1. FATAL: Module fuse not found.（这是由于系统默认的内核并不支持FUSE模块，所以要更新内核）</p><ul style=\"margin-left: 30px; padding: 0px; word-break: break-all; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\" class=\" list-paddingleft-2\"><li><p><span style=\"margin: 0px; padding: 0px; line-height: 1.5;\">modprobe fuse（此命令是用来查看系统是否支持FUSE）</span></p></li><li><p>uname –r（查看系统的内核版本）</p></li><li><p>yum install kernel*（更新系统内核）</p></li><li><p>shutdown -r now（重启计算机）</p></li><li><p>使用modprobe fuse命令查看系统是否支持FUSE，若不再显示FATAL: Module fuse not found，表示您可以使用ntfs3g进行移动硬盘挂载了</p></li></ul><p style=\"margin: 10px auto; padding: 0px; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\"><strong style=\"margin: 0px; padding: 0px;\">三、文件拷贝（文件拷贝就很简单了）</strong></p><ul style=\"margin-left: 30px; padding: 0px; word-break: break-all; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; white-space: normal; background-color: rgb(245, 250, 254);\" class=\" list-paddingleft-2\"><li><p>cp -r /web /mnt/windows (将CentOS中web目录下所有文件拷贝到/mnt/windows下，即拷贝到我们刚刚挂载的移动硬盘上)</p></li></ul><p><br/></p><p>原文链接：<a href=\"http://www.cnblogs.com/zengen/archive/2011/09/01/2161637.html\" target=\"_blank\">http://www.cnblogs.com/zengen/archive/2011/09/01/2161637.html</a></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('127', 'CodeIgniter 基类的继承', '127', '1473754320', '1473754557', '<!--markdown--><p>&nbsp; &nbsp; 开发一个总后台需要在基类里面判断session是否登陆，不可能在每一个控制器的构造方法里面挨个判断，所以就需要一个后台的基类来判断，每一个控制器继承这个基类。AdminBase 为应用后台的公用的控制器，在每一个应用后台控制器里面都来继承公共的AdminBase ，但是同时要确保AdminBase 也是继承CI_Controller的。</p><p>&nbsp; &nbsp; 具体实现很简单，只要在application/core下面新建MY_Controller.php,代码如下</p><p>（MY_是可配置的，application/config/config.php 文件并找到这一项:$config[&#39;subclass_prefix&#39;] = &#39;MY_&#39;;）</p><!--more--><pre class=\"brush:php;toolbar:false;\">&lt;?php\r\n/**\r\n&nbsp;*&nbsp;扩展&nbsp;Controller\r\n&nbsp;*/\r\nclass&nbsp;MY_Controller&nbsp;extends&nbsp;CI_Controller\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;&nbsp;__construct()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n/**\r\n&nbsp;*&nbsp;后台管理基类\r\n&nbsp;*/\r\nclass&nbsp;AdminBase&nbsp;extends&nbsp;MY_Controller\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;&nbsp;__construct()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct();\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;验证session是否登陆&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$admin_sess&nbsp;=&nbsp;$this-&gt;session-&gt;userdata(&nbsp;&#39;admin&#39;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;isset(&nbsp;$admin_sess&nbsp;)&nbsp;&amp;&amp;&nbsp;$admin_sess[&#39;admin_id&#39;]&nbsp;!=&nbsp;&#39;&#39;&nbsp;)\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;Success&nbsp;Login&nbsp;...&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error(&nbsp;&#39;请登录后台&#39;,&nbsp;site_url()&nbsp;.&nbsp;&#39;/AdminLogin/login&#39;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n/**\r\n&nbsp;*&nbsp;会员基类\r\n&nbsp;*/\r\nclass&nbsp;UserBase&nbsp;extends&nbsp;MY_Controller\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;&nbsp;__construct()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}\r\n\r\n/**\r\n&nbsp;*&nbsp;前台基类\r\n&nbsp;*/\r\nclass&nbsp;HomeBase&nbsp;extends&nbsp;MY_Controller\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;&nbsp;__construct()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p>然后在application/controllers里面的控制器就可以继承了，比如application/controllers/AdminIndex.php中</p><pre class=\"brush:php;toolbar:false\">&lt;?php\r\ndefined(&#39;BASEPATH&#39;)&nbsp;OR&nbsp;exit(&#39;No&nbsp;direct&nbsp;script&nbsp;access&nbsp;allowed&#39;);\r\n\r\n/**\r\n&nbsp;*&nbsp;管理后台主页\r\n&nbsp;*/\r\nclass&nbsp;AdminIndex&nbsp;extends&nbsp;AdminBase\r\n{\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;构造方法\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@author&nbsp;Yusure&nbsp;&nbsp;http://test.yusure.cn\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@date&nbsp;&nbsp;&nbsp;2016-09-13\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;&nbsp;[param]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent::__construct();\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;/**\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;后台主页\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@author&nbsp;Yusure&nbsp;&nbsp;http://test.yusure.cn\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@date&nbsp;&nbsp;&nbsp;2016-09-13\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;&nbsp;[param]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;[type]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[description]\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;index()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;load-&gt;view(&nbsp;&#39;AdminIndex_index&#39;&nbsp;);\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n}</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('125', 'Linux压缩，解压命令参数记录', '@95', '1462414800', '1471942627', '<!--markdown--><pre class=\"brush:php;toolbar:false\">tar&nbsp;czvf&nbsp;test.tar.gz&nbsp;test&nbsp;&nbsp;压缩\r\ntar&nbsp;zxvf&nbsp;test.tar.gz&nbsp;&nbsp;&nbsp;解压</pre><p>-c — 创建一个新归档。</p><p>-f — 当与 -c 选项一起使用时，创建的 tar 文件使用该选项指定的文件名；当与 -x 选项</p><p>一起使用时，则解除该选项指定的归档。</p><p>-t — 显示包括在 tar 文件中的文件列表。</p><p>-v — 显示文件的归档进度。</p><p>-x — 从归档中抽取文件。</p><p>-z — 使用 gzip 来压缩 tar 文件。</p><p>-j — 使用 bzip2 来压缩 tar 文件。</p><p><br/></p><p><strong>CentOS安装zip unzip命令</strong></p><pre class=\"brush:php;toolbar:false\">yum&nbsp;install&nbsp;zip&nbsp;unzip</pre><p>unzip的压缩文件操作</p><pre class=\"brush:php;toolbar:false\">解压：&nbsp;unzip&nbsp;filename.zip&nbsp;\r\n压缩：&nbsp;zip&nbsp;-r&nbsp;filename.zip&nbsp;files&nbsp;&nbsp;&nbsp;&nbsp;递归地压缩一个目录及目录下的文件</pre><p><a href=\"http://www.centoscn.com/CentOS/help/2013/0826/1448.html\" target=\"_blank\">CentOS中zip压缩和unzip解压缩命令详解</a></p><p><br/></p><p><strong>Centos 解压、压缩 rar文件</strong><br/></p><pre class=\"brush:php;toolbar:false\">cd&nbsp;/usr/local/src\r\nwget&nbsp;http://www.rarsoft.com/rar/rarlinux-4.0.1.tar.gz\r\ntar&nbsp;-xvf&nbsp;rarlinux-4.0.1.tar.gz\r\ncd&nbsp;rar\r\nmake</pre><p>看见下面这些信息就是安装成功了</p><p>mkdir -p /usr/local/bin</p><p>mkdir -p /usr/local/lib</p><p>cp rar unrar /usr/local/bin</p><p>cp rarfiles.lst /etc</p><p>cp default.sfx /usr/local/lib</p><pre class=\"brush:php;toolbar:false\">rar&nbsp;x&nbsp;filename.rar&nbsp;&nbsp;//&nbsp;解压&nbsp;filename.rar&nbsp;到当前目录\r\nrar&nbsp;filename.rar&nbsp;./filename.com/&nbsp;&nbsp;&nbsp;//&nbsp;将&nbsp;filename.com&nbsp;目录打包为&nbsp;filename.rar</pre><p>************************* &nbsp;使用的时候出现的错误 &nbsp;*****************************</p><p>运行命令rar时,出现下面这个问题</p><p>rar: /lib/i686/nosegneg/libc.so.6: version `GLIBC_2.7&#39; not found (required by rar)</p><p>解决办法：</p><p>cp rar_static /usr/local/bin/rar</p><p><br/></p><p>bash: /usr/local/bin/rar: /lib/ld-linux.so.2: bad ELF interpreter: No such file or directory</p><p>是因为64位系统中安装了32位程序</p><p>解决方法：</p><p>yum install glibc.i686</p><p>&nbsp;</p><p>重新安装以后还有如下类系错误 再继续安装包</p><p>error while loading shared libraries: libstdc++.so.6: cannot open shared object file: No such file or directory</p><p>yum install libstdc++.so.6</p><p><br/></p>', '0', '1', null, 'post_draft', 'publish', null, '0', '1', '1', '1', '95');
INSERT INTO `typecho_contents` VALUES ('126', 'Sublime 保存时自动转换tab成空格', '126', '1472883877', '1472883877', '<!--markdown--><p>每次保存前手动转换实在太烦人，下面这个脚本可以帮到你。</p><p>1.打开sublime的Preference -&gt; Browser Packages ...</p><p>2.新建一个目录ExpandTabsOnSave</p><p>3.新建文件ExpandTabsOnSave.py</p><p>4.把下面内容复制进去，保存</p><pre class=\"brush:php;toolbar:false\">import&nbsp;sublime,&nbsp;sublime_plugin,&nbsp;os\r\n\r\nclass&nbsp;ExpandTabsOnSave(sublime_plugin.EventListener):\r\n&nbsp;&nbsp;def&nbsp;on_pre_save(self,&nbsp;view):\r\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;view.settings().get(&#39;expand_tabs_on_save&#39;)&nbsp;==&nbsp;1:\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view.window().run_command(&#39;expand_tabs&#39;)</pre><p>5.如果你想只是应用于当前项目，在 .sublime-project文件下添加：</p><pre class=\"brush:php;toolbar:false\">&quot;expand_tabs_on_save&quot;:&nbsp;true</pre><p><br/></p><p>6.全局改变，打开Preferences -&gt; Settings - User添加：</p><pre class=\"brush:php;toolbar:false\">&quot;expand_tabs_on_save&quot;:&nbsp;true</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('131', '微信开发中emoji表情的问题', '131', '1474985102', '1474985102', '<!--markdown--><p>&nbsp; &nbsp;&nbsp;做微信开发的时候就会发现，存储微信昵称必不可少。之前的项目里面微信昵称很多都是空白，后来才知道是因为emoji表情的问题。原来是因为Mysql的utf8字符集是3字节的，而emoji是4字节，这样整个昵称就无法存储了。</p><p>我收集了一些解决方法：</p><p><strong>1、修改数据库 &nbsp;使用utfmb4字符集</strong></p><p>修改mysql配置文件 &nbsp;<span style=\"color: rgb(255, 0, 0);\"><strong>character-set-server=utf8mb4</strong></span></p><p><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\">改完之后重启mysql服务</span><strong><span style=\"color: rgb(0, 0, 0);\"></span><br/></strong></span></p><p><span style=\"color: rgb(0, 0, 0);\">修改表 &nbsp;&nbsp;<span style=\"color: rgb(255, 0, 0);\"><strong>ALTER TABLE 表名 CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;</strong></span></span></p><p><span style=\"color: rgb(255, 0, 0);\"><strong><span style=\"color: rgb(0, 0, 0);\">2、使用base64编码</span><br/></strong></span></p><p><span style=\"color: rgb(255, 0, 0);\"><strong>base64_encode</strong></span><span style=\"color: rgb(0, 0, 0);\">编码之后入库，出库的时候<strong><span style=\"color: rgb(255, 0, 0);\">base64_decode</span></strong>解开</span></p><p><strong><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\">3、过滤emoji表情</span></span></strong></p><pre class=\"brush:php;toolbar:false\">$nickname&nbsp;=&nbsp;json_encode(&nbsp;$nickname&nbsp;);\r\n$nickname&nbsp;=&nbsp;preg_replace(&nbsp;&quot;#(\\\\\\ue[0-9a-f]{3})#ie&quot;,&nbsp;&quot;&quot;,&nbsp;$nickname&nbsp;);\r\n$nickname&nbsp;=&nbsp;preg_replace(&nbsp;&quot;#(\\\\\\ud[0-9a-f]{3})#ie&quot;,&nbsp;&quot;&quot;,&nbsp;$nickname&nbsp;);\r\n$nickname&nbsp;=&nbsp;json_decode(&nbsp;$nickname&nbsp;);</pre><p><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\">安卓 ios 亲测可用 &nbsp;2016.9.27&nbsp;</span></span><strong><span style=\"color: rgb(255, 0, 0);\"><span style=\"color: rgb(0, 0, 0);\"><br/></span></span></strong><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('132', 'SQL取出某字段中所有值为整数的数据', '132', '1475385443', '1475385443', '<!--markdown--><p>&nbsp; &nbsp; 今天碰到一个问题，一个字段中有整数，有小数，我不想要小数的数据，只要整数的。</p><p><img src=\"/usr/uploads/2016/10/02/1475385341549615.png\" title=\"1475385341549615.png\" alt=\"%1C~EQGPHG}2({$]TI@XPYB.png\"/></p><p>解决办法：evalue % 1 = 0</p><p><img src=\"/usr/uploads/2016/10/02/1475385385205112.png\" title=\"1475385385205112.png\" alt=\"blob.png\"/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('130', 'Firefox + Modify headers插件修改客户端IP', '130', '1474875735', '1474875735', '<!--markdown--><p>准备：火狐浏览器 &nbsp;&nbsp;Modify headers插件</p><p>1、安装插件</p><p><img src=\"/usr/uploads/2016/09/26/1474875077707135.png\" title=\"1474875077707135.png\" alt=\"blob.png\"/></p><p><img src=\"/usr/uploads/2016/09/26/1474875112696004.png\" title=\"1474875112696004.png\" alt=\"blob.png\"/></p><p><img src=\"/usr/uploads/2016/09/26/1474875136354669.png\" title=\"1474875136354669.png\" alt=\"blob.png\"/></p><p><br/></p><p><br/></p><!--more--><p>2、重启之后在浏览器右上角找到刚才安装的插件</p><p><img src=\"/usr/uploads/2016/09/26/1474875215105224.png\" title=\"1474875215105224.png\" alt=\"blob.png\"/></p><p><img src=\"/usr/uploads/2016/09/26/1474875258687672.png\" title=\"1474875258687672.png\" alt=\"blob.png\"/></p><p><img src=\"/usr/uploads/2016/09/26/1474875429463626.png\" title=\"1474875429463626.png\" alt=\"blob.png\"/></p><p><img src=\"/usr/uploads/2016/09/26/1474875453863034.png\" title=\"1474875453863034.png\" alt=\"blob.png\"/></p><p>开启插件。。。</p><p><img src=\"/usr/uploads/2016/09/26/1474875607797913.png\" title=\"1474875607797913.png\" alt=\"blob.png\"/></p><p><img src=\"/usr/uploads/2016/09/26/1474875553170989.png\" title=\"1474875553170989.png\" alt=\"blob.png\"/></p><p><br/></p><p>header name 填写 &nbsp;X-Forwarded-For &nbsp; header value 填写自己伪造的ip，每次刷票ip递增一个就可以。左上角是红色显示Stop，说明插件正在运行</p><p><br/></p><p>修改IP步骤：<br/></p><p><img src=\"/usr/uploads/2016/09/26/1474875674754277.png\" title=\"1474875674754277.png\" alt=\"blob.png\"/></p><p>修改完毕，再去重新刷就可以了</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('133', 'nginx错误日志error_log日志级别', '133', '1477443600', '1477443659', '<!--markdown--><p>&nbsp; &nbsp; 在配置nginx.conf 的时候，有一项是指定错误日志的，默认情况下你不指定也没有关系，因为nginx很少有错误日志记录的。但有时出现问题时，是有必要记录一下错误日志的，方便我们排查问题。</p><p>error_log 级别分为 <span style=\"color: rgb(255, 0, 0);\">debug, info, notice, warn, error, crit</span> &nbsp;默认为crit, 该级别在日志名后边定义格式如下：</p><p>error_log &nbsp;/your/path/error.log crit; &nbsp;</p><p>crit 记录的日志最少，而debug记录的日志最多。</p><p>如果你的nginx遇到一些问题，比如502比较频繁出现，但是看默认的error_log并没有看到有意义的信息，那么就可以调一下错误日志的级别，当你调成error级别时，错误日志记录的内容会更加丰富。</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('134', 'PHP比较常见的五大运行模式详解', '134', '1477480200', '1477480348', '<!--markdown--><h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 1.5;\">1、运行模式</span></h3><p><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">关于PHP目前比较常见的五大运行模式：</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">1）CGI（通用网关接口 / Common Gateway Interface）</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">2）FastCGI（常驻型CGI / Long-Live CGI）</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">3）CLI（命令行运行 / Command Line Interface）</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">4）Web模块模式（Apache等Web服务器运行的模式）</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">5）ISAPI（Internet Server Application Program Interface）</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><!--more--><p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 1.5;\">备注：在PHP5.3以后，PHP不再有ISAPI模式，安装后也不再有php5isapi.dll这个文件。要在IIS6上使用高版本PHP，必须安装FastCGI 扩展，然后使IIS6支持FastCGI。</span></p><h4 style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px 0px 0px 10px; font-size: 14px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 1.5;\">1.1 CGI模式</span></h4><p><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">CGI即通用网关接口（Common Gateway Interface），它是一段程序，通俗的讲CGI就象是一座桥，把网页和Web服务器中的执行程序连接起来，它把HTML接收的指令传递给服务器的执 行程序，再把服务器执行程序的结果返还给HTML页。CGI 的跨平台性能极佳，几乎可以在任何操作系统上实现。 CGI已经是比较老的模式了，这几年都很少用了。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">每有一个用户请求，都会先要创建CGI的子进程，然后处理请求，处理完后结束这个子进程，这就是Fork-And-Execute模式。 当用户请求数量非常多时，会大量挤占系统的资源如内存，CPU时间等，造成效能低下。所以用CGI方式的服务器有多少连接请求就会有多少CGI子进程，子 进程反复加载是CGI性能低下的主要原因。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">如果不想把 PHP 嵌入到服务器端软件（如 Apache）作为一个模块安装的话，可以选择以 CGI 的模式安装。或者把 PHP 用于不同的 CGI 封装以便为代码创建安全的 chroot 和 setuid 环境。这样每个客户机请求一个PHP文件，Web服务器就调用php.exe（win下是php.exe,linux是php）去解释这个文件，然后再把 解释的结果以网页的形式返回给客户机。 这种安装方式通常会把 PHP 的可执行文件安装到 web 服务器的 cgi-bin 目录。CERT 建议书 CA-96.11 建议不要把任何的解释器放到 cgi-bin 目录。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 2;\">这种方式的好处是把Web Server和具体的程序处理独立开来，结构清晰，可控性强，同时缺点就是如果在高访问需求的情况下，CGI的进程Fork就会成为很大的服务器负担，想 象一下数百个并发请求导致服务器Fork出数百个进程就明白了。这也是为什么CGI一直背负性能低下，高资源消耗的恶名的原因。</span></p><h4 style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px 0px 0px 10px; font-size: 14px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 1.5;\">1.2 FastCGI模式</span></h4><p><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">FastCGI是CGI的升级版本，FastCGI像是一个常驻 (long-live)型的 CGI，它可以一直执行着，只要激活后，不会每次都要花费时间去 Fork 一次 （这是 CGI 最为人诟病的 fork-and-execute 模式）。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">FastCGI是一个可伸缩地、高速地在HTTP server和动态脚本语言间通信的接口。多数流行的HTTP server都支持FastCGI，包括Apache、Nginx和lighttpd等，同时，FastCGI也被许多脚本语言所支持，其中就有PHP。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">FastCGI接口方式采用C/S结构，可以将HTTP服务器和脚本解析服务器分开，同时在脚本解析服务器上启动一个或者多个脚本解析守护进 程。当HTTP服务器每次遇到动态程序时，可以将其直接交付给FastCGI进程来执行，然后将得到的结果返回给浏览器。这种方式可以让HTTP服务器专 一地处理静态请求或者将动态脚本服务器的结果返回给客户端，这在很大程度上提高了整个应用系统的性能。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">【原理】</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">1）Web Server启动时载入FastCGI进程管理器（IIS ISAPI或Apache Module)；</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">2）FastCGI进程管理器自身初始化，启动多个CGI解释器进程 (可见多个php-cgi.exe或php-cig)并等待来自Web Server的连接；</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">3）当客户端请求到达Web Server时，FastCGI进程管理器选择并连接到一个CGI解释器。Web server将CGI环境变量和标准输入发送到FastCGI子进程php-cgi；</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">4）FastCGI子进程完成处理后将标准输出和错误信息从同一连接返回Web Server。当FastCGI子进程关闭连接时，请求便告处理完成。FastCGI子进程接着等待并处理来自FastCGI进程管理器（运行在 WebServer中）的下一个连接。在正常的CGI模式中，php-cgi.exe在此便退出了。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">在CGI模式中，你可以想象 CGI通常有多慢。每一个Web请求PHP都必须重新解析php.ini、重新载入全部dll扩展并重初始化全部数据结构。使用FastCGI，所有这些 都只在进程启动时发生一次。一个额外的好处是，持续数据库连接（Persistent database connection）可以工作。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">备注：PHP的FastCGI进程管理器是PHP-FPM（PHP-FastCGI Process Manager）</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">【优点】</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">1）从稳定性上看，FastCGI是以独立的进程池来运行CGI，单独一个进程死掉，系统可以很轻易的丢弃，然后重新分配新的进程来运行逻辑；</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">2）从安全性上看，FastCGI支持分布式运算。FastCGI和宿主的Server完全独立，FastCGI怎么down也不会把Server搞垮；</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">3）从性能上看，FastCGI把动态逻辑的处理从Server中分离出来，大负荷的IO处理还是留给宿主Server，这样宿主Server可以一心一意作IO，对于一个普通的动态网页来说, 逻辑处理可能只有一小部分，大量的是图片等静态。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">【缺点】</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 2;\">说完了好处，也来说说缺点。从我的实际使用来看，用FastCGI模式更适合生产环境的服务器。但对于开发用机器来说就不太合适。因为当使用 Zend Studio调试程序时，由于 FastCGI会认为 PHP进程超时，从而在页面返回 500错误。这一点让人非常恼火，所以我在开发机器上还是换回了 ISAPI模式。对某些服务器的新版本支持不好，对分布式负载均衡没要求的模块化安装是否是更好的选择。目前的FastCGI和Server沟通还不够智 能，一个FastCGI进程如果执行时间过长会被当成是死进程杀掉重起，这样在处理长时间任务的时候很麻烦，这样做也使得FastCGI无法允许联机调 试。因为是多进程，所以比CGI多线程消耗更多的服务器内存，PHP-CGI解释器每进程消耗7至25兆内存，将这个数字乘以50或100就是很大的内存数。</span></p><h4 style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px 0px 0px 10px; font-size: 14px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 1.5;\"></span><span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 1.5;\">1.3 CLI模式</span></h4><p><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">PHP-CLI是PHP Command Line Interface的简称，如同它名字的意思，就是PHP在命令行运行的接口，区别于在Web服务器上运行的PHP环境（PHP-CGI，ISAPI 等）。 也就是说，PHP不单可以写前台网页，它还可以用来写后台的程序。 PHP的CLI Shell脚本适用于所有的PHP优势，使创建要么支持脚本或系统甚至与GUI应用程序的服务端，在Windows和Linux下都是支持PHP-CLI 模式的。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">【优点】</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">1）使用多进程，子进程结束以后，内核会负责回收资源；</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">2）使用多进程，子进程异常退出不会导致整个进程Thread退出，父进程还有机会重建流程；</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">3）一个常驻主进程，只负责任务分发，逻辑更清楚。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 1.5;\">我们在Linux下经常使用&quot;php –m&quot;查找PHP安装了那些扩展就是PHP命令行运行模式；有兴趣的同学可以输入&quot;php –h&quot;去深入研究该运行模式。</span></p><h4 style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px 0px 0px 10px; font-size: 14px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 1.5;\">1.4 模块模式</span></h4><p><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">模块模式是以 mod_php5模块的形式集成，此时mod_php5模块的作用是接收Apache传递过来的PHP文件请求，并处理这些请求，然后将处理后的结果返回 给Apache。如果我们在Apache启动前在其配置文件中配置好了PHP模块（mod_php5）， PHP模块通过注册apache2的ap_hook_post_config挂钩，在Apache启动的时候启动此模块以接受PHP文件的请求。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">除了这种启动时的加载方式，Apache的模块可以在运行的时候动态装载，这意味着对服务器可以进行功能扩展而不需要重新对源代码进行编译，甚 至根本不需要停止服务器。我们所需要做的仅仅是给服务器发送信号HUP或者AP_SIG_GRACEFUL通知服务器重新载入模块。但是在动态加载之前， 我们需要将模块编译成为动态链接库。此时的动态加载就是加载动态链接库。 Apache中对动态链接库的处理是通过模块mod_so来完成的，因此mod_so模块不能被动态加载，它只能被静态编译进Apache的核心。这意味 着它是随着Apache一起启动的。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">Apache是如何加载模块的呢？我们以前面提到的mod_php5模块为例。首先我们需要在Apache的配置文件httpd.conf中添加一行：</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">LoadModule php5_module modules/mod_php5.so</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">这里我们使用了LoadModule命令，该命令的第一个参数是模块的名称，名称可以在模块实现的源码中找到。第二个选项是该模块所处的路径。 如果需要在服务器运行时加载模块，可以通过发送信号HUP或者AP_SIG_GRACEFUL给服务器，一旦接受到该信号，Apache将重新装载模块， 而不需要重新启动服务器。</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 2;\">该运行模式是我们以前在windows环境下使用apache服务器经常使用的，而在模块化（DLL）中，PHP是与Web服务器一起启动并运行的。（它是apache在CGI的基础上进行的一种扩展，加快PHP的运行效率）。</span></p><h4 style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px 0px 0px 10px; font-size: 14px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 1.5;\">1.5 ISAPI模式</span></h4><p><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 2; background-color: rgb(255, 255, 255);\">ISAPI（Internet Server Application Program Interface）是微软提供的一套面向Internet服务的API接口，一个ISAPI的DLL，可以在被用户请求激活后长驻内存，等待用户的另一 个请求，还可以在一个DLL里设置多个用户请求处理函数，此外，ISAPI的DLL应用程序和WWW服务器处于同一个进程中，效率要显著高于CGI。（由 于微软的排他性，只能运行于windows环境）</span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/></p><p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 2;\">PHP作为Apache模块，Apache服务器在系统启动后，预先生成多个进程副本驻留在内存中，一旦有请求出现，就立即使用这些空余的子进 程进行处理，这样就不存在生成子进程造成的延迟了。这些服务器副本在处理完一次HTTP请求之后并不立即退出，而是停留在计算机中等待下次请求。对于客户 浏览器的请求反应更快，性能较高。</span></p><h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 14px; line-height: 1.5;\">2、参考文献</span></h3><p><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 1）<a href=\"http://blog.csdn.net/hguisu/article/details/7386882\" target=\"_blank\">http://blog.csdn.net/hguisu/article/details/7386882</a></span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 2）<a href=\"http://www.phpernote.com/news/723.html\" target=\"_blank\">http://www.phpernote.com/news/723.html</a></span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 3）<a href=\"http://www.jb51.net/article/37759.htm\" target=\"_blank\">http://www.jb51.net/article/37759.htm</a></span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 4）<a href=\"http://blog.csdn.net/21aspnet/article/details/3280512\" target=\"_blank\">http://blog.csdn.net/21aspnet/article/details/3280512</a></span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 5）<a href=\"http://www.williamlong.info/archives/1846.html\" target=\"_blank\">http://www.williamlong.info/archives/1846.html</a></span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 6）<a href=\"http://www.phpddt.com/php/php-cli.html\" target=\"_blank\">http://www.phpddt.com/php/php-cli.html</a></span><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><br style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); font-size: 13px; letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\"/><span style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin: 0px; padding: 0px; color: rgb(51, 51, 51); letter-spacing: 1.04px; font-size: 14px; line-height: 1.5; background-color: rgb(255, 255, 255);\">&nbsp;&nbsp;&nbsp; 7）<a href=\"http://www.cnblogs.com/ellisonDon/archive/2012/11/19/2777526.html\" target=\"_blank\">http://www.cnblogs.com/ellisonDon/archive/2012/11/19/2777526.html</a>&nbsp;</span></p><p><br/></p><p>原文链接：<a href=\"http://www.blogdaren.com/post-2288.html\" target=\"_blank\">http://www.blogdaren.com/post-2288.html</a></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('136', '概念了解：CGI，FastCGI，PHP-CGI与PHP-FPM', '136', '1477485480', '1477485574', '<!--markdown--><h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">CGI</span>\r\n</h3>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">CGI全称是“公共网关接口”(Common Gateway Interface)，HTTP服务器与你的或其它机器上的程序进行“交谈”的一种工具，其程序须运行在网络服务器上。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">CGI可以用任何一种语言编写，只要这种语言具有标准输入、输出和环境变量。如php,perl,tcl等。</span>\r\n</p>\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">FastCGI</span>\r\n</h3>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI像是一个常驻(long-live)型的CGI，它可以一直执行着，只要激活后，不会每次都要花费时间去fork一次（这是CGI最 为人诟病的fork-and-execute 模式）。它还支持分布式的运算，即 FastCGI 程序可以在网站服务器以外的主机上执行并且接受来自其它网站服务器来的请求。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI是语言无关的、可伸缩架构的CGI开放扩展，其主要行为是将CGI解释器进程保持在内存中并因此获得较高的性能。众所周知，CGI解 释器的反复加载是CGI性能低下的主要原因，如果CGI解释器保持在内存中并接受FastCGI进程管理器调度，则可以提供良好的性能、伸缩性、 Fail- Over特性等等。</span>\r\n</p>\r\n<!--more-->\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">FastCGI特点</span>\r\n</h3>\r\n<ol style=\"list-style-type: none;\" class=\" list-paddingleft-2\">\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI具有语言无关性.</span>\r\n        </p>\r\n    </li>\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI在进程中的应用程序，独立于核心web服务器运行，提供了一个比API更安全的环境。APIs把应用程序的代码与核心的web服务 器链接在一起，这意味着在一个错误的API的应用程序可能会损坏其他应用程序或核心服务器。 恶意的API的应用程序代码甚至可以窃取另一个应用程序或核心服务器的密钥。</span>\r\n        </p>\r\n    </li>\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI技术目前支持语言有：C/C++、Java、Perl、Tcl、Python、SmallTalk、Ruby等。相关模块在Apache, ISS, Lighttpd等流行的服务器上也是可用的。</span>\r\n        </p>\r\n    </li>\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI的不依赖于任何Web服务器的内部架构，因此即使服务器技术的变化, FastCGI依然稳定不变。</span>\r\n        </p>\r\n    </li>\r\n</ol>\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">FastCGI的工作原理</span>\r\n</h3>\r\n<ol style=\"list-style-type: none;\" class=\" list-paddingleft-2\">\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">Web Server启动时载入FastCGI进程管理器（IIS ISAPI或Apache Module)</span>\r\n        </p>\r\n    </li>\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI进程管理器自身初始化，启动多个CGI解释器进程(可见多个php-cgi)并等待来自Web Server的连接。</span>\r\n        </p>\r\n    </li>\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">当客户端请求到达Web Server时，FastCGI进程管理器选择并连接到一个CGI解释器。Web server将CGI环境变量和标准输入发送到FastCGI子进程php-cgi。</span>\r\n        </p>\r\n    </li>\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">FastCGI子进程完成处理后将标准输出和错误信息从同一连接返回Web Server。当FastCGI子进程关闭连接时，请求便告处理完成。FastCGI子进程接着等待并处理来自FastCGI进程管理器(运行在Web Server中)的下一个连接。 在CGI模式中，php-cgi在此便退出了。</span>\r\n        </p>\r\n    </li>\r\n</ol>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">在上述情况中，你可以想象CGI通常有多慢。每一个Web请求PHP都必须重新解析php.ini、重新载入全部扩展并重初始化全部数据结构。使用 FastCGI，所有这些都只在进程启动时发生一次。一个额外的好处是，持续数据库连接(Persistent database connection)可以工作。</span>\r\n</p>\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">FastCGI的不足</span>\r\n</h3>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">因为是多进程，所以比CGI多线程消耗更多的服务器内存，PHP-CGI解释器每进程消耗7至25兆内存，将这个数字乘以50或100就是很大的内存数。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">Nginx 0.8.46+PHP 5.2.14(FastCGI)服务器在3万并发连接下，开启的10个Nginx进程消耗150M内存（15M*10=150M），开启的64个php- cgi进程消耗1280M内存（20M*64=1280M），加上系统自身消耗的内存，总共消耗不到2GB内存。如果服务器内存较小，完全可以只开启25 个php-cgi进程，这样php-cgi消耗的总内存数才500M。</span><br style=\"border: 0px; margin: 0px; padding: 0px;\"/><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">上面的数据摘自Nginx 0.8.x + PHP 5.2.13(FastCGI)搭建胜过Apache十倍的Web服务器(第6版)</span>\r\n</p>\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">PHP-CGI</span>\r\n</h3>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">PHP-CGI是PHP自带的FastCGI管理器。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">PHP-CGI的不足：</span>\r\n</p>\r\n<ol style=\"list-style-type: none;\" class=\" list-paddingleft-2\">\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">php-cgi变更php.ini配置后需重启php-cgi才能让新的php-ini生效，不可以平滑重启。</span>\r\n        </p>\r\n    </li>\r\n    <li>\r\n        <p>\r\n            <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">直接杀死php-cgi进程，php就不能运行了。(PHP-FPM和Spawn-FCGI就没有这个问题，守护进程会平滑从新生成新的子进程。）</span>\r\n        </p>\r\n    </li>\r\n</ol>\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">PHP-FPM</span>\r\n</h3>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">PHP-FPM是一个PHP FastCGI管理器，是只用于PHP的，可以在 http://php-fpm.org/download下载得到。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">PHP-FPM其实是PHP源代码的一个补丁，旨在将FastCGI进程管理整合进PHP包中。必须将它patch到你的PHP源代码中，在编译安装PHP后才可以使用。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">现在我们可以在最新的PHP 5.3.2的源码树里下载得到直接整合了PHP-FPM的分支，据说下个版本会融合进PHP的主分支去。相对Spawn-FCGI，PHP-FPM在 CPU和内存方面的控制都更胜一筹，而且前者很容易崩溃，必须用crontab进行监控，而PHP-FPM则没有这种烦恼。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">PHP5.3.3已经集成php-fpm了，不再是第三方的包了。PHP-FPM提供了更好的PHP进程管理方式，可以有效控制内存和进程、可以平 滑重载PHP配置，比spawn-fcgi具有更多有点，所以被PHP官方收录了。在./configure的时候带 –enable-fpm参数即可开启PHP-FPM。</span>\r\n</p>\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">Spawn-FCGI</span>\r\n</h3>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">Spawn-FCGI是一个通用的FastCGI管理服务器，它是lighttpd中的一部份，很多人都用Lighttpd的Spawn-FCGI 进行FastCGI模式下的管理工作，不过有不少缺点。而PHP-FPM的出现多少缓解了一些问题，但PHP-FPM有个缺点就是要重新编译，这对于一些 已经运行的环境可能有不小的风险(refer)，在php 5.3.3中可以直接使用PHP-FPM了。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">Spawn-FCGI目前已经独成为一个项目，更加稳定一些，也给很多Web 站点的配置带来便利。已经有不少站点将它与nginx搭配来解决动态网页。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">最新的lighttpd也没有包含这一块了(http://www.lighttpd.net/search?q=Spawn-FCGI)，但可以 在以前版本中找到它。在lighttpd-1.4.15版本中就包含了(http://www.lighttpd.net/download/lighttpd-1.4.15.tar.gz)，目前Spawn-FCGI的下载地址是http://redmine.lighttpd.net /projects/spawn-fcgi，最新版本是http://www.lighttpd.net/download/spawn-fcgi-1.6.3.tar.gz。</span>\r\n</p>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">注：最新的Spawn-FCGI可以到lighttpd.net网站搜索“Spawn-FCGI”找到它的最新版本发布地址。</span>\r\n</p>\r\n<h3 style=\"font-family: &quot;Microsoft YaHei&quot;; border-width: 0px 0px 1px; border-bottom-style: dotted; border-bottom-color: rgb(221, 221, 221); margin: 0px 0px 10px; padding: 0px 0px 0px 10px; font-size: 16px; color: rgb(51, 51, 51); letter-spacing: 1.04px; line-height: 24px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; line-height: 2;\">PHP-FPM与spawn-CGI对比</span>\r\n</h3>\r\n<p style=\"font-family: &quot;Microsoft YaHei&quot;; border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 5px 0px; line-height: 22px; color: rgb(17, 17, 17); font-size: 13px; letter-spacing: 1.04px; white-space: normal; background-color: rgb(255, 255, 255);\">\r\n    <span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">PHP-FPM的使用非常方便，配置都是在PHP-FPM.ini的文件内，而启动、重启都可以从php/sbin/PHP-FPM中进行。更方便 的是修改php.ini后可以直接使用PHP-FPM reload进行加载，无需杀掉进程就可以完成php.ini的修改加载</span><br style=\"border: 0px; margin: 0px; padding: 0px;\"/><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">结果显示使用PHP-FPM可以使php有不小的性能提升。PHP-FPM控制的进程cpu回收的速度比较慢,内存分配的很均匀。</span><br style=\"border: 0px; margin: 0px; padding: 0px;\"/><span style=\"border: 0px; margin: 0px; padding: 0px; font-size: 16px; line-height: 2;\">Spawn-FCGI控制的进程CPU下降的很快，而内存分配的比较不均匀。有很多进程似乎未分配到，而另外一些却占用很高。可能是由于进程任务分配的不均匀导致的。而这也导致了总体响应速度的下降。而PHP-FPM合理的分配，导致总体响应的提到以及任务的平均。</span>\r\n</p>\r\n<p>\r\n    <br/>\r\n</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('138', '日志文件分割（将大的日志文件分割成小的）', '138', '1477533600', '1477558543', '<!--markdown--><p>&nbsp; &nbsp;通常网站的日志文件之前没有配置自动切割，需要看日志的时候非常大，就需要割成小块，文件分割可以通过split命令来实现，可以指定按行数分割和按大小分割两种模式。文件合并可以通过cat命令来实现，非常简单。</p><p>在Linux下用split进行文件分割：</p><p><span style=\"color: rgb(255, 0, 0);\">模式一：指定分割后文件行数</span></p><p>对与txt文本文件，可以通过指定分割后文件的行数来进行文件分割。<br/></p><p>命令：split -l 300 large_file.txt new_file_prefix<br/></p><p><span style=\"color: rgb(255, 0, 0);\">模式二：指定分割后文件大小</span><br/></p><p>split -b 10m server.log waynelog</p><p>对二进制文件我们同样也可以按文件大小来分割。</p><p>在Linux下用cat进行文件合并：</p><p>命令：cat small_files* &gt; large_file<br/></p><p><br/></p><p>Win下文件分割工具</p><p style=\"line-height: 16px;\"><img style=\"vertical-align: middle; margin-right: 2px;\" src=\"/usr/plugins/UEditor/ueditor/dialogs/attachment/fileTypeImages/icon_rar.gif\"/><a style=\"font-size:12px; color:#0066cc;\" href=\"/usr/uploads/files/2016/10/27/1477558533389499.zip\" title=\"Ultra File Splitte.zip\">Ultra File Splitte.zip</a></p><p></p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('140', 'SQL四种语言：DDL,DML,DCL,TCL', '140', '1477789320', '1477789431', '<!--markdown--><p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">1.<strong style=\"margin: 0px; padding: 0px;\">DDL</strong>（<strong style=\"margin: 0px; padding: 0px;\"><span style=\"margin: 0px; padding: 0px;text-decoration:underline;\"><strong style=\"margin: 0px; padding: 0px;\">Data</strong></span>&nbsp;Definition Language</strong>）<span style=\"text-decoration: none;\"><strong style=\"margin: 0px; padding: 0px;\"><span style=\"text-decoration: none; margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">数据库</strong></span></strong></span><strong style=\"margin: 0px; padding: 0px;\">定义语言</strong>statements are used to define the database structure or schema.</p><p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">DDL是<span style=\"margin: 0px; padding: 0px;\"><strong style=\"margin: 0px; padding: 0px;\">SQL</strong><strong style=\"margin: 0px; padding: 0px;\"></strong></span>语言的四大功能之一。<br style=\"margin: 0px; padding: 0px;\"/>用于定义数据库的三级结构，包括外模式、概念模式、内模式及其相互之间的映像，定义数据的完整性、安全控制等约束<br style=\"margin: 0px; padding: 0px;\"/>DDL不需要commit.<br style=\"margin: 0px; padding: 0px;\"/>CREATE<br style=\"margin: 0px; padding: 0px;\"/>ALTER<br style=\"margin: 0px; padding: 0px;\"/>DROP<br style=\"margin: 0px; padding: 0px;\"/>TRUNCATE<br style=\"margin: 0px; padding: 0px;\"/>COMMENT<br style=\"margin: 0px; padding: 0px;\"/>RENAME<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>2.<strong style=\"margin: 0px; padding: 0px;\">DML</strong>（<strong style=\"margin: 0px; padding: 0px;\">Data Manipulation Language</strong>）<strong style=\"margin: 0px; padding: 0px;\">数据操纵语言</strong>statements are used for managing data within schema objects.</p><!--more--><p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\">由DBMS提供，用于让用户或程序员使用，实现对数据库中数据的操作。<br style=\"margin: 0px; padding: 0px;\"/>DML分成交互型DML和嵌入型DML两类。<br style=\"margin: 0px; padding: 0px;\"/>依据语言的级别，DML又可分成过程性DML和非过程性DML两种。<br style=\"margin: 0px; padding: 0px;\"/>需要commit.<br style=\"margin: 0px; padding: 0px;\"/>SELECT<br style=\"margin: 0px; padding: 0px;\"/>INSERT<br style=\"margin: 0px; padding: 0px;\"/>UPDATE<br style=\"margin: 0px; padding: 0px;\"/>DELETE<br style=\"margin: 0px; padding: 0px;\"/>MERGE<br style=\"margin: 0px; padding: 0px;\"/>CALL<br style=\"margin: 0px; padding: 0px;\"/>EXPLAIN PLAN<br style=\"margin: 0px; padding: 0px;\"/>LOCK TABLE<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>3.<strong style=\"margin: 0px; padding: 0px;\">DCL</strong>（<strong style=\"margin: 0px; padding: 0px;\">Data Control Language</strong>）<strong style=\"margin: 0px; padding: 0px;\">数据库控制语言</strong>&nbsp; 授权，角色控制等<br style=\"margin: 0px; padding: 0px;\"/>GRANT 授权<br style=\"margin: 0px; padding: 0px;\"/>REVOKE 取消授权<br style=\"margin: 0px; padding: 0px;\"/><br style=\"margin: 0px; padding: 0px;\"/>4.<strong style=\"margin: 0px; padding: 0px;\">TCL</strong>（<strong style=\"margin: 0px; padding: 0px;\">Transaction Control Language</strong>）<strong style=\"margin: 0px; padding: 0px;\">事务控制语言</strong><br style=\"margin: 0px; padding: 0px;\"/>SAVEPOINT 设置保存点<br style=\"margin: 0px; padding: 0px;\"/>ROLLBACK&nbsp; 回滚<br style=\"margin: 0px; padding: 0px;\"/>SET TRANSACTION</p><p style=\"margin: 10px auto; padding: 0px; color: rgb(51, 51, 51); font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; line-height: 25.2px; white-space: normal; background-color: rgb(255, 255, 255);\"><strong style=\"margin: 0px; padding: 0px;\">SQL主要分成四部分</strong>：<br style=\"margin: 0px; padding: 0px;\"/>（1）数据定义。（SQL DDL）用于定义SQL模式、基本表、视图和索引的创建和撤消操作。<br style=\"margin: 0px; padding: 0px;\"/>（2）数据操纵。（SQL DML）数据操纵分成数据查询和数据更新两类。数据更新又分成插入、删除、和修改三种操作。<br style=\"margin: 0px; padding: 0px;\"/>（3）数据控制。包括对基本表和视图的授权，完整性规则的描述，事务控制等内容。<br style=\"margin: 0px; padding: 0px;\"/>（4）嵌入式SQL的使用规定。涉及到SQL语句嵌入在宿主语言程序中使用的规则。</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('141', 'MySql不停机添加丛库小记', '141', '1480739760', '1480746618', '<!--markdown--><p>&nbsp; 拖了很长时间才开始写这篇文章，本来打算上线之后第二天立刻开始记录的，一直有很多碎片事情要做。</p><p>&nbsp; 基础是已经有一主一丛，或一主多从，由于业务需要增加新的丛库来分担读的压力。<a href=\"http://test.yusure.cn/mysql/93.html\" target=\"_blank\">查看如何配置主从复制</a></p><p>不停机平滑加丛库主要原理是：&nbsp;</p><p>1、停掉当前的丛库同步 stop slave。做这一步之前需要需要代码层的改动，将这个从库从web业务脱离，建议访问量少时候操作。</p><p>2、查看丛库状态，show slave status &nbsp;记下 Relay_Master_Log_file 和 Exec_Master_Log_Pos&nbsp;</p><p>3、备份丛库，Myisam直接打包文件拷贝到另一台机器就可以了。Innodb的可以用xtrabackup备份，数据量少可以直接用Navicat数据传输，或者mysqldump导出。&nbsp;</p><p>4、将数据库备份拷贝到待加丛库的机器，数据怎么弄过来方法很多，一定要保证拷贝过来的数据与上一个丛库的数据一致，数据表正常可用。&nbsp;</p><p>5、编辑配置文件 my.cnf &nbsp;修改&nbsp;server-id （不要与之前的丛库相同） replicate-do-db（同步的库） &nbsp;这两个参数</p><p>6、在新丛库设置主库的连接信息</p><pre class=\"brush:php;toolbar:false\">change&nbsp;master&nbsp;to\r\nmaster_host=&#39;192.168.0.xxx&#39;,\r\nmaster_port=3306,\r\nmaster_user=&#39;userdb_slave&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\nmaster_password=&#39;xxxxxxxxxxxxxxxxx&#39;,\r\nmaster_log_file=&#39;mysql-bin.000169&#39;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;上面记录的\r\nmaster_log_pos=824721706;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;上面记录的</pre><p>7、重启数据库，start slave 开启同步。show slave status &nbsp;</p><p>看这两个参数 Slave_IO_Running &nbsp; &nbsp;Yes &nbsp; Slave_SQL_Running &nbsp; Yes &nbsp;那就证明主从正常了</p><p>8、不要忘了把上一个丛库开启同步 start slave，查看上一个丛库和新加丛库是否正常同步可用，最后加入到web业务代码里面。</p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('143', 'MySQL之Field‘***’doesn’t have a default value错误解决办法', '143', '1481703702', '1481703702', '<!--markdown--><p>&nbsp; 一个注册报错的问题，是因为字段没有默认值，我本地环境mysql5.5没有问题，外网演示环境是mysql5.6，通过查资料知道了原来是my.ini配置问题的问题。</p><p>解决方法：</p><p>打开my.ini，查找</p><p>sql-mode=&quot;STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;</p><p>修改为</p><p>sql-mode=&quot;NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;</p><p>然后重启MYSQL</p><p><br/></p><p>STRICT_TRANS_TABLES模式：严格模式，进行数据的严格校验，错误数据不能插入，报error错误。&nbsp;</p><p>在STRICT_TRANS_TABLES模式下，当我们插入数据时，mysql会严格的进行数据的校验，当发现插入列值未满足要求，直接报告error错误，保证了错误数据无法插入到数据库中。</p><p><span style=\"font-family: Arial; font-size: 14px; line-height: 26px; widows: 1; background-color: rgb(255, 255, 255);\"><br/></span></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('144', '根据两点间的经纬度计算距离', '144', '1485766680', '1485766737', '<!--markdown--><pre class=\"brush:php;toolbar:false\">/**\r\n&nbsp;*&nbsp;&nbsp;@desc&nbsp;根据两点间的经纬度计算距离\r\n&nbsp;*&nbsp;&nbsp;@param&nbsp;float&nbsp;$lat&nbsp;纬度值\r\n&nbsp;*&nbsp;&nbsp;@param&nbsp;float&nbsp;$lng&nbsp;经度值\r\n&nbsp;*/\r\nfunction&nbsp;getDistance(&nbsp;$lat1,&nbsp;$lng1,&nbsp;$lat2,&nbsp;$lng2&nbsp;)\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;$earthRadius&nbsp;=&nbsp;6367000;&nbsp;//approximate&nbsp;radius&nbsp;of&nbsp;earth&nbsp;in&nbsp;meters\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$lat1&nbsp;=&nbsp;($lat1&nbsp;*&nbsp;pi()&nbsp;)&nbsp;/&nbsp;180;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$lng1&nbsp;=&nbsp;($lng1&nbsp;*&nbsp;pi()&nbsp;)&nbsp;/&nbsp;180;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$lat2&nbsp;=&nbsp;($lat2&nbsp;*&nbsp;pi()&nbsp;)&nbsp;/&nbsp;180;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$lng2&nbsp;=&nbsp;($lng2&nbsp;*&nbsp;pi()&nbsp;)&nbsp;/&nbsp;180;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;$calcLongitude&nbsp;=&nbsp;$lng2&nbsp;-&nbsp;$lng1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$calcLatitude&nbsp;=&nbsp;$lat2&nbsp;-&nbsp;$lat1;\r\n&nbsp;&nbsp;&nbsp;&nbsp;$stepOne&nbsp;=&nbsp;pow(sin($calcLatitude&nbsp;/&nbsp;2),&nbsp;2)&nbsp;+&nbsp;cos($lat1)&nbsp;*&nbsp;cos($lat2)&nbsp;*&nbsp;pow(sin($calcLongitude&nbsp;/&nbsp;2),&nbsp;2);\r\n&nbsp;&nbsp;&nbsp;&nbsp;$stepTwo&nbsp;=&nbsp;2&nbsp;*&nbsp;asin(min(1,&nbsp;sqrt($stepOne)));\r\n&nbsp;&nbsp;&nbsp;&nbsp;$calculatedDistance&nbsp;=&nbsp;$earthRadius&nbsp;*&nbsp;$stepTwo;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;round($calculatedDistance);\r\n}\r\n\r\necho&nbsp;getDistance(&nbsp;&#39;39.976315&#39;,&#39;116.492302&#39;,&#39;39.976315&#39;,&#39;116.492302&#39;&nbsp;);</pre><p><br/></p><p>在线计算两点距离网址 &nbsp; <a href=\"http://www.nhc.noaa.gov/gccalc.shtml\" target=\"_blank\">http://www.nhc.noaa.gov/gccalc.shtml</a><br/></p><p><br/></p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('146', 'window wamp下xhprof的安装使用,Graphviz配置', '146', '1487942280', '1487944780', '<!--markdown--><p><span style=\"font-family: arial, helvetica, sans-serif;\">&nbsp; &nbsp; &nbsp; &nbsp;起因：本地一个网站后台登陆的时候特别卡，卡的我心烦，点击登陆要等待好久，肉眼我还真看不出哪里有毛病，祭出神器来监测下，看看到底哪里卡！最后找到原因是file_put_contents函数，因为请求了淘宝IP地址库的远程接口导致缓慢。因为是我本地缓慢，我的解决办法：判断是127.0.0.1直接return返回，不请求接口，如果线上缓慢可以把请求到的结果缓存到文件或内存，下次碰到同样的ip直接从缓存取出。</span></p><p><span style=\"font-family: arial, helvetica, sans-serif;\">淘宝IP地址库</span><a href=\"http://ip.taobao.com/instructions.php\" target=\"_blank\" style=\"text-decoration: underline; font-family: arial, helvetica, sans-serif;\"><span style=\"font-family: arial, helvetica, sans-serif;\">http://ip.taobao.com/instructions.php</span></a></p><p><span style=\"font-family: arial, helvetica, sans-serif;\">附上缓慢现场图：</span></p><p><img src=\"/usr/uploads/2017/02/24/1487941202256200.png\" title=\"1487941202256200.png\" alt=\"blob.png\"/></p><p><img src=\"/usr/uploads/2017/02/24/1487941734304638.png\" title=\"1487941734304638.png\" alt=\"blob.png\"/></p><!--more--><p><span style=\"font-family: arial, helvetica, sans-serif;\">1、下载</span></p><p><span style=\"font-family: arial, helvetica, sans-serif;\">下载在这里 </span><a href=\"http://dev.freshsite.pl/php-extensions/xhprof.html\" target=\"_blank\" textvalue=\"http://dev.freshsite.pl/php-extensions/xhprof.html\">http://dev.freshsite.pl/php-extensions/xhprof.html</a></p><p><span style=\"font-family: arial, helvetica, sans-serif;\">需要下载两个文件 <span style=\"font-family: arial, helvetica, sans-serif; color: rgb(255, 0, 0);\">XHProf 0.10.3 for PHP 5.4 vc9 &nbsp;xhprof_html </span>注意区分是否nts，在phpinfo()页面&nbsp;Thread Safety是enabled 一般就是ts版，否则就是nts版了</span></p><p><span style=\"font-family: arial, helvetica, sans-serif;\">2、安装</span></p><p>把XHProf 0.10.3 for PHP 5.4 vc9里面的dll文件重命名为 php_xhprof.dll 放在php的ext目录下，然后在php.ini配置里面加入配置（不要忘记创建对应的文件夹）</p><pre class=\"brush:php;toolbar:false;\">[xhprof]\r\nextension=php_xhprof.dll\r\n;&nbsp;directory&nbsp;used&nbsp;by&nbsp;default&nbsp;implementation&nbsp;of&nbsp;the&nbsp;iXHProfRuns\r\n;&nbsp;interface&nbsp;(namely,&nbsp;the&nbsp;XHProfRuns_Default&nbsp;class)&nbsp;for&nbsp;storing\r\n;&nbsp;XHProf&nbsp;runs.\r\nxhprof.output_dir=&quot;d:/wamp/logs/xhprof_log&quot;</pre><p><span style=\"font-family: arial, helvetica, sans-serif;\"><span style=\"color: rgb(85, 85, 85); font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 13px; background-color: rgb(238, 238, 238);\"></span>重启你的wamp即可，看看phpinfo()里面有没有xhprof</span></p><p><img src=\"/usr/uploads/2017/02/24/1487942412495454.png\" title=\"1487942412495454.png\" alt=\"blob.png\"/></p><p><span style=\"font-family: arial, helvetica, sans-serif;\">3、使用</span></p><p>xhprof_html.zip 这个文件解压出来配置成站点</p><p><img src=\"/usr/uploads/2017/02/24/1487942539558270.png\" title=\"1487942539558270.png\" alt=\"blob.png\"/></p><pre class=\"brush:php;toolbar:false\">D:\\wamp\\www\\xhprof\\examples\\sample.php&nbsp;&nbsp;&nbsp;demo文件，可以参考里面代码来使用。</pre><pre class=\"brush:php;toolbar:false\">//&nbsp;start&nbsp;profiling\r\nxhprof_enable();\r\n\r\n\r\n//&nbsp;run&nbsp;program\r\n这里执行你的代码，我是代码段，我在运行，运行。。。。。。\r\n\r\n//&nbsp;stop&nbsp;profiler\r\n$xhprof_data&nbsp;=&nbsp;xhprof_disable();\r\n$XHPROF_ROOT&nbsp;=&nbsp;realpath(dirname(__FILE__)&nbsp;.&#39;/..&#39;);\r\ninclude_once&nbsp;$XHPROF_ROOT&nbsp;.&nbsp;&quot;/xhprof_lib/utils/xhprof_lib.php&quot;;\r\ninclude_once&nbsp;$XHPROF_ROOT&nbsp;.&nbsp;&quot;/xhprof_lib/utils/xhprof_runs.php&quot;;\r\n$xhprof_runs&nbsp;=&nbsp;new&nbsp;XHProfRuns_Default();\r\n//&nbsp;save&nbsp;the&nbsp;run&nbsp;under&nbsp;a&nbsp;namespace&nbsp;&quot;xhprof_foo&quot;\r\n$run_id&nbsp;=&nbsp;$xhprof_runs-&gt;save_run($xhprof_data,&nbsp;&quot;xhprof_foo&quot;);</pre><p>运行之后在D:\\wamp\\logs\\xhprof_log目录下会生成文件。</p><p>访问地址 http://你的域名/index.php?run=58b022aca68ad&amp;source=xhprof_foo&nbsp;就能看到记录的结果了。&nbsp;58b022aca68ad 代表$run_id</p><p><img src=\"/usr/uploads/2017/02/24/1487942944482726.png\" title=\"1487942944482726.png\" alt=\"blob.png\"/></p><p>点击&nbsp;<img src=\"/usr/uploads/2017/02/24/1487942978654174.png\" title=\"1487942978654174.png\" alt=\"blob.png\"/>&nbsp;能查看图片形式的结果，需要安装Graphviz。</p><p>地址：<a href=\"http://www.graphviz.org/Download_windows.php\" target=\"_blank\" textvalue=\"http://www.graphviz.org/Download_windows.php\">http://www.graphviz.org/Download_windows.php</a>&nbsp; 下载.msi文件安装即可。</p><p>安装好之后需要配置D:\\wamp\\www\\xhprof\\config.php &nbsp;DOT_BINARY常量的路径要跟刚才安装的对应起来，到这里应该就可以生成图形了。</p><p>图形生成链接&nbsp;http://你的域名/callgraph.php?run=58b022aca68ad&amp;source=xhprof_foo</p><p>附上参数解释：</p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:18px;padding:0 0 0 0 ;line-height:20px\"><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 13px\">·&nbsp;</span><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px\">funciton name ： 函数名</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:18px;padding:0 0 0 0 ;line-height:20px\"><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 13px\">·&nbsp;</span><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px\">calls: 调用次数</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:18px;padding:0 0 0 0 ;line-height:20px\"><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 13px\">·&nbsp;</span><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px\">Incl. Wall Time (microsec)： 函数运行时间（包括子函数）</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:18px;padding:0 0 0 0 ;line-height:20px\"><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 13px\">·&nbsp;</span><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px\">IWall%：函数运行时间（包括子函数）占比</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:18px;padding:0 0 0 0 ;line-height:20px\"><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 13px\">·&nbsp;</span><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px\">Excl. Wall Time(microsec)：函数运行时间（不包括子函数）</span></p><p style=\"margin-top:0;margin-right:0;margin-bottom:0;margin-left:18px;padding:0 0 0 0 ;line-height:20px\"><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 13px\">·&nbsp;</span><span style=\"font-family: 微软雅黑;letter-spacing: 0;font-size: 14px\">EWall%：函数运行时间（不包括子函数）</span></p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '1', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('155', 'Freebsd安装redis', '155', '1488098160', '1488098254', '<!--markdown--><h2><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"><strong><span style=\"font-size: 21px;\">************************** Ports安装 **************************</span></strong></span></h2><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">whereis redis</span><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;&nbsp;<span style=\"font-family:微软雅黑\">查找</span>redis路径</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">安装</span> cd </span><span style=\";font-family:微软雅黑;font-size:14px\">/usr/ports/databases/redis</span><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;&nbsp;make &nbsp;make install</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">启动</span> &nbsp;/usr/local/bin/redis-server /usr/local/etc/redis.conf</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">关闭</span> &nbsp;/usr/local/bin/redis-cli shutdown</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">命令行客户端</span> &nbsp;/usr/local/bin/redis-cli</span></p><h2><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"><strong><span style=\"font-size: 21px;\">************************** 源码安装 **************************</span></strong></span></h2><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">$ wget http://download.redis.io/releases/redis-3.2.8.tar.gz</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">$ tar xzf redis-3.2.8.tar.gz</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">$ cd redis-3.2.8</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">$ make</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">如果出现报错：</span></span></p><p><img src=\"/usr/uploads/2017/02/26/1488098142982629.png\" title=\"1488098142982629.png\" alt=\"blob.png\"/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">我们只要使用</span>gmake代替make就可以解决了</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">cd /usr/local/redis</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">启动</span> &nbsp;./bin/redis-server ./redis.conf</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">进入命令行客户端</span> &nbsp;./bin/redis-cli</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">127.0.0.1:6379&gt; info &nbsp;&nbsp;查看redis信息</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><img src=\"/usr/uploads/2017/02/26/1488098164616262.png\" title=\"1488098164616262.png\" alt=\"blob.png\"/></p><h2><span style=\"font-family: 微软雅黑, &quot;Microsoft YaHei&quot;;\"><strong><span style=\"font-size: 21px;\">********************** PHP PECL安装 **********************</span></strong></span></h2><p><span style=\";font-family:微软雅黑;font-size:14px\">cd /usr/ports/databases/php5-redis</span></p><p><span style=\";font-family:微软雅黑;font-size:14px\">make install</span></p><p><span style=\";font-family:微软雅黑;color:rgb(0,0,255);font-size:14px\">php -m</span><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;<span style=\"font-family:微软雅黑\">查看安装的模块</span></span></p><p><span style=\";font-family:微软雅黑;color:rgb(0,0,255);font-size:14px\">service php-fpm reload</span><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;&nbsp;<span style=\"font-family:微软雅黑\">在</span>phpinfo里面就能看见redis了。</span></p><p><img src=\"/usr/uploads/2017/02/26/1488098189121241.png\" title=\"1488098189121241.png\" alt=\"blob.png\"/></p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('157', '具体项目', '157', '1490857140', '1490930824', '<!--markdown--><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 宋体;font-size: 14px\"></span></strong></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">1、公司平台会商宝 www.huishangbao.com </span></strong></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">描述：</span>B2B电子商务平台 &nbsp;负责整站架构，需求讨论，迭代开发。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">架构方面：</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\">CDN：</span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">接入阿里云</span>CDN缓存静态文件，小图片等。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">图片存储：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">选用七牛云存储来提供图片服务。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">数据库：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\">mysql主从复制，一主三从，PHP端实现读写分离，来分担读的压力。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">文件缓存：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">主页、二级</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">板块主页</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">生成静态页面</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">，</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">供应详情页面生成文件缓存。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">内存缓存：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">常用查询做缓存处理</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">（地区，供应分类，文章分类等）</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">操作系统：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\">web主站</span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">和数据库服务器均</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">采用坚若磐石的</span>Freebsd系统来提供服务。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><span style=\"font-family:宋体\"></span></span><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"></span></p><p><img src=\"/usr/uploads/2017/03/30/1490860007486971.png\" title=\"1490860007486971.png\" alt=\"于帅的详细项目186.png\"/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\">&nbsp;</span><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 宋体;font-size: 14px\"></span></strong></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">2、公司商城 www.gaoyipin.com &nbsp;</span></strong></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">描述：</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">多用户网上商城</span> &nbsp;&nbsp;&nbsp;<span style=\"font-family:微软雅黑\">负责整站架构，需求讨论，迭代开发。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">架构方面</span>: </span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">程序：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">采用</span>ShopNC程序，PHP + Mysql</span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\">CDN：</span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">静态文件采用</span>CDN进行缓存</span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">图片存储：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">选用七牛云存储来提供图片服务。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">数据库：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\">Mysql读写分离，一主一丛。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">站内</span></span></strong><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">搜索：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">采用</span>xunsearch</span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">全文搜索引擎</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">提供商品搜索服务。</span></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><span style=\"font-family:宋体\"></span></span><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860034193955.png\" title=\"1490860034193955.png\" alt=\"于帅的详细项目315.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">3、公司内部OA系统。</span></strong></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">描述：公司员工每日提交日报，销售人员查看客户信息，提单人员录入订单，所有工作都围绕</span>OA系统进行开展。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">程序：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\">PHP+Mysql自主研发。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">服务器：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">采用</span>FreeBSD提供稳定的服务支持。</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860044726418.png\" title=\"1490860044726418.png\" alt=\"于帅的详细项目380.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">4、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">即墨合作社网</span></strong><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">&nbsp;</span></strong><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;</span><span style=\";font-family:微软雅黑;font-size:14px\">http://www.jmco-op.com/ &nbsp;</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">框架：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">选用</span></span><span style=\";font-family:微软雅黑;font-size:14px\">ThinkPHP</span><span style=\";font-family:微软雅黑;font-size:14px\">3.2.3</span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">开发</span></span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">负责需求分析，</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">多个模块开发，</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">支付宝，网银在线</span></span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">第三方支付调试。</span></span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860051989244.png\" title=\"1490860051989244.png\" alt=\"于帅的详细项目459.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">5、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">韩国机票查询网站</span></strong><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">&nbsp;</span></strong><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;</span><span style=\";font-family:微软雅黑;font-size:14px\">http://www.bighom.com/ &nbsp;&nbsp;</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">框架：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">选用</span>thinkphp3.2.3开发。</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860058530733.png\" title=\"1490860058530733.png\" alt=\"于帅的详细项目516.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">6、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">会商宝社交推客</span></strong><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;<span style=\"font-family:微软雅黑\">微信端看文章阅读转发赚钱</span> &nbsp;&nbsp;&nbsp;</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">框架：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">选用</span>thinkphp3.2.3开发。</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">后台样式：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\">Amaze UI</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">微信端：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\">WeUI，微信JSSDK</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860064874168.png\" title=\"1490860064874168.png\" alt=\"于帅的详细项目562.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">7、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">积分管理系统</span></strong><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;<span style=\"font-family:微软雅黑\">店长给员工加分，每月评选奖品。</span></span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">框架：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">采用</span>CI开发。</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860069608755.png\" title=\"1490860069608755.png\" alt=\"于帅的详细项目598.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">8、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">一元夺宝商城</span></strong><span style=\"font-family: 微软雅黑;font-size: 14px\">&nbsp;&nbsp;&nbsp;</span><a href=\"http://www.1yuanshangcheng.com\"><span style=\"text-decoration:underline;\"><span style=\"font-family: 微软雅黑;color: rgb(0, 0, 255)\">www.1yuanshangcheng.com</span></span></a></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family: 微软雅黑;font-size: 14px\">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">描述：</span></span></strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">会员可以对商品进行下注，商品倒计时结束将会随机选取一位幸运者获得商品。</span></span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860075383889.png\" title=\"1490860075383889.png\" alt=\"于帅的详细项目633.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">9、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">广告</span></strong><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">路由器管理系统</span></strong><strong><span style=\"font-family: 微软雅黑;font-size: 14px\">&nbsp;&nbsp;</span></strong><span style=\"font-family: 微软雅黑;font-size: 14px\">wifi.gaoyipin.com</span><span style=\"font-family: 微软雅黑;font-size: 14px\">&nbsp;</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">描述：</span></span></strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">用户连接免费</span>wifi的时候会弹出广告，</span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">独立完成从路由器硬件调试到对接系统的联调</span></span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860698487921.png\" title=\"1490860698487921.png\" alt=\"blob.png\"/>&nbsp;</span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:宋体;font-weight:bold;font-size:14px\"></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">10、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\">通济党建政府项目</span></strong><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;http://119.167.116.236:8081/ &nbsp;</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">负责整体架构，</span>IC读卡器选型，采购，</span><span style=\";font-family:微软雅黑;font-size:14px\">IC</span><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">读卡器</span></span><span style=\";font-family:微软雅黑;font-size:14px\">API的对接，刷卡签到，刷卡表决的逻辑开发。</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">项目后期去机房实地进行服务器部署，网关、硬件防火墙的配置调试。</span></span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:Calibri;font-size:14px\">&nbsp;<img src=\"/usr/uploads/2017/03/30/1490860092257560.png\" title=\"1490860092257560.png\" alt=\"于帅的详细项目810.png\"/></span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\">&nbsp;<img src=\"/usr/uploads/2017/03/30/1490860097777488.png\" title=\"1490860097777488.png\" alt=\"于帅的详细项目812.png\"/></span></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><br/></p><p style=\"margin-right:0;margin-left:0;text-indent:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\"font-family:微软雅黑;font-weight:bold;font-size:16px\">11、</span><strong><span style=\"font-family: 微软雅黑;line-height: 150%;font-size: 16px\"><span style=\"font-family:微软雅黑\">域名跳转系统</span> </span></strong><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;</span><a href=\"http://103.216.218.97:8081\"><span style=\"text-decoration:underline;\"><span style=\"font-family: 微软雅黑;color: rgb(0, 0, 255)\">http://103.216.218.97:8081</span></span></a><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">框架：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\">Thinkphp3.2.3</span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">背景：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">个人开发，业余项目，现已在公司内部使用</span></span></p><p style=\"margin-right:0;text-indent:28px;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">开源地址：</span></span></strong><a href=\"https://github.com/yusureabc/domain_jump\"><span style=\"text-decoration:underline;\"><span style=\"font-family: 微软雅黑;color: rgb(0, 0, 255)\">https://github.com/yusureabc/domain_jump</span></span></a></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:微软雅黑;font-size:14px\">&nbsp;&nbsp;&nbsp;&nbsp;</span><strong><span style=\"font-family: 微软雅黑;font-size: 14px\"><span style=\"font-family:微软雅黑\">功能：</span></span></strong><span style=\";font-family:微软雅黑;font-size:14px\"><span style=\"font-family:微软雅黑\">客服人员将域名解析至服务器的</span>ip，登陆此系统，将域名信息提交，即可实现长域名自动跳转到短域名，无需联系技术登陆服务器配置。</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860109400751.png\" title=\"1490860109400751.png\" alt=\"于帅的详细项目1142.png\"/>&nbsp;</span></p><p style=\"margin-right:0;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:150%\"><span style=\";font-family:宋体;font-size:14px\"><img src=\"/usr/uploads/2017/03/30/1490860115604222.png\" title=\"1490860115604222.png\" alt=\"于帅的详细项目1144.png\"/>&nbsp;</span></p><p><br/></p>', '1', '1', null, 'page', 'hidden', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('163', '大神级程序员和普通程序员的区别', '163', '1493254080', '1493254191', '<!--markdown--><p>&nbsp; &nbsp; 为了了解那些大神级程序员和普通程序员的区别，采访了很多世界高端科技公司的软件工程师。发现这些给世界带来巨大影响的的工程师们至少有以下几个共同的思维模式：</p><p><br/></p><p><br/></p><p><span style=\"font-size: 18px;\"><strong>首先要勇于去研究自己不懂或不熟悉的代码</strong></span></p><p><br/></p><p>&nbsp; &nbsp; 一般程序员都不愿意去研究自己不曾接触过的代码，很多人都没有尝试就放弃了。如果你经常去研究你没有接触过的代码，你就会越来越熟悉不同的代码结构和设计模式。现在程序员很容易就接触到优质的开源代码资源，可以很方便的就下载下来做一些改动或者调试，去研究为什么代码可以这么写。</p><p><br/></p><p>除了代码之外，很多人对于陌生的工作内容也会感到抵触。每次换工作的时候，可能都会遇到新公司的工作内容和以前工作的内容不一样的情况，以至于刚开始的时候，工作效率没有以前那么高。</p><p><br/></p><p>其实，所有程序员都是在学习的过程中成长的。在一个陌生的领域，没有人可以从一开始就是大神。如果你想在你工作的领域，变得越来越强，无论是写代码，或是与人沟通或者其它的技能，都是需要投入大量时间去学习的。</p><p><br/></p><p><br/></p><!--more--><p><span style=\"font-size: 18px;\"><strong>精通代码调试</strong></span></p><p><br/></p><p>很多人在写代码的过程中，经常会有的一个问题就是：为什么写出来的代码不能运行？为什么运行的结果不是我想要看到的？</p><p><br/></p><p>几乎所有的程序员在写代码的过程中，都不是一遍就能写好的。但是大神级的程序员会很快的就明白自己代码的问题。这是一个很重要的能力，需要在工作中日积月累。那么怎么去调试好代码呢？以下几个方法，看文章的你可以借鉴下：</p><p><br/></p><p>1.不妨先猜测一下到底发生了什么。</p><p><br/></p><p>2.假设你的猜测是对的，想想你的猜测会导致程序有什么样结果。</p><p><br/></p><p>3.试着观察这些结果有没有异常的地方。</p><p><br/></p><p>4.如果你没有发现异样，那么说明你的猜测就是对的。</p><p><br/></p><p>5.如果你发现了异样，那么说明你的猜测是错的，接下来换一个猜测试试。</p><p><br/></p><p><br/></p><p>对于大神级程序员来说，这个过程在脑海中就是电光火石的一瞬间。只要你解决的问题足够多，你做出来的猜测就会越准确。</p><p><br/></p><p>至于如何发现异样？就需要有一套属于自己的工具或者方法了。最简单的就是在代码里输出日志来判断。但是这是比较笨的办法，需要去接触一些高级的工具或者直接带有Debug功能的编辑器。</p><p><br/></p><p><br/></p><p><span style=\"font-size: 18px;\"><strong>重视能够节约时间的工具</strong></span></p><p><br/></p><p>&nbsp; &nbsp; 最近打败人类的AlphaGo（阿尔法）每天可以进行上百万局的下棋训练，人类一万个小时的训练却需要10年之久。也就是说，电脑运行几分钟，可能就等于人类工作好几年。这么一比，人力的思维好渺小。。。</p><p><br/></p><p>高效率的程序员都把时间花在制作工具上，很多程序员也认为工具是很重要的，但是他们并没有花时间去制作、整合自己的工具。但是，团队最出色的员工会耗费了他1/3的时间在工具制作上，这些工具可以用来发布代码，监控系统，以及能让他们花更少的时间去做更多事情。</p><p><br/></p><p>总之，不要花时间去做没有意义的事情。</p><p><br/></p><p><br/></p><p><span style=\"font-size: 18px;\"><strong>优化你的迭代速度</strong></span></p><p><br/></p><p>&nbsp; &nbsp; 假设一下你要花12秒钟去搜索某个函数是在哪里定义的。再假设你每天做这个动作60次，那么你每天就要花12分钟去搜索函数定义。</p><p><br/></p><p>如果你用一个好一点的编辑器，每次找到函数定义只要2秒钟，那么你每天就会节约10分钟。每年你就可以节约40个小时。</p><p><br/></p><p>如果你能找到3个这样的场景去优化一下，那么你每年可以节约一个月的时间，想想这一个月你可以做多少有意义的事情啊。</p><p><br/></p><p>再假如你在调试一个App的错误的时候，改完一次代码都需要重启一下App，然后点击4、5次才能看到错误有没有改好。那么你是不是可以先花几分钟设置以下，让App一启动就转到显示错误的页面呢？</p><p><br/></p><p>所以千万不要小看这些琐碎的细节，改善它们对你的回报是巨大，细节决定成败啊。</p><p><br/></p><p><br/></p><p><span style=\"font-size: 18px;\"><strong>系统性的思考方式</strong></span></p><p><br/></p><p>&nbsp; &nbsp; 当你在写代码的时候，很容易就认为只需要按照需求实现了指定的功能，这个代码就可以算是写完了。但是这其实只是沧海一粟。任何没有发布到生产环境的代码都不会产生任何价值的。</p><p><br/></p><p>如果想写出真正有影响力的代码，需要从整个系统去理解属于你的工作：</p><p><br/></p><p>1.你的代码和其他人写的代码在功能上是什么关系？</p><p><br/></p><p>2.你有没有好好测试你的代码？或者其他人是否很容易测试你的代码？</p><p><br/></p><p>3.为了部署你的代码，线上生产环境的代码是不是需要改动？</p><p><br/></p><p>4.新的代码会不会影响到已经运行的代码？</p><p><br/></p><p>5.在新的功能下，你的目标用户的行为是不是你所期望的？</p><p><br/></p><p>6.你的代码有没有产生商业上的影响？</p><p><br/></p><p>这些问题都不是很容易就能回答的，但是在写代码的时候，你需要明白你的代码最后会不会得到你想要的结果。</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '1', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('166', 'Mysql开启general_log记录', '166', '1497425400', '1497425555', '<!--markdown--><p>&nbsp; &nbsp; &nbsp; &nbsp; 开启general log会将所有的SQL语句记录下来。生产环境一般不会开启，因为log的量会非常庞大。但个别情况下可能会临时的开一会儿general log以供排障使用。&nbsp;</p><p><br/></p><p>* 如果是 mysql5.4以下版本</p><p>在my.ini 文件中 设置 log=&#39;你的log 日志路径&#39;</p><p>在[mysqld]后面增加一行 &nbsp;然后重启mysql 生效</p><pre class=\"brush:php;toolbar:false\">log=D:/wamp/www/mysql_bz.log</pre><p>* 如果是 mysql5.5以上版本 &nbsp;一次性修改方法 重启后无效</p><pre class=\"brush:php;toolbar:false\">SHOW&nbsp;VARIABLES&nbsp;LIKE&nbsp;&#39;%general_log%&#39;\r\nSET&nbsp;GLOBAL&nbsp;general_log&nbsp;=&nbsp;1\r\nSET&nbsp;GLOBAL&nbsp;general_log_file&nbsp;=&nbsp;&#39;你的log&nbsp;日志路径&#39;</pre><p>长期有效修改方法在 my.ini 里面 [mysqld] 后面加上如下代码 没有 [mysqld] 自己加上</p><pre class=\"brush:php;toolbar:false\">[mysqld]\r\ngeneral_log=ON\r\ngeneral_log_file=D:/wamp/logs/mysql_general.log&nbsp;&nbsp;//&nbsp;这里设置你&nbsp;log日志路径</pre><p># log-raw=true &nbsp;如果错误日志没记录 则开启这行,</p><p>参考地址：</p><p>http://dev.mysql.com/doc/refman/5.7/en/query-log.html</p><p>http://dev.mysql.com/doc/refman/5.7/en/password-logging.html</p><p>然后重启mysql 生效</p><p>错误的sql不会被成功解析，所以不会记录到general log中</p><p>如果需要记录所有的语句，包括那些错误的，请加 log-raw选项 &nbsp;log-raw=true</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('169', 'CSS截取多余字符，用省略号表示', '169', '1499164260', '1499176131', '<!--markdown--><p>********************* css截取字符 *********************</p><pre class=\"brush:css;toolbar:false\">text-overflow:ellipsis;&nbsp;&nbsp;/*&nbsp;让超出的用...实现&nbsp;*/\r\nwhite-space:nowrap;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;禁止换行&nbsp;*/\r\noverflow:hidden;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;超出的隐藏&nbsp;*/</pre><p><br/></p><p>******************** 显示两行或者多行，再把多余的文字省略 ********************</p><pre class=\"brush:css;toolbar:false\">text-overflow:&nbsp;-o-ellipsis-lastline;\r\noverflow:&nbsp;hidden;\r\ntext-overflow:&nbsp;ellipsis;\r\ndisplay:&nbsp;-webkit-box;\r\n-webkit-line-clamp:&nbsp;2;&nbsp;&nbsp;/*&nbsp;可以设置显示多行&nbsp;*/\r\n-webkit-box-orient:&nbsp;vertical;</pre><p><br/></p>', '0', '1', null, 'post', 'publish', null, '4', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('174', 'Mysql错误 Index column size too large. The maximum column size is 767 bytes', '174', '1499839320', '1499839379', '<!--markdown--><p>&nbsp; &nbsp; 起因：准备上线一个phphub5的项目，本地是mysql5.7，数据库是没有问题的，线上环境5.5，版本较低，导入的时候出错，现在记录一下解决过程。</p><pre class=\"brush:php;toolbar:false\">[Err]&nbsp;1709&nbsp;-&nbsp;Index&nbsp;column&nbsp;size&nbsp;too&nbsp;large.&nbsp;The&nbsp;maximum&nbsp;column&nbsp;size&nbsp;is&nbsp;767&nbsp;bytes.</pre><p>错误原因是因为索引的字段太长，在 stack overflow 上找到了答案。<a href=\"https://stackoverflow.com/questions/30761867/mysql-error-the-maximum-column-size-is-767-bytes?answertab=votes#tab-top\" target=\"_blank\">查看原地址</a><br/></p><p>原来SQL：</p><pre class=\"brush:sql;toolbar:false\">ENGINE=InnoDB&nbsp;AUTO_INCREMENT=50&nbsp;DEFAULT&nbsp;CHARSET=utf8mb4&nbsp;COLLATE=utf8mb4_unicode_ci;</pre><p>修改之后SQL：</p><pre class=\"brush:sql;toolbar:false\">ENGINE=InnoDB&nbsp;AUTO_INCREMENT=50&nbsp;DEFAULT&nbsp;CHARSET=utf8mb4&nbsp;COLLATE=utf8mb4_unicode_ci&nbsp;ROW_FORMAT=DYNAMIC;</pre><p><br/>解决方法：在 CREATE TABLE 语句后面加上&nbsp;<span style=\"font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; background-color: rgb(255, 255, 255); color: rgb(255, 0, 0);\">ROW_FORMAT=DYNAMIC</span><span style=\"color: rgb(36, 39, 41); font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; font-size: 15px; background-color: rgb(255, 255, 255);\"> 就可以了。</span></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('175', 'PHP查看对象中的所有方法名', '175', '1500260400', '1500260599', '<!--markdown--><p>&nbsp; &nbsp; 一个类有很多方法，有时候拿不准用哪个方法去处理，可以全部打印出来，一个类都什么方法，一目了然。</p><pre class=\"brush:php;toolbar:false\">&lt;?php\r\nclass&nbsp;a\r\n{\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$a&nbsp;=&nbsp;1;\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct()&nbsp;{&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;aaa()\r\n&nbsp;&nbsp;&nbsp;&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;a&quot;;\r\n&nbsp;&nbsp;&nbsp;&nbsp;}\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;get_name()&nbsp;{&nbsp;}\r\n}\r\n\r\n$a&nbsp;=&nbsp;new&nbsp;a();\r\nvar_dump(&nbsp;get_class_methods(&nbsp;$a&nbsp;)&nbsp;);</pre><p>0 =&gt; string &#39;__construct&#39; (length=11)</p><p>1 =&gt; string &#39;aaa&#39; (length=3)</p><p>2 =&gt; string &#39;get_name&#39; (length=8)</p><p><br/></p>', '0', '1', null, 'post', 'publish', null, '1', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('178', 'Nginx 502 upstream sent too big header while reading response header from upstream', '178', '1501335180', '1501335615', '<!--markdown--><p>&nbsp; &nbsp; &nbsp; 线上部署的一个项目，通过OAuth登录完成之后，跳转回来就会出现502错误，错误必现。必现错误不用慌，从log里面仔细排查这个时间段的每一条记录，access log里面一般不会记录具体原因，只会记录502请求状态，想要查看具体原因还得看error log，如果log配置没搞好的话，建议先配置好log，然后再触发一次错误，这样就可以分析错误了。</p><p><a href=\"http://test.yusure.cn/nginx/133.html\" target=\"_blank\" textvalue=\"nginx错误日志error_log日志级别\">nginx错误日志error_log日志级别</a></p><p><img src=\"/usr/uploads/2017/07/29/1501335205356294.png\" title=\"1501335205356294.png\" alt=\"image.png\"/></p><p>解决方法：在配置文件中加入这两个配置</p><pre class=\"brush:php;toolbar:false\">location&nbsp;~&nbsp;\\.php$&nbsp;{\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_buffer_size&nbsp;128k;\r\n&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_buffers&nbsp;32&nbsp;32k;\r\n}</pre><p>重新加载Nginx，继续测试，正常没有报错！</p>', '0', '1', null, 'post', 'publish', null, '1', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('180', '解决Sublime Text 无法显示韩文', '180', '1511229335', '1511229335', '<!--markdown--><p>1、打开 Sublime text&nbsp; --&gt; Preferences --&gt; Setting-User</p><p>2、添加 &quot;font_options&quot;: [ &quot;directwrite&quot;]</p><p><img src=\"/usr/uploads/2017/11/21/1511229227864512.png\" title=\"1511229227864512.png\" alt=\"image.png\"/></p><p><br/></p><p>不显示韩文的时候是这个样子</p><p><img src=\"/usr/uploads/2017/11/21/1511229263688557.png\" title=\"1511229263688557.png\" alt=\"image.png\"/></p><p><br/></p><p>加上那行配置之后就可以显示了</p><p><img src=\"/usr/uploads/2017/11/21/1511229292532348.png\" title=\"1511229292532348.png\" alt=\"image.png\"/></p>', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('181', '1512551505(1).jpg', '1512551505-1-jpg', '1512551708', '1512551708', 'a:5:{s:4:\"name\";s:17:\"1512551505(1).jpg\";s:4:\"path\";s:35:\"/usr/uploads/2017/12/3897290334.jpg\";s:4:\"size\";i:6664;s:4:\"type\";s:3:\"jpg\";s:4:\"mime\";s:9:\"image/png\";}', '1', '1', null, 'attachment', 'publish', null, '0', '1', '0', '1', '182');
INSERT INTO `typecho_contents` VALUES ('182', '本地 Git 项目推送至码云或GitHub', '182', '1512716417', '1512716417', '<!--markdown-->#### 使用场景：本地有版本库，云端还没有，正打算push到云端。\r\n\r\n\r\n1. 命令 `git init` 初始化git仓库\r\n2. 命令 `git add .` （保存到缓存区）\r\n3. 命令 `git commit -m \"注释\"` (推送到本地库中)\r\n4. 在码云上新建版本仓库；\r\n5. 命令 `git remote add origin + 仓库地址` （码云上新建项目点进去克隆或复制的链接）\r\n6. 命令 `git pull origin master` (把分支上的文件拉下来)\r\n可能遇到的问题：git pull 失败 ,提示：fatal: refusing to merge unrelated histories\r\n`git pull origin master --allow-unrelated-histories`\r\n7. 命令 `git push origin master` (推送到远端仓库也就是码云上)\r\n`git push --set-upstream origin master`    设置默认的云端仓库，以后只用 git push 即可！', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('183', '配置php的session存储到memcache或redis', '183', '1514887680', '1514902102', '<!--markdown-->\r\nPHP默认配置是将session以文件形式存储在服务器上，网站访问量增加之后，单机的io是瓶颈，而且文本读取慢，除了默认的文本还可以存放到数据库，放到内存（memcache，redis）。不建议放到数据库里面，还是配置到内存里面比较爽，既提高了访问速度，又很好的实现了会话共享。\r\n\r\n### memcache 存储\r\n##### 如何配置\r\n服务端配置很简单只要两条配置命令\r\n1. 在 php.ini 中全局设置\r\n`session.save_handler = memcache`\r\n`session.save_path = \"tcp://127.0.0.1:11211\"`\r\n2. 单一网站配置(在php入口处添加，用框架的项目只需要在配置文件里面修改就可以了)\r\n`ini_set(\"session.save_handler\", \"memcache\");`\r\n`ini_set(\"session.save_path\", \"tcp://192.168.48.128:11211\");`\r\n\r\n##### 如何与网站应用互通\r\nmemcached 服务是没有密码的，如果没有限制的暴露在外网，任何用户都是可以连接的。\r\n-l 是监听的服务器IP地址，默认是127.0.0.1，任何ip访问0.0.0.0\r\n\r\n##### 如何限制访问\r\n1. 利用 -l 参数，缺点是需要重新指定ip的时候需要重启，缓存会丢失。\r\n2. 利用防火墙限制访问，推荐用这种方式，只需要配置规则就可以了，不影响memcahced运行。\r\n[memcache做ip限制](https://blog.slogra.com/post-428.html \"memcache做ip限制\")\r\n\r\n##### php端扩展下载\r\n1. Linux扩展去这里下载  http://pecl.php.net/package/memcache\r\n2. Windows http://pecl.php.net/package/memcache/3.0.8/windows 官方只支持到php5.6.\r\nphp7 看这里 https://github.com/nono303/PHP7-memcache-dll\r\n\r\ndemo代码：\r\n```php\r\n<?php \r\nini_set(\"session.save_handler\", \"memcache\");\r\nini_set(\"session.save_path\", \"tcp://192.168.48.128:11211\");\r\n\r\nsession_start();  \r\nif ( ! isset( $_SESSION[\'TEST\'] ) )\r\n{\r\n    $_SESSION[\'TEST\'] = time();\r\n}\r\n\r\n$_SESSION[\'yusure\'] = time();\r\n$_SESSION[\'TEST3\'] = time();\r\n\r\nvar_dump( $_SESSION );\r\nvar_dump( session_id() );\r\n?>\r\n```\r\n![](http://test.yusure.cn/usr/uploads/2018/01/317521741.png)\r\n![](http://test.yusure.cn/usr/uploads/2018/01/1637738964.png)\r\n\r\n对了，介绍下这个可视化工具  [MemAdmin](http://www.junopen.com/memadmin/ \"MemAdmin\")。\r\n### redis 存储\r\n##### 如何配置\r\n服务端配置很简单只要两条配置命令\r\n1. 在 php.ini 中全局设置\r\n`session.save_handler = redis`\r\n`session.save_path = \"tcp://127.0.0.1:6379\"`\r\n2. 单一网站配置(在php入口处添加，用框架的项目只需要在配置文件里面修改就可以了)\r\n`ini_set(\"session.save_handler\", \"redis\");`\r\n`ini_set(\"session.save_path\", \"tcp://192.168.48.128:6379\");`\r\n如果设置了连接密码 requirepass, 需要在后面拼接 ?auth=password\r\n`ini_set(\"session.save_path\", \"tcp://192.168.48.128:6379?auth=xxxxxx\");`  \r\n\r\n##### 如何与网站应用互通\r\n这里就要说一下如何外连 redis 了，需要修改的参数如下：\r\n注释掉bind\r\n`#bind 127.0.0.1`\r\n禁用保护模式\r\n`protected-mode no`\r\n\r\n##### php端扩展下载\r\nhttp://pecl.php.net/package/redis\r\n\r\ndemo 代码：\r\n```php\r\n<?php \r\nini_set(\"session.save_handler\", \"redis\");  \r\nini_set(\"session.save_path\", \"tcp://192.168.48.128:6379?auth=123456\");\r\n\r\nsession_start();  \r\nif ( ! isset( $_SESSION[\'TEST\'] ) )\r\n{\r\n    $_SESSION[\'TEST\'] = time();\r\n}\r\n\r\n$_SESSION[\'yusure\'] = time();\r\n$_SESSION[\'TEST3\'] = time();\r\n\r\nvar_dump( $_SESSION );\r\nvar_dump( session_id() );\r\n?>\r\n```\r\n##### Redis可视化工具：\r\n1. 客户端软件 [Redis Desktop Manager](https://redisdesktop.com/ \"Redis Desktop Manager\")\r\n2. 网页工具  [phpRedisAdmin](https://github.com/ErikDubbelboer/phpRedisAdmin \"phpRedisAdmin\")\r\n\r\n好啦，将session存储到内存的两种方式就介绍这些了！', '0', '1', null, 'post', 'publish', null, '0', '1', '1', '1', '0');
INSERT INTO `typecho_contents` VALUES ('184', '1514900734.png', '1514900734-png', '1514900738', '1514900738', 'a:5:{s:4:\"name\";s:14:\"1514900734.png\";s:4:\"path\";s:34:\"/usr/uploads/2018/01/317521741.png\";s:4:\"size\";i:64551;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}', '0', '1', null, 'attachment', 'publish', null, '0', '1', '0', '1', '183');
INSERT INTO `typecho_contents` VALUES ('185', '1514900796.png', '1514900796-png', '1514900800', '1514900800', 'a:5:{s:4:\"name\";s:14:\"1514900796.png\";s:4:\"path\";s:35:\"/usr/uploads/2018/01/1637738964.png\";s:4:\"size\";i:6943;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}', '0', '1', null, 'attachment', 'publish', null, '0', '1', '0', '1', '183');

-- ----------------------------
-- Table structure for typecho_fields
-- ----------------------------
DROP TABLE IF EXISTS `typecho_fields`;
CREATE TABLE `typecho_fields` (
  `cid` int(10) unsigned NOT NULL,
  `name` varchar(200) NOT NULL,
  `type` varchar(8) DEFAULT 'str',
  `str_value` text,
  `int_value` int(10) DEFAULT '0',
  `float_value` float DEFAULT '0',
  PRIMARY KEY (`cid`,`name`),
  KEY `int_value` (`int_value`) USING BTREE,
  KEY `float_value` (`float_value`) USING BTREE
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_fields
-- ----------------------------

-- ----------------------------
-- Table structure for typecho_links
-- ----------------------------
DROP TABLE IF EXISTS `typecho_links`;
CREATE TABLE `typecho_links` (
  `lid` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'links表主键',
  `name` varchar(200) DEFAULT NULL COMMENT 'links名称',
  `url` varchar(200) DEFAULT NULL COMMENT 'links网址',
  `sort` varchar(200) DEFAULT NULL COMMENT 'links分类',
  `image` varchar(200) DEFAULT NULL COMMENT 'links图片',
  `description` varchar(200) DEFAULT NULL COMMENT 'links描述',
  `user` varchar(200) DEFAULT NULL COMMENT '自定义',
  `order` int(10) unsigned DEFAULT '0' COMMENT 'links排序',
  PRIMARY KEY (`lid`)
) ENGINE=MyISAM AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_links
-- ----------------------------
INSERT INTO `typecho_links` VALUES ('1', 'Leerd\'s Blog', 'http://leerd.cn', null, null, 'Lee的博客', null, '1');
INSERT INTO `typecho_links` VALUES ('2', '儿里不社区', 'http://www.erlibu.com', null, null, '儿里不微博，儿里不社区，金乡的人，金乡的事', null, '2');
INSERT INTO `typecho_links` VALUES ('3', '架构师元大\'S Blog', 'http://blog.csdn.net/mffandxx', null, null, '元大哥的博客', null, '3');
INSERT INTO `typecho_links` VALUES ('4', '鞠老师的 Blog', 'http://blog.csdn.net/dnnis', null, null, '鞠老师的 Blog', null, '4');
INSERT INTO `typecho_links` VALUES ('5', '技术狗源码网', 'http://www.jishugou.wang/', null, null, '技术狗源码网，全部免费', null, '5');
INSERT INTO `typecho_links` VALUES ('6', '郑晓_个人博客', 'http://www.zh30.com/', null, null, '郑晓的技术博客，记录工作学习过程中遇到问题经验。', null, '6');
INSERT INTO `typecho_links` VALUES ('7', 'PHP--海滨', 'http://yhbin.cn/', null, null, '专注PHP开发', null, '7');
INSERT INTO `typecho_links` VALUES ('8', '全栈俊达', 'http://www.junprivate.cn/', null, null, '全栈俊达', null, '8');
INSERT INTO `typecho_links` VALUES ('9', 'wangsfox', 'https://www.wangsfox.me/', null, null, null, null, '9');

-- ----------------------------
-- Table structure for typecho_metas
-- ----------------------------
DROP TABLE IF EXISTS `typecho_metas`;
CREATE TABLE `typecho_metas` (
  `mid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(200) DEFAULT NULL,
  `slug` varchar(200) DEFAULT NULL,
  `type` varchar(32) NOT NULL,
  `description` varchar(200) DEFAULT NULL,
  `count` int(10) unsigned DEFAULT '0',
  `order` int(10) unsigned DEFAULT '0',
  `parent` int(10) unsigned DEFAULT '0',
  PRIMARY KEY (`mid`),
  KEY `slug` (`slug`) USING BTREE
) ENGINE=MyISAM AUTO_INCREMENT=42 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_metas
-- ----------------------------
INSERT INTO `typecho_metas` VALUES ('5', 'Linux', 'linux', 'category', '各种linux的折腾记录', '9', '1', '39');
INSERT INTO `typecho_metas` VALUES ('4', 'PHP', 'php', 'category', 'php技术文章', '35', '1', '0');
INSERT INTO `typecho_metas` VALUES ('6', 'BSD', 'bsd', 'category', '主要是freebsd，这个学院派坚若磐石的家伙。', '6', '2', '39');
INSERT INTO `typecho_metas` VALUES ('7', 'Mysql', 'mysql', 'category', 'mysql数据库', '15', '5', '39');
INSERT INTO `typecho_metas` VALUES ('8', 'Freebsd', 'Freebsd', 'tag', null, '0', '0', '0');
INSERT INTO `typecho_metas` VALUES ('9', 'PHP', 'PHP', 'tag', null, '17', '0', '0');
INSERT INTO `typecho_metas` VALUES ('10', 'crontab', 'crontab', 'tag', null, '0', '0', '0');
INSERT INTO `typecho_metas` VALUES ('11', 'Thinkphp', 'Thinkphp', 'tag', null, '0', '0', '0');
INSERT INTO `typecho_metas` VALUES ('12', 'ShopNC', 'ShopNC', 'tag', null, '0', '0', '0');
INSERT INTO `typecho_metas` VALUES ('13', 'CentOS', 'CentOS', 'tag', null, '0', '0', '0');
INSERT INTO `typecho_metas` VALUES ('14', 'Ubuntu', 'Ubuntu', 'tag', null, '0', '0', '0');
INSERT INTO `typecho_metas` VALUES ('15', 'linux mint', 'linux-mint', 'tag', null, '0', '0', '0');
INSERT INTO `typecho_metas` VALUES ('16', 'mysql', 'mysql', 'tag', null, '4', '0', '0');
INSERT INTO `typecho_metas` VALUES ('17', 'html', 'html', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('18', '提取页面', '提取页面', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('19', '正则', '正则', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('20', 'curl', 'curl', 'tag', null, '3', '0', '0');
INSERT INTO `typecho_metas` VALUES ('21', '采集', '采集', 'tag', null, '2', '0', '0');
INSERT INTO `typecho_metas` VALUES ('22', '爬虫', '爬虫', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('23', 'http状态码', 'http状态码', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('24', 'JavaScript', 'javascript', 'category', 'javascript  jquery 等工作用到的 笔记', '2', '1', '37');
INSERT INTO `typecho_metas` VALUES ('25', 'javascript', 'javascript', 'tag', null, '2', '0', '0');
INSERT INTO `typecho_metas` VALUES ('40', 'git', 'git', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('27', 'wamp', 'wamp', 'tag', null, '2', '0', '0');
INSERT INTO `typecho_metas` VALUES ('28', 'Windows', 'Windows', 'category', 'Windows  下的资料', '6', '3', '39');
INSERT INTO `typecho_metas` VALUES ('29', 'iis', 'iis', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('30', 'windows', 'windows', 'tag', null, '2', '0', '0');
INSERT INTO `typecho_metas` VALUES ('31', 'win2003', 'win2003', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('32', 'sublime', 'sublime', 'tag', null, '2', '0', '0');
INSERT INTO `typecho_metas` VALUES ('33', '个人笔记', 'Personal', 'category', '记录自己的生活，心情，吐槽，感想！', '4', '4', '0');
INSERT INTO `typecho_metas` VALUES ('34', 'nginx', 'nginx', 'tag', null, '2', '0', '0');
INSERT INTO `typecho_metas` VALUES ('35', 'Nginx', 'nginx', 'category', null, '5', '4', '39');
INSERT INTO `typecho_metas` VALUES ('36', 'linux', 'linux', 'tag', null, '1', '0', '0');
INSERT INTO `typecho_metas` VALUES ('37', '前端', 'front', 'category', '前端', '1', '2', '0');
INSERT INTO `typecho_metas` VALUES ('38', 'CSS', 'css', 'category', 'CSS', '1', '2', '37');
INSERT INTO `typecho_metas` VALUES ('39', 'Server', 'server', 'category', '后端、服务器、数据库', '3', '3', '0');
INSERT INTO `typecho_metas` VALUES ('41', 'session', 'session', 'tag', null, '1', '0', '0');

-- ----------------------------
-- Table structure for typecho_options
-- ----------------------------
DROP TABLE IF EXISTS `typecho_options`;
CREATE TABLE `typecho_options` (
  `name` varchar(32) NOT NULL,
  `user` int(10) unsigned NOT NULL DEFAULT '0',
  `value` text,
  PRIMARY KEY (`name`,`user`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_options
-- ----------------------------
INSERT INTO `typecho_options` VALUES ('theme', '0', 'Baroque-Normal');
INSERT INTO `typecho_options` VALUES ('timezone', '0', '28800');
INSERT INTO `typecho_options` VALUES ('lang', '0', null);
INSERT INTO `typecho_options` VALUES ('charset', '0', 'UTF-8');
INSERT INTO `typecho_options` VALUES ('contentType', '0', 'text/html');
INSERT INTO `typecho_options` VALUES ('gzip', '0', '0');
INSERT INTO `typecho_options` VALUES ('generator', '0', 'Typecho 1.0/14.10.10');
INSERT INTO `typecho_options` VALUES ('title', '0', 'Yusure\'s Blog');
INSERT INTO `typecho_options` VALUES ('description', '0', 'Yusure的个人博客,记录了自己的coding之路');
INSERT INTO `typecho_options` VALUES ('keywords', '0', 'PHP,Mysql,服务器运维,网站开发,网络安全');
INSERT INTO `typecho_options` VALUES ('rewrite', '0', '1');
INSERT INTO `typecho_options` VALUES ('frontPage', '0', 'recent');
INSERT INTO `typecho_options` VALUES ('frontArchive', '0', '0');
INSERT INTO `typecho_options` VALUES ('commentsRequireMail', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsWhitelist', '0', '0');
INSERT INTO `typecho_options` VALUES ('commentsRequireURL', '0', '0');
INSERT INTO `typecho_options` VALUES ('commentsRequireModeration', '0', '0');
INSERT INTO `typecho_options` VALUES ('plugins', '0', 'a:2:{s:9:\"activated\";a:3:{s:5:\"Links\";a:1:{s:7:\"handles\";a:3:{s:34:\"Widget_Abstract_Contents:contentEx\";a:1:{i:0;a:2:{i:0;s:12:\"Links_Plugin\";i:1;s:5:\"parse\";}}s:34:\"Widget_Abstract_Contents:excerptEx\";a:1:{i:0;a:2:{i:0;s:12:\"Links_Plugin\";i:1;s:5:\"parse\";}}s:34:\"Widget_Abstract_Comments:contentEx\";a:1:{i:0;a:2:{i:0;s:12:\"Links_Plugin\";i:1;s:5:\"parse\";}}}}s:17:\"RandomArticleList\";a:0:{}s:8:\"EditorMD\";a:1:{s:7:\"handles\";a:5:{s:31:\"admin/write-post.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:31:\"admin/write-page.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:32:\"Widget_Abstract_Contents:content\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"content\";}}s:32:\"Widget_Abstract_Contents:excerpt\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"content\";}}s:21:\"Widget_Archive:footer\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:8:\"footerJS\";}}}}}s:7:\"handles\";a:8:{s:34:\"Widget_Abstract_Contents:contentEx\";a:1:{i:0;a:2:{i:0;s:12:\"Links_Plugin\";i:1;s:5:\"parse\";}}s:34:\"Widget_Abstract_Contents:excerptEx\";a:1:{i:0;a:2:{i:0;s:12:\"Links_Plugin\";i:1;s:5:\"parse\";}}s:34:\"Widget_Abstract_Comments:contentEx\";a:1:{i:0;a:2:{i:0;s:12:\"Links_Plugin\";i:1;s:5:\"parse\";}}s:31:\"admin/write-post.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:31:\"admin/write-page.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:32:\"Widget_Abstract_Contents:content\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"content\";}}s:32:\"Widget_Abstract_Contents:excerpt\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"content\";}}s:21:\"Widget_Archive:footer\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:8:\"footerJS\";}}}}');
INSERT INTO `typecho_options` VALUES ('commentDateFormat', '0', 'F jS, Y \\a\\t h:i a');
INSERT INTO `typecho_options` VALUES ('siteUrl', '0', 'http://test.yusure.cn');
INSERT INTO `typecho_options` VALUES ('defaultCategory', '0', '1');
INSERT INTO `typecho_options` VALUES ('allowRegister', '0', '0');
INSERT INTO `typecho_options` VALUES ('defaultAllowComment', '0', '1');
INSERT INTO `typecho_options` VALUES ('defaultAllowPing', '0', '1');
INSERT INTO `typecho_options` VALUES ('defaultAllowFeed', '0', '1');
INSERT INTO `typecho_options` VALUES ('pageSize', '0', '5');
INSERT INTO `typecho_options` VALUES ('postsListSize', '0', '10');
INSERT INTO `typecho_options` VALUES ('commentsListSize', '0', '10');
INSERT INTO `typecho_options` VALUES ('commentsHTMLTagAllowed', '0', null);
INSERT INTO `typecho_options` VALUES ('postDateFormat', '0', 'Y-m-d');
INSERT INTO `typecho_options` VALUES ('feedFullText', '0', '0');
INSERT INTO `typecho_options` VALUES ('editorSize', '0', '350');
INSERT INTO `typecho_options` VALUES ('autoSave', '0', '0');
INSERT INTO `typecho_options` VALUES ('markdown', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsMaxNestingLevels', '0', '5');
INSERT INTO `typecho_options` VALUES ('commentsPostTimeout', '0', '2592000');
INSERT INTO `typecho_options` VALUES ('commentsUrlNofollow', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsShowUrl', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsMarkdown', '0', '0');
INSERT INTO `typecho_options` VALUES ('commentsPageBreak', '0', '0');
INSERT INTO `typecho_options` VALUES ('commentsThreaded', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsPageSize', '0', '20');
INSERT INTO `typecho_options` VALUES ('commentsPageDisplay', '0', 'last');
INSERT INTO `typecho_options` VALUES ('commentsOrder', '0', 'DESC');
INSERT INTO `typecho_options` VALUES ('commentsCheckReferer', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsAutoClose', '0', '0');
INSERT INTO `typecho_options` VALUES ('commentsPostIntervalEnable', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsPostInterval', '0', '60');
INSERT INTO `typecho_options` VALUES ('commentsShowCommentOnly', '0', '0');
INSERT INTO `typecho_options` VALUES ('commentsAvatar', '0', '1');
INSERT INTO `typecho_options` VALUES ('commentsAvatarRating', '0', 'PG');
INSERT INTO `typecho_options` VALUES ('commentsAntiSpam', '0', '1');
INSERT INTO `typecho_options` VALUES ('routingTable', '0', 'a:26:{i:0;a:25:{s:5:\"index\";a:6:{s:3:\"url\";s:1:\"/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:8:\"|^[/]?$|\";s:6:\"format\";s:1:\"/\";s:6:\"params\";a:0:{}}s:7:\"archive\";a:6:{s:3:\"url\";s:6:\"/blog/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:13:\"|^/blog[/]?$|\";s:6:\"format\";s:6:\"/blog/\";s:6:\"params\";a:0:{}}s:2:\"do\";a:6:{s:3:\"url\";s:22:\"/action/[action:alpha]\";s:6:\"widget\";s:9:\"Widget_Do\";s:6:\"action\";s:6:\"action\";s:4:\"regx\";s:32:\"|^/action/([_0-9a-zA-Z-]+)[/]?$|\";s:6:\"format\";s:10:\"/action/%s\";s:6:\"params\";a:1:{i:0;s:6:\"action\";}}s:4:\"post\";a:6:{s:3:\"url\";s:23:\"/[category]/[slug].html\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:30:\"|^/([^/]+)/([^/]+)\\.html[/]?$|\";s:6:\"format\";s:11:\"/%s/%s.html\";s:6:\"params\";a:2:{i:0;s:8:\"category\";i:1;s:4:\"slug\";}}s:10:\"attachment\";a:6:{s:3:\"url\";s:26:\"/attachment/[cid:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:28:\"|^/attachment/([0-9]+)[/]?$|\";s:6:\"format\";s:15:\"/attachment/%s/\";s:6:\"params\";a:1:{i:0;s:3:\"cid\";}}s:8:\"category\";a:6:{s:3:\"url\";s:17:\"/category/[slug]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:25:\"|^/category/([^/]+)[/]?$|\";s:6:\"format\";s:13:\"/category/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"slug\";}}s:3:\"tag\";a:6:{s:3:\"url\";s:12:\"/tag/[slug]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:20:\"|^/tag/([^/]+)[/]?$|\";s:6:\"format\";s:8:\"/tag/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"slug\";}}s:6:\"author\";a:6:{s:3:\"url\";s:22:\"/author/[uid:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:24:\"|^/author/([0-9]+)[/]?$|\";s:6:\"format\";s:11:\"/author/%s/\";s:6:\"params\";a:1:{i:0;s:3:\"uid\";}}s:6:\"search\";a:6:{s:3:\"url\";s:19:\"/search/[keywords]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:23:\"|^/search/([^/]+)[/]?$|\";s:6:\"format\";s:11:\"/search/%s/\";s:6:\"params\";a:1:{i:0;s:8:\"keywords\";}}s:10:\"index_page\";a:6:{s:3:\"url\";s:21:\"/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:22:\"|^/page/([0-9]+)[/]?$|\";s:6:\"format\";s:9:\"/page/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"page\";}}s:12:\"archive_page\";a:6:{s:3:\"url\";s:26:\"/blog/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:27:\"|^/blog/page/([0-9]+)[/]?$|\";s:6:\"format\";s:14:\"/blog/page/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"page\";}}s:13:\"category_page\";a:6:{s:3:\"url\";s:32:\"/category/[slug]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:34:\"|^/category/([^/]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:16:\"/category/%s/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"slug\";i:1;s:4:\"page\";}}s:8:\"tag_page\";a:6:{s:3:\"url\";s:27:\"/tag/[slug]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:29:\"|^/tag/([^/]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:11:\"/tag/%s/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"slug\";i:1;s:4:\"page\";}}s:11:\"author_page\";a:6:{s:3:\"url\";s:37:\"/author/[uid:digital]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:33:\"|^/author/([0-9]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:14:\"/author/%s/%s/\";s:6:\"params\";a:2:{i:0;s:3:\"uid\";i:1;s:4:\"page\";}}s:11:\"search_page\";a:6:{s:3:\"url\";s:34:\"/search/[keywords]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:32:\"|^/search/([^/]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:14:\"/search/%s/%s/\";s:6:\"params\";a:2:{i:0;s:8:\"keywords\";i:1;s:4:\"page\";}}s:12:\"archive_year\";a:6:{s:3:\"url\";s:18:\"/[year:digital:4]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:19:\"|^/([0-9]{4})[/]?$|\";s:6:\"format\";s:4:\"/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"year\";}}s:13:\"archive_month\";a:6:{s:3:\"url\";s:36:\"/[year:digital:4]/[month:digital:2]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:30:\"|^/([0-9]{4})/([0-9]{2})[/]?$|\";s:6:\"format\";s:7:\"/%s/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"year\";i:1;s:5:\"month\";}}s:11:\"archive_day\";a:6:{s:3:\"url\";s:52:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:41:\"|^/([0-9]{4})/([0-9]{2})/([0-9]{2})[/]?$|\";s:6:\"format\";s:10:\"/%s/%s/%s/\";s:6:\"params\";a:3:{i:0;s:4:\"year\";i:1;s:5:\"month\";i:2;s:3:\"day\";}}s:17:\"archive_year_page\";a:6:{s:3:\"url\";s:38:\"/[year:digital:4]/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:33:\"|^/([0-9]{4})/page/([0-9]+)[/]?$|\";s:6:\"format\";s:12:\"/%s/page/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"year\";i:1;s:4:\"page\";}}s:18:\"archive_month_page\";a:6:{s:3:\"url\";s:56:\"/[year:digital:4]/[month:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:44:\"|^/([0-9]{4})/([0-9]{2})/page/([0-9]+)[/]?$|\";s:6:\"format\";s:15:\"/%s/%s/page/%s/\";s:6:\"params\";a:3:{i:0;s:4:\"year\";i:1;s:5:\"month\";i:2;s:4:\"page\";}}s:16:\"archive_day_page\";a:6:{s:3:\"url\";s:72:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:55:\"|^/([0-9]{4})/([0-9]{2})/([0-9]{2})/page/([0-9]+)[/]?$|\";s:6:\"format\";s:18:\"/%s/%s/%s/page/%s/\";s:6:\"params\";a:4:{i:0;s:4:\"year\";i:1;s:5:\"month\";i:2;s:3:\"day\";i:3;s:4:\"page\";}}s:12:\"comment_page\";a:6:{s:3:\"url\";s:53:\"[permalink:string]/comment-page-[commentPage:digital]\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:36:\"|^(.+)/comment\\-page\\-([0-9]+)[/]?$|\";s:6:\"format\";s:18:\"%s/comment-page-%s\";s:6:\"params\";a:2:{i:0;s:9:\"permalink\";i:1;s:11:\"commentPage\";}}s:4:\"feed\";a:6:{s:3:\"url\";s:20:\"/feed[feed:string:0]\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:4:\"feed\";s:4:\"regx\";s:17:\"|^/feed(.*)[/]?$|\";s:6:\"format\";s:7:\"/feed%s\";s:6:\"params\";a:1:{i:0;s:4:\"feed\";}}s:8:\"feedback\";a:6:{s:3:\"url\";s:31:\"[permalink:string]/[type:alpha]\";s:6:\"widget\";s:15:\"Widget_Feedback\";s:6:\"action\";s:6:\"action\";s:4:\"regx\";s:29:\"|^(.+)/([_0-9a-zA-Z-]+)[/]?$|\";s:6:\"format\";s:5:\"%s/%s\";s:6:\"params\";a:2:{i:0;s:9:\"permalink\";i:1;s:4:\"type\";}}s:4:\"page\";a:6:{s:3:\"url\";s:12:\"/[slug].html\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:22:\"|^/([^/]+)\\.html[/]?$|\";s:6:\"format\";s:8:\"/%s.html\";s:6:\"params\";a:1:{i:0;s:4:\"slug\";}}}s:5:\"index\";a:3:{s:3:\"url\";s:1:\"/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:7:\"archive\";a:3:{s:3:\"url\";s:6:\"/blog/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:2:\"do\";a:3:{s:3:\"url\";s:22:\"/action/[action:alpha]\";s:6:\"widget\";s:9:\"Widget_Do\";s:6:\"action\";s:6:\"action\";}s:4:\"post\";a:3:{s:3:\"url\";s:23:\"/[category]/[slug].html\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:10:\"attachment\";a:3:{s:3:\"url\";s:26:\"/attachment/[cid:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:8:\"category\";a:3:{s:3:\"url\";s:17:\"/category/[slug]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:3:\"tag\";a:3:{s:3:\"url\";s:12:\"/tag/[slug]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:6:\"author\";a:3:{s:3:\"url\";s:22:\"/author/[uid:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:6:\"search\";a:3:{s:3:\"url\";s:19:\"/search/[keywords]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:10:\"index_page\";a:3:{s:3:\"url\";s:21:\"/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:12:\"archive_page\";a:3:{s:3:\"url\";s:26:\"/blog/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:13:\"category_page\";a:3:{s:3:\"url\";s:32:\"/category/[slug]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:8:\"tag_page\";a:3:{s:3:\"url\";s:27:\"/tag/[slug]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:11:\"author_page\";a:3:{s:3:\"url\";s:37:\"/author/[uid:digital]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:11:\"search_page\";a:3:{s:3:\"url\";s:34:\"/search/[keywords]/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:12:\"archive_year\";a:3:{s:3:\"url\";s:18:\"/[year:digital:4]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:13:\"archive_month\";a:3:{s:3:\"url\";s:36:\"/[year:digital:4]/[month:digital:2]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:11:\"archive_day\";a:3:{s:3:\"url\";s:52:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:17:\"archive_year_page\";a:3:{s:3:\"url\";s:38:\"/[year:digital:4]/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:18:\"archive_month_page\";a:3:{s:3:\"url\";s:56:\"/[year:digital:4]/[month:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:16:\"archive_day_page\";a:3:{s:3:\"url\";s:72:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:12:\"comment_page\";a:3:{s:3:\"url\";s:53:\"[permalink:string]/comment-page-[commentPage:digital]\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}s:4:\"feed\";a:3:{s:3:\"url\";s:20:\"/feed[feed:string:0]\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:4:\"feed\";}s:8:\"feedback\";a:3:{s:3:\"url\";s:31:\"[permalink:string]/[type:alpha]\";s:6:\"widget\";s:15:\"Widget_Feedback\";s:6:\"action\";s:6:\"action\";}s:4:\"page\";a:3:{s:3:\"url\";s:12:\"/[slug].html\";s:6:\"widget\";s:14:\"Widget_Archive\";s:6:\"action\";s:6:\"render\";}}');
INSERT INTO `typecho_options` VALUES ('actionTable', '0', 'a:1:{s:10:\"links-edit\";s:12:\"Links_Action\";}');
INSERT INTO `typecho_options` VALUES ('panelTable', '0', 'a:2:{s:5:\"child\";a:2:{i:3;a:1:{i:0;a:6:{i:0;s:12:\"友情链接\";i:1;s:18:\"管理友情链接\";i:2;s:44:\"extending.php?panel=Links%2Fmanage-links.php\";i:3;s:13:\"administrator\";i:4;b:0;i:5;s:0:\"\";}}i:0;a:0:{}}s:4:\"file\";a:1:{i:0;s:24:\"Links%2Fmanage-links.php\";}}');
INSERT INTO `typecho_options` VALUES ('attachmentTypes', '0', '@image@,@media@,@doc@');
INSERT INTO `typecho_options` VALUES ('secret', '0', '8baI6s&P6)wkNNQuq50QPepl6naOVLQ$');
INSERT INTO `typecho_options` VALUES ('autoSave', '1', '1');
INSERT INTO `typecho_options` VALUES ('markdown', '1', '1');
INSERT INTO `typecho_options` VALUES ('defaultAllowComment', '1', '1');
INSERT INTO `typecho_options` VALUES ('defaultAllowPing', '1', '1');
INSERT INTO `typecho_options` VALUES ('defaultAllowFeed', '1', '1');
INSERT INTO `typecho_options` VALUES ('plugin:RandomArticleList', '0', 'a:4:{s:6:\"numset\";s:1:\"a\";s:3:\"num\";s:1:\"1\";s:5:\"cache\";s:1:\"1\";s:12:\"title_length\";s:1:\"0\";}');
INSERT INTO `typecho_options` VALUES ('plugin:EditorMD', '0', 'a:2:{s:5:\"emoji\";s:1:\"1\";s:8:\"isActive\";s:1:\"0\";}');

-- ----------------------------
-- Table structure for typecho_relationships
-- ----------------------------
DROP TABLE IF EXISTS `typecho_relationships`;
CREATE TABLE `typecho_relationships` (
  `cid` int(10) unsigned NOT NULL,
  `mid` int(10) unsigned NOT NULL,
  PRIMARY KEY (`cid`,`mid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_relationships
-- ----------------------------
INSERT INTO `typecho_relationships` VALUES ('9', '6');
INSERT INTO `typecho_relationships` VALUES ('15', '5');
INSERT INTO `typecho_relationships` VALUES ('20', '4');
INSERT INTO `typecho_relationships` VALUES ('21', '7');
INSERT INTO `typecho_relationships` VALUES ('21', '9');
INSERT INTO `typecho_relationships` VALUES ('21', '16');
INSERT INTO `typecho_relationships` VALUES ('24', '4');
INSERT INTO `typecho_relationships` VALUES ('24', '9');
INSERT INTO `typecho_relationships` VALUES ('24', '17');
INSERT INTO `typecho_relationships` VALUES ('24', '18');
INSERT INTO `typecho_relationships` VALUES ('24', '19');
INSERT INTO `typecho_relationships` VALUES ('25', '4');
INSERT INTO `typecho_relationships` VALUES ('25', '9');
INSERT INTO `typecho_relationships` VALUES ('25', '20');
INSERT INTO `typecho_relationships` VALUES ('25', '21');
INSERT INTO `typecho_relationships` VALUES ('25', '22');
INSERT INTO `typecho_relationships` VALUES ('26', '4');
INSERT INTO `typecho_relationships` VALUES ('26', '9');
INSERT INTO `typecho_relationships` VALUES ('26', '23');
INSERT INTO `typecho_relationships` VALUES ('28', '4');
INSERT INTO `typecho_relationships` VALUES ('28', '20');
INSERT INTO `typecho_relationships` VALUES ('28', '21');
INSERT INTO `typecho_relationships` VALUES ('30', '4');
INSERT INTO `typecho_relationships` VALUES ('30', '9');
INSERT INTO `typecho_relationships` VALUES ('31', '24');
INSERT INTO `typecho_relationships` VALUES ('31', '25');
INSERT INTO `typecho_relationships` VALUES ('33', '4');
INSERT INTO `typecho_relationships` VALUES ('33', '7');
INSERT INTO `typecho_relationships` VALUES ('33', '9');
INSERT INTO `typecho_relationships` VALUES ('33', '16');
INSERT INTO `typecho_relationships` VALUES ('34', '4');
INSERT INTO `typecho_relationships` VALUES ('34', '9');
INSERT INTO `typecho_relationships` VALUES ('35', '4');
INSERT INTO `typecho_relationships` VALUES ('35', '9');
INSERT INTO `typecho_relationships` VALUES ('42', '24');
INSERT INTO `typecho_relationships` VALUES ('42', '25');
INSERT INTO `typecho_relationships` VALUES ('43', '4');
INSERT INTO `typecho_relationships` VALUES ('43', '27');
INSERT INTO `typecho_relationships` VALUES ('44', '7');
INSERT INTO `typecho_relationships` VALUES ('45', '28');
INSERT INTO `typecho_relationships` VALUES ('45', '29');
INSERT INTO `typecho_relationships` VALUES ('46', '4');
INSERT INTO `typecho_relationships` VALUES ('46', '9');
INSERT INTO `typecho_relationships` VALUES ('47', '4');
INSERT INTO `typecho_relationships` VALUES ('47', '28');
INSERT INTO `typecho_relationships` VALUES ('48', '4');
INSERT INTO `typecho_relationships` VALUES ('48', '9');
INSERT INTO `typecho_relationships` VALUES ('48', '28');
INSERT INTO `typecho_relationships` VALUES ('48', '30');
INSERT INTO `typecho_relationships` VALUES ('50', '4');
INSERT INTO `typecho_relationships` VALUES ('50', '9');
INSERT INTO `typecho_relationships` VALUES ('50', '28');
INSERT INTO `typecho_relationships` VALUES ('50', '30');
INSERT INTO `typecho_relationships` VALUES ('52', '7');
INSERT INTO `typecho_relationships` VALUES ('54', '4');
INSERT INTO `typecho_relationships` VALUES ('58', '4');
INSERT INTO `typecho_relationships` VALUES ('58', '9');
INSERT INTO `typecho_relationships` VALUES ('59', '4');
INSERT INTO `typecho_relationships` VALUES ('59', '9');
INSERT INTO `typecho_relationships` VALUES ('61', '4');
INSERT INTO `typecho_relationships` VALUES ('62', '28');
INSERT INTO `typecho_relationships` VALUES ('62', '31');
INSERT INTO `typecho_relationships` VALUES ('63', '4');
INSERT INTO `typecho_relationships` VALUES ('63', '32');
INSERT INTO `typecho_relationships` VALUES ('64', '4');
INSERT INTO `typecho_relationships` VALUES ('69', '5');
INSERT INTO `typecho_relationships` VALUES ('71', '7');
INSERT INTO `typecho_relationships` VALUES ('71', '16');
INSERT INTO `typecho_relationships` VALUES ('73', '4');
INSERT INTO `typecho_relationships` VALUES ('73', '20');
INSERT INTO `typecho_relationships` VALUES ('75', '7');
INSERT INTO `typecho_relationships` VALUES ('75', '16');
INSERT INTO `typecho_relationships` VALUES ('80', '5');
INSERT INTO `typecho_relationships` VALUES ('81', '5');
INSERT INTO `typecho_relationships` VALUES ('83', '33');
INSERT INTO `typecho_relationships` VALUES ('88', '5');
INSERT INTO `typecho_relationships` VALUES ('89', '4');
INSERT INTO `typecho_relationships` VALUES ('89', '9');
INSERT INTO `typecho_relationships` VALUES ('90', '4');
INSERT INTO `typecho_relationships` VALUES ('90', '9');
INSERT INTO `typecho_relationships` VALUES ('90', '35');
INSERT INTO `typecho_relationships` VALUES ('93', '7');
INSERT INTO `typecho_relationships` VALUES ('94', '7');
INSERT INTO `typecho_relationships` VALUES ('95', '5');
INSERT INTO `typecho_relationships` VALUES ('95', '6');
INSERT INTO `typecho_relationships` VALUES ('97', '4');
INSERT INTO `typecho_relationships` VALUES ('97', '9');
INSERT INTO `typecho_relationships` VALUES ('98', '5');
INSERT INTO `typecho_relationships` VALUES ('98', '35');
INSERT INTO `typecho_relationships` VALUES ('109', '4');
INSERT INTO `typecho_relationships` VALUES ('111', '6');
INSERT INTO `typecho_relationships` VALUES ('112', '7');
INSERT INTO `typecho_relationships` VALUES ('114', '6');
INSERT INTO `typecho_relationships` VALUES ('115', '34');
INSERT INTO `typecho_relationships` VALUES ('115', '35');
INSERT INTO `typecho_relationships` VALUES ('117', '5');
INSERT INTO `typecho_relationships` VALUES ('122', '5');
INSERT INTO `typecho_relationships` VALUES ('122', '36');
INSERT INTO `typecho_relationships` VALUES ('125', '5');
INSERT INTO `typecho_relationships` VALUES ('125', '6');
INSERT INTO `typecho_relationships` VALUES ('126', '4');
INSERT INTO `typecho_relationships` VALUES ('127', '4');
INSERT INTO `typecho_relationships` VALUES ('130', '33');
INSERT INTO `typecho_relationships` VALUES ('131', '4');
INSERT INTO `typecho_relationships` VALUES ('132', '7');
INSERT INTO `typecho_relationships` VALUES ('133', '35');
INSERT INTO `typecho_relationships` VALUES ('134', '4');
INSERT INTO `typecho_relationships` VALUES ('136', '4');
INSERT INTO `typecho_relationships` VALUES ('138', '5');
INSERT INTO `typecho_relationships` VALUES ('138', '6');
INSERT INTO `typecho_relationships` VALUES ('140', '7');
INSERT INTO `typecho_relationships` VALUES ('141', '7');
INSERT INTO `typecho_relationships` VALUES ('143', '7');
INSERT INTO `typecho_relationships` VALUES ('144', '4');
INSERT INTO `typecho_relationships` VALUES ('146', '4');
INSERT INTO `typecho_relationships` VALUES ('155', '6');
INSERT INTO `typecho_relationships` VALUES ('161', '4');
INSERT INTO `typecho_relationships` VALUES ('161', '27');
INSERT INTO `typecho_relationships` VALUES ('161', '28');
INSERT INTO `typecho_relationships` VALUES ('163', '33');
INSERT INTO `typecho_relationships` VALUES ('166', '7');
INSERT INTO `typecho_relationships` VALUES ('169', '37');
INSERT INTO `typecho_relationships` VALUES ('169', '38');
INSERT INTO `typecho_relationships` VALUES ('174', '7');
INSERT INTO `typecho_relationships` VALUES ('174', '39');
INSERT INTO `typecho_relationships` VALUES ('175', '4');
INSERT INTO `typecho_relationships` VALUES ('175', '9');
INSERT INTO `typecho_relationships` VALUES ('178', '34');
INSERT INTO `typecho_relationships` VALUES ('178', '35');
INSERT INTO `typecho_relationships` VALUES ('178', '39');
INSERT INTO `typecho_relationships` VALUES ('180', '32');
INSERT INTO `typecho_relationships` VALUES ('180', '33');
INSERT INTO `typecho_relationships` VALUES ('182', '39');
INSERT INTO `typecho_relationships` VALUES ('182', '40');
INSERT INTO `typecho_relationships` VALUES ('183', '4');
INSERT INTO `typecho_relationships` VALUES ('183', '41');

-- ----------------------------
-- Table structure for typecho_users
-- ----------------------------
DROP TABLE IF EXISTS `typecho_users`;
CREATE TABLE `typecho_users` (
  `uid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(32) DEFAULT NULL,
  `password` varchar(64) DEFAULT NULL,
  `mail` varchar(200) DEFAULT NULL,
  `url` varchar(200) DEFAULT NULL,
  `screenName` varchar(32) DEFAULT NULL,
  `created` int(10) unsigned DEFAULT '0',
  `activated` int(10) unsigned DEFAULT '0',
  `logged` int(10) unsigned DEFAULT '0',
  `group` varchar(16) DEFAULT 'visitor',
  `authCode` varchar(64) DEFAULT NULL,
  PRIMARY KEY (`uid`),
  UNIQUE KEY `name` (`name`) USING BTREE,
  UNIQUE KEY `mail` (`mail`) USING BTREE
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of typecho_users
-- ----------------------------
INSERT INTO `typecho_users` VALUES ('1', 'admin', '$P$B1G1Mj.ecsuOPnMceWHCBU2I8jIeXK0', 'czhyusure@163.com', 'http://test.yusure.cn', 'yusure', '1441113705', '1514902550', '1512716853', 'administrator', '1535b5c3c9aa521b76698141c5980410');
